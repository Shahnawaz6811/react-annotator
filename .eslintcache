[{"/Users/shahn/dev/annotator/custom_annotator/src/App.js":"1","/Users/shahn/dev/annotator/custom_annotator/src/components/Annotator.js":"2","/Users/shahn/dev/annotator/custom_annotator/src/components/ContrastBrightness.js":"3","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/combine-reducers.js":"4","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/image-reducer.js":"5","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/index.js":"6","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ShortcutsManager/index.js":"7","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HistorySidebarBox/index.js":"8","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Workspace/index.js":"9","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/index.js":"10","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-dictionary.js":"11","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/convert-expanding-line-to-polygon.js":"12","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/ImageSwitcher/index.js":"13","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/utils/get-landmarks-with-transform.js":"14","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/index.js":"15","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageMask/index.js":"16","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectAndTransformBoxes/index.js":"17","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/FooterButton/index.js":"18","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/ObjectSelector.js":"19","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HighlightBox/index.js":"20","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/styles.js":"21","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-exclude-pattern.js":"22","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Crosshairs/index.js":"23","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PointDistances/index.js":"24","/Users/shahn/dev/annotator/custom_annotator/src/components/message.js":"25","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SettingsProvider/index.js":"26","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/video-reducer.js":"27","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-implied-video-regions.js":"28","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/styles.js":"29","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageSelectorSidebarBox/index.js":"30","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframesSelectorSidebarBox/index.js":"31","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TagsSidebarBox/index.js":"32","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/WorkContainer/index.js":"33","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectorSidebarBox/styles.js":"34","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-wasd-mode.js":"35","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-mapping.js":"36","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/styles.js":"37","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/colors.js":"38","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-project-box.js":"39","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-window-size.js":"40","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionTags/index.js":"41","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-mouse.js":"42","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageMask/load-image.js":"43","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/index.js":"44","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-active-image.js":"45","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/use-implied-video-regions.js":"46","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SettingsDialog/index.js":"47","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/icon-dictionary.js":"48","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/index.js":"49","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/region-tools.js":"50","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PreventScrollToParents/index.js":"51","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/xpattern.js":"52","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/styles.js":"53","/Users/shahn/dev/annotator/custom_annotator/src/components/images.js":"54","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/index.js":"55","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/Slider.js":"56","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/LabelSelector.js":"57","/Users/shahn/dev/annotator/custom_annotator/src/components/ImageFilters.js":"58","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectorSidebarBox/index.js":"59","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/get-time-string.js":"60","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/general-reducer.js":"61","/Users/shahn/dev/annotator/custom_annotator/src/reportWebVitals.js":"62","/Users/shahn/dev/annotator/custom_annotator/src/index.js":"63","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/history-handler.js":"64","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SidebarBoxContainer/index.js":"65","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionShapes/index.js":"66","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/VideoOrImageCanvasBackground/index.js":"67","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/fix-twisted.js":"68","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/DebugSidebarBox/index.js":"69","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Footer/index.js":"70","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TaskDescriptionSidebarBox/index.js":"71","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/index.js":"72"},{"size":718,"mtime":1607504228876,"results":"73","hashOfConfig":"74"},{"size":970,"mtime":1607510496388,"results":"75","hashOfConfig":"74"},{"size":1103,"mtime":1607082108966,"results":"76","hashOfConfig":"74"},{"size":145,"mtime":1606844305796,"results":"77","hashOfConfig":"74"},{"size":615,"mtime":1606844305806,"results":"78","hashOfConfig":"74"},{"size":12318,"mtime":1607509243353,"results":"79","hashOfConfig":"74"},{"size":3464,"mtime":1607354901182,"results":"80","hashOfConfig":"74"},{"size":2107,"mtime":1606844305995,"results":"81","hashOfConfig":"74"},{"size":3089,"mtime":1607509188463,"results":"82","hashOfConfig":"74"},{"size":14043,"mtime":1607491865004,"results":"83","hashOfConfig":"74"},{"size":225,"mtime":1606844306073,"results":"84","hashOfConfig":"74"},{"size":1571,"mtime":1606844305798,"results":"85","hashOfConfig":"74"},{"size":840,"mtime":1607356965875,"results":"86","hashOfConfig":"74"},{"size":538,"mtime":1606844306059,"results":"87","hashOfConfig":"74"},{"size":2225,"mtime":1607509581110,"results":"88","hashOfConfig":"74"},{"size":3166,"mtime":1606844306009,"results":"89","hashOfConfig":"74"},{"size":7134,"mtime":1607071154153,"results":"90","hashOfConfig":"74"},{"size":1901,"mtime":1607327976073,"results":"91","hashOfConfig":"74"},{"size":6402,"mtime":1607354277060,"results":"92","hashOfConfig":"74"},{"size":3342,"mtime":1606844305995,"results":"93","hashOfConfig":"74"},{"size":552,"mtime":1606844306006,"results":"94","hashOfConfig":"74"},{"size":707,"mtime":1606844306036,"results":"95","hashOfConfig":"74"},{"size":1311,"mtime":1606844305808,"results":"96","hashOfConfig":"74"},{"size":2331,"mtime":1606844306019,"results":"97","hashOfConfig":"74"},{"size":336,"mtime":1607501775159,"results":"98","hashOfConfig":"74"},{"size":1235,"mtime":1606844306029,"results":"99","hashOfConfig":"74"},{"size":2248,"mtime":1607354863652,"results":"100","hashOfConfig":"74"},{"size":2704,"mtime":1606844305804,"results":"101","hashOfConfig":"74"},{"size":481,"mtime":1606844306018,"results":"102","hashOfConfig":"74"},{"size":1715,"mtime":1607500967642,"results":"103","hashOfConfig":"74"},{"size":2198,"mtime":1606844306012,"results":"104","hashOfConfig":"74"},{"size":2670,"mtime":1606844306033,"results":"105","hashOfConfig":"74"},{"size":633,"mtime":1606844306068,"results":"106","hashOfConfig":"74"},{"size":993,"mtime":1606844306026,"results":"107","hashOfConfig":"74"},{"size":1382,"mtime":1606844306008,"results":"108","hashOfConfig":"74"},{"size":1634,"mtime":1607368707428,"results":"109","hashOfConfig":"74"},{"size":1044,"mtime":1606898207916,"results":"110","hashOfConfig":"74"},{"size":734,"mtime":1606844306035,"results":"111","hashOfConfig":"74"},{"size":639,"mtime":1606844306007,"results":"112","hashOfConfig":"74"},{"size":1012,"mtime":1606844306037,"results":"113","hashOfConfig":"74"},{"size":3550,"mtime":1606844306027,"results":"114","hashOfConfig":"74"},{"size":4583,"mtime":1607360065794,"results":"115","hashOfConfig":"74"},{"size":778,"mtime":1606844306009,"results":"116","hashOfConfig":"74"},{"size":5906,"mtime":1607505087075,"results":"117","hashOfConfig":"74"},{"size":691,"mtime":1606844305803,"results":"118","hashOfConfig":"74"},{"size":533,"mtime":1606844306019,"results":"119","hashOfConfig":"74"},{"size":1762,"mtime":1606844306028,"results":"120","hashOfConfig":"74"},{"size":2632,"mtime":1606844306016,"results":"121","hashOfConfig":"74"},{"size":5268,"mtime":1606844306011,"results":"122","hashOfConfig":"74"},{"size":3451,"mtime":1606844306001,"results":"123","hashOfConfig":"74"},{"size":1034,"mtime":1606844306021,"results":"124","hashOfConfig":"74"},{"size":280,"mtime":1606844306038,"results":"125","hashOfConfig":"74"},{"size":906,"mtime":1606844306023,"results":"126","hashOfConfig":"74"},{"size":1274,"mtime":1607348995824,"results":"127","hashOfConfig":"74"},{"size":4908,"mtime":1606844306022,"results":"128","hashOfConfig":"74"},{"size":1358,"mtime":1607336363664,"results":"129","hashOfConfig":"74"},{"size":6037,"mtime":1607349273018,"results":"130","hashOfConfig":"74"},{"size":1895,"mtime":1607082461015,"results":"131","hashOfConfig":"74"},{"size":5300,"mtime":1606844306025,"results":"132","hashOfConfig":"74"},{"size":500,"mtime":1606844306010,"results":"133","hashOfConfig":"74"},{"size":35129,"mtime":1607509876687,"results":"134","hashOfConfig":"74"},{"size":362,"mtime":1606488260403,"results":"135","hashOfConfig":"74"},{"size":457,"mtime":1606844306078,"results":"136","hashOfConfig":"74"},{"size":1512,"mtime":1606844305805,"results":"137","hashOfConfig":"74"},{"size":2657,"mtime":1607420305864,"results":"138","hashOfConfig":"74"},{"size":6796,"mtime":1607492558659,"results":"139","hashOfConfig":"74"},{"size":4881,"mtime":1607490092687,"results":"140","hashOfConfig":"74"},{"size":155,"mtime":1606844305800,"results":"141","hashOfConfig":"74"},{"size":978,"mtime":1606844305810,"results":"142","hashOfConfig":"74"},{"size":2881,"mtime":1607441145287,"results":"143","hashOfConfig":"74"},{"size":1090,"mtime":1606844306033,"results":"144","hashOfConfig":"74"},{"size":6014,"mtime":1607349145597,"results":"145","hashOfConfig":"74"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"149"},"18saq4t",{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"154"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"157","messages":"158","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"159","usedDeprecatedRules":"160"},{"filePath":"161","messages":"162","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"166","usedDeprecatedRules":"167"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"170","usedDeprecatedRules":"167"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"176","usedDeprecatedRules":"160"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"181","usedDeprecatedRules":"182"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"188"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"191","messages":"192","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"173"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"182"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"182"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201","usedDeprecatedRules":"182"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"182"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"209","usedDeprecatedRules":"210"},{"filePath":"211","messages":"212","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"213","usedDeprecatedRules":"182"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"218"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"182"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"223","usedDeprecatedRules":"182"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"226","usedDeprecatedRules":"182"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"229","usedDeprecatedRules":"160"},{"filePath":"230","messages":"231","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"232","usedDeprecatedRules":"173"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"237","usedDeprecatedRules":"167"},{"filePath":"238","messages":"239","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"240","usedDeprecatedRules":"182"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"243","usedDeprecatedRules":"154"},{"filePath":"244","messages":"245","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"246","usedDeprecatedRules":"247"},{"filePath":"248","messages":"249","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"250"},{"filePath":"251","messages":"252","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"253","usedDeprecatedRules":"182"},{"filePath":"254","messages":"255","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"160"},{"filePath":"256","messages":"257","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"258","usedDeprecatedRules":"182"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"261","usedDeprecatedRules":"173"},{"filePath":"262","messages":"263","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"264","usedDeprecatedRules":"182"},{"filePath":"265","messages":"266","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"267","usedDeprecatedRules":"182"},{"filePath":"268","messages":"269","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"270","messages":"271","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"272","usedDeprecatedRules":"160"},{"filePath":"273","messages":"274","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"275","usedDeprecatedRules":"160"},{"filePath":"276","messages":"277","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"278","usedDeprecatedRules":"182"},{"filePath":"279","messages":"280","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"281","messages":"282","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"283","messages":"284","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"285","usedDeprecatedRules":"250"},{"filePath":"286","messages":"287","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"288","usedDeprecatedRules":"182"},{"filePath":"289","messages":"290","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"291","messages":"292","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"293","usedDeprecatedRules":"250"},{"filePath":"294","messages":"295","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"296","messages":"297","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"298","messages":"299","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"300","usedDeprecatedRules":"173"},{"filePath":"301","messages":"302","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"303","usedDeprecatedRules":"182"},{"filePath":"304","messages":"305","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"306","usedDeprecatedRules":"160"},{"filePath":"307","messages":"308","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"309","messages":"310","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"311","usedDeprecatedRules":"173"},{"filePath":"312","messages":"313","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"250"},{"filePath":"314","messages":"315","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"316","messages":"317","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"218"},{"filePath":"318","messages":"319","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"320","messages":"321","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"322","usedDeprecatedRules":"182"},{"filePath":"323","messages":"324","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"325","usedDeprecatedRules":"173"},{"filePath":"326","messages":"327","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"328","usedDeprecatedRules":"173"},{"filePath":"329","messages":"330","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"331","usedDeprecatedRules":"182"},{"filePath":"332","messages":"333","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"334","messages":"335","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"336","messages":"337","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"173"},{"filePath":"338","messages":"339","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"340","messages":"341","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/shahn/dev/annotator/custom_annotator/src/App.js",["342"],"import './App.css';\nimport Annotator from './components/Annotator';\nimport { SnackbarProvider, withSnackbar } from 'notistack'\nimport Message from './components/message';\nimport React,{useEffect} from 'react'\n\nfunction AppCore(props) {\n  useEffect(() => {\n    Message.registerNotistakEnqueueSnackbar(\n      props.enqueueSnackbar\n    )\n  }, []);\n  return (\n      <Annotator />\n  );\n}\n\n\n\nconst App  = (props) => {\n\n    const AppWithSnackbar = withSnackbar(AppCore)\n\n    return (\n      <SnackbarProvider\n        maxSnack={3}\n        anchorOrigin={{\n          horizontal: 'right',\n          vertical: 'top'\n        }}\n      >\n        <AppWithSnackbar {...props} />\n      </SnackbarProvider>\n    )\n}\nexport default App;\n\n\n\n",["343","344"],"/Users/shahn/dev/annotator/custom_annotator/src/components/Annotator.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/components/ContrastBrightness.js",[],["345","346"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/combine-reducers.js",["347"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/image-reducer.js",["348","349","350","351"],"// @flow\n\nimport type {\n  MainLayoutImageAnnotationState,\n  Action,\n} from \"../../MainLayout/types\"\nimport { setIn } from \"seamless-immutable\"\nimport getActiveImage from \"./get-active-image\"\n\nexport default (state: MainLayoutImageAnnotationState, action: Action) => {\n  const { currentImageIndex, pathToActiveImage, activeImage } = getActiveImage(\n    state\n  )\n\n  switch (action.type) {\n    case \"IMAGE_OR_VIDEO_LOADED\": {\n      return setIn(state, [\"images\", currentImageIndex, \"pixelSize\"], {\n        w: action.metadata.naturalWidth,\n        h: action.metadata.naturalHeight,\n      })\n    }\n  }\n  return state\n}\n",["352","353"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/index.js",["354"],"// @flow\n\nimport React, { useRef, useCallback,useState } from \"react\"\nimport type { Node } from \"react\"\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\nimport ImageCanvas from \"../ImageCanvas\"\nimport styles from \"./styles\"\nimport type { MainLayoutState, Action } from \"./types\"\nimport useKey from \"use-key-hook\"\nimport classnames from \"classnames\"\nimport { useSettings } from \"../SettingsProvider\"\nimport SettingsDialog from \"../SettingsDialog\"\n// import Fullscreen from \"../Fullscreen\"\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\"\nimport getActiveImage from \"../Annotator/reducers/get-active-image\"\nimport useImpliedVideoRegions from \"./use-implied-video-regions\"\nimport { useDispatchHotkeyHandlers } from \"../ShortcutsManager\"\nimport { withHotKeys } from \"react-hotkeys\"\nimport iconDictionary from \"./icon-dictionary\"\nimport KeyframeTimeline from \"../KeyframeTimeline\"\nimport Workspace from \"../../../Workspace/src/Workspace/index\"\nimport DebugBox from \"../DebugSidebarBox\"\nimport TagsSidebarBox from \"../TagsSidebarBox\"\nimport KeyframesSelector from \"../KeyframesSelectorSidebarBox\"\nimport TaskDescription from \"../TaskDescriptionSidebarBox\"\nimport RegionSelector from \"../RegionSelectorSidebarBox\"\nimport ImageSelector from \"../ImageSelectorSidebarBox\"\nimport HistorySidebarBox from \"../HistorySidebarBox\"\nimport useEventCallback from \"use-event-callback\"\n\nconst emptyArr = []\nconst useStyles = makeStyles(styles)\n\nconst HotkeyDiv = withHotKeys(({ hotKeys, children, divRef, ...props }) => (\n  <div {...{ ...hotKeys, ...props }} ref={divRef}>\n    {children}\n  </div>\n))\n\nconst FullScreenContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n  \"& .fullscreen\": {\n    width: \"100%\",\n    height: \"100%\",\n  },\n})\n\ntype Props = {\n  state: MainLayoutState,\n  RegionEditLabel?: Node,\n  dispatch: (Action) => any,\n  alwaysShowNextButton?: boolean,\n  alwaysShowPrevButton?: boolean,\n  onRegionClassAdded: () => {},\n}\n\nexport const MainLayout = ({\n  state,\n  dispatch,\n  alwaysShowNextButton = false,\n  alwaysShowPrevButton = false,\n  RegionEditLabel,\n  renderError,\n  onRegionClassAdded,\n}: Props) => {\n  const classes = useStyles()\n  const settings = useSettings()\n  const fullScreenHandle = useFullScreenHandle()\n  const [mouseEvents, setMouseEvents] = useState();\n\n  const memoizedActionFns = useRef({})\n  const action = (type: string, ...params: Array<string>) => {\n    const fnKey = `${type}(${params.join(\",\")})`\n    if (memoizedActionFns.current[fnKey])\n      return memoizedActionFns.current[fnKey]\n\n    const fn = (...args: any) =>\n      params.length > 0\n        ? dispatch(\n            ({\n              type,\n              ...params.reduce((acc, p, i) => ((acc[p] = args[i]), acc), {}),\n            }: any)\n          )\n        : dispatch({ type, ...args[0] })\n    memoizedActionFns.current[fnKey] = fn\n    return fn\n  }\n\n  const { currentImageIndex, activeImage } = getActiveImage(state)\n  let nextImage\n  if (currentImageIndex !== null) {\n    nextImage = state.images[currentImageIndex + 1]\n  }\n  // console.log('ActiveImage: ',activeImage)\n  useKey(() => dispatch({ type: \"CANCEL\" }), {\n    detectKeys: [27],\n  })\n\n\n  const onRegionChange = useEventCallback((regionData,imageDimen) => {\n    // console.log('R: ', r);\n    dispatch({ type: \"CHANGE_REGION_DATA\",payload: {regionData,imageDimen}})\n  })\n\n  const isAVideoFrame = activeImage && activeImage.frameTime !== undefined\n  const innerContainerRef = useRef()\n  const hotkeyHandlers = useDispatchHotkeyHandlers({ dispatch })\n\n  let impliedVideoRegions = useImpliedVideoRegions(state)\n\n  const refocusOnMouseEvent = useCallback((e) => {\n    if (!innerContainerRef.current) return\n    if (innerContainerRef.current.contains(document.activeElement)) return\n    if (innerContainerRef.current.contains(e.target)) {\n      innerContainerRef.current.focus()\n      e.target.focus()\n    }\n  }, [])\n\n  const canvas = (\n    <ImageCanvas\n      {...settings}\n      showCrosshairs={\n        settings.showCrosshairs &&\n        ![\"select\", \"pan\", \"zoom\"].includes(state.selectedTool)\n      }\n      onRegionChange={onRegionChange}\n      key={state.selectedImage}\n      showMask={state.showMask}\n      fullImageSegmentationMode={state.fullImageSegmentationMode}\n      autoSegmentationOptions={state.autoSegmentationOptions}\n      showTags={state.showTags}\n      allowedArea={state.allowedArea}\n      modifyingAllowedArea={state.selectedTool === \"modify-allowed-area\"}\n      regionClsList={state.regionClsList}\n      regionTagList={state.regionTagList}\n      regions={\n        state.annotationType === \"image\"\n          ? activeImage.regions || []\n          : impliedVideoRegions\n      }\n      activeImage={activeImage}\n      realSize={activeImage ? activeImage.realSize : undefined}\n      videoPlaying={state.videoPlaying}\n      onNewImageLoaded={(events) =>setMouseEvents(events)}\n      imageSrc={state.annotationType === \"image\" ? activeImage.src : null}\n      videoSrc={state.annotationType === \"video\" ? state.videoSrc : null}\n      pointDistancePrecision={state.pointDistancePrecision}\n      createWithPrimary={state.selectedTool.includes(\"create\")}\n      dragWithPrimary={state.selectedTool === \"pan\"}\n      zoomWithPrimary={state.selectedTool === \"zoom\"}\n      showPointDistances={state.showPointDistances}\n      videoTime={\n        state.annotationType === \"image\"\n          ? state.selectedImageFrameTime\n          : state.currentVideoTime\n      }\n      selectedTool={state.selectedTool}\n      keypointDefinitions={state.keypointDefinitions}\n      onMouseMove={action(\"MOUSE_MOVE\")}\n      onMouseDown={action(\"MOUSE_DOWN\")}\n      onMouseUp={action(\"MOUSE_UP\")}\n      onChangeRegion={action(\"CHANGE_REGION\", \"region\")}\n      onBeginRegionEdit={action(\"OPEN_REGION_EDITOR\", \"region\")}\n      onCloseRegionEdit={action(\"CLOSE_REGION_EDITOR\", \"region\")}\n      onDeleteRegion={action(\"DELETE_REGION\", \"region\")}\n      onBeginBoxTransform={action(\"BEGIN_BOX_TRANSFORM\", \"box\", \"directions\")}\n      onBeginMovePolygonPoint={action(\n        \"BEGIN_MOVE_POLYGON_POINT\",\n        \"polygon\",\n        \"pointIndex\"\n      )}\n      onBeginMoveKeypoint={action(\n        \"BEGIN_MOVE_KEYPOINT\",\n        \"region\",\n        \"keypointId\"\n      )}\n      onAddPolygonPoint={action(\n        \"ADD_POLYGON_POINT\",\n        \"polygon\",\n        \"point\",\n        \"pointIndex\"\n      )}\n      onSelectRegion={action(\"SELECT_REGION\", \"region\")}\n      onBeginMovePoint={action(\"BEGIN_MOVE_POINT\", \"point\")}\n      onImageLoaded={action(\"IMAGE_LOADED\", \"image\")}\n      RegionEditLabel={RegionEditLabel}\n      onImageOrVideoLoaded={action(\"IMAGE_OR_VIDEO_LOADED\", \"metadata\")}\n      onChangeVideoTime={action(\"CHANGE_VIDEO_TIME\", \"newTime\")}\n      onChangeVideoPlaying={action(\"CHANGE_VIDEO_PLAYING\", \"isPlaying\")}\n      onRegionClassAdded={onRegionClassAdded}\n    />\n  )\n\nconst onClickToolbarItem = useEventCallback((item) => {\n  console.log('item ', state,item);\n  if (mouseEvents) {\n    if (item.name === 'zoom-in') {\n      mouseEvents.onWheel({deltaY:-0.25},{x:165, y: 237})\n    } else if(item.name === 'zoom-out'){\n      mouseEvents.onWheel({deltaY:0.25},{x:165, y: 237})\n    }\n    else if (item.name === 'polygon') {\n      const image = state.images[currentImageIndex];\n      if (!image.label) {\n        // alert(\"Please select any label\");\n        renderError('Please select any label')\n        return;\n      } \n      console.log(\"Poly\",image);\n    }\n  }\n  \n    dispatch({ type: \"SELECT_TOOL\", selectedTool: item.name })\n  })\n\n\nconst onSelectLabel = useEventCallback((r) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"SELECT_LABEL\", selectedLabel: r })\n})\nconst onChangeObject = useEventCallback((r) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"CHANGE_REGION\", region: r })\n})\n\nconst onSelectObject = useEventCallback((r) => {\n    // console.log('R: ', r);\n    dispatch({ type: \"SELECT_REGION\", region: r })\n})\nconst onDeleteObject = useEventCallback((r) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"DELETE_REGION\", region: r })\n})\nconst onChangeLabel = useEventCallback((l) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"CHANGE_LABEL\", label: l })\n})\n\nconst onClickLabel = useEventCallback(() => {\n  // console.log('R: ', r);\n  dispatch({ type: \"CLICK_LABEL\"})\n})\n\n\nconst onSubmit = useEventCallback(() => {\n  // console.log('R: ', r);\n  dispatch({ type: \"SUBMIT\"})\n})\n\n\n\nconst onClickFooterItem = useEventCallback((item) => {\n    console.log(item);\n    dispatch({ type: \"FOOTER_BUTTON_CLICKED\", buttonName: item.name })\n  })\n\n  const debugModeOn = Boolean(window.localStorage.$ANNOTATE_DEBUG_MODE && state)\n  const nextImageHasRegions =\n    !nextImage || (nextImage.regions && nextImage.regions.length > 0)\n\n  return (\n    <FullScreenContainer>    \n          <Workspace\n            iconDictionary={iconDictionary}\n        activeImage={activeImage}\n        dispatch={dispatch}\n        onSelectLabel={onSelectLabel}\n        onDeleteObject={onDeleteObject}\n                onChangeLabel={onChangeLabel}\n                onChangeObject={onChangeObject}\n        onSelectObject={onSelectObject}\n        onClickLabel={onClickLabel}\n            state={state}\n            footerItems={[\n              { name: \"Prev\" },\n              { name: \"Next\" },\n              { name: \"Undo\" },\n              { name: \"Redo\" },\n              // state.annotationType !== \"video\"\n              //   ? null\n              //   : !state.videoPlaying\n              //   ? { name: \"Play\" }\n              //   : { name: \"Pause\" },\n              // !nextImageHasRegions && activeImage.regions && { name: \"Clone\" },\n              // { name: \"Settings\" },\n              // state.fullScreen ? { name: \"Window\" } : { name: \"Fullscreen\" },\n              // { name: \"Save\" },\n            ].filter(Boolean)}\n        onClickFooterItem={onClickFooterItem}\n        onSubmit={onSubmit}\n        onClickToolbarItem={onClickToolbarItem}\n        onFilterValueUpdate={(filter)=>dispatch({type:'UPDATE_FILTER',payload:filter})}\n            selectedTools={\n              state.selectedTool,\n            }\n        toolbarItems={[\n         \n            {\n                name: \"pan\",\n                helperText: \"Drag/Pan\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"zoom-in\",\n                helperText: \"Zoom In\",\n                alwaysShowing: true,\n              },\n              \n              {\n                name: \"zoom-out\",\n                helperText: \"Zoom Out\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"brightness\",\n                helperText: \"Brightness\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"contrast\",\n                helperText: \"Contrast\",\n                alwaysShowing: true,\n             },\n             {\n                name: \"inverse\",\n                helperText: \"Inverse\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"polygon\",\n                helperText: \"Polygon\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"draw\",\n                helperText: \"Free Hand\",\n                alwaysShowing: true,\n              },\n              \n            ]\n              .filter(Boolean)\n              .filter(\n                (a) => a.alwaysShowing || state.enabledTools.includes(a.name)\n              )}\n              imageSelector={[\n             \n          ((state.images && state.images.length) || 0) > 1 && (\n                <ImageSelector\n                key={3}\n                  state={state}\n                  onSelect={(img, position) => {\n                    dispatch({\n                      type: \"UPDATE_IMAGE_CANVAS\",\n                      payload: { img, position },\n                    })\n                  }}\n                  images={state.images}\n                />\n              ),\n              \n            ].filter(Boolean)}\n          >\n            {canvas}\n          </Workspace>\n          <SettingsDialog\n            open={state.settingsOpen}\n            onClose={() =>\n              dispatch({\n                type: \"FOOTER_BUTTON_CLICKED\",\n                buttonName: \"Settings\",\n              })\n            }\n          />\n    </FullScreenContainer>\n  )\n}\n\nexport default MainLayout\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ShortcutsManager/index.js",["355"],"import React, { useMemo } from \"react\"\nimport { HotKeys } from \"react-hotkeys\"\n\nexport const defaultHotkeys = [\n  {\n    id: \"select_tool\",\n    description: \"Switch to the Select Tool\",\n    binding: \"escape\",\n  },\n  {\n    id: \"zoom_tool\",\n    description: \"Select the Zoom Tool\",\n    binding: \"z\",\n  },\n  {\n    id: \"create_point\",\n    description: \"Create a point\",\n  },\n  {\n    id: \"create_bounding_box\",\n    description: \"Create a bounding box\",\n    binding: \"b\",\n  },\n  {\n    id: \"pan_tool\",\n    description: \"Select the Pan Tool\",\n    binding: \"m\",\n  },\n  {\n    id: \"create_polygon\",\n    description: \"Create a Polygon\",\n    binding: \"p\",\n  },\n  {\n    id: \"create_pixel\",\n    description: \"Create a Pixel Mask\",\n  },\n  {\n    id: \"save_and_previous_sample\",\n    description: \"Save and go to previous sample\",\n    binding: \"ArrowLeft\",\n  },\n  {\n    id: \"save_and_next_sample\",\n    description: \"Save and go to next sample\",\n    binding: \"ArrowRight\",\n  },\n  {\n    id: \"save_and_exit_sample\",\n    description: \"Save and exit current sample\",\n  },\n  {\n    id: \"exit_sample\",\n    description: \"Exit sample without saving\",\n  },\n  {\n    id: \"delete_region\",\n    description: \"Delete selected region\",\n    binding: \"d\",\n  },\n  {\n    id: \"undo\",\n    description: \"Undo latest change\",\n    binding: \"Ctrl+z\",\n  },\n]\nexport const defaultKeyMap = {}\nfor (const { id, binding } of defaultHotkeys) defaultKeyMap[id] = binding\n\nexport const useDispatchHotkeyHandlers = ({ dispatch }) => {\n  const handlers = useMemo(\n    () => ({\n      select_tool: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"select\",\n        })\n      },\n      zoom_tool: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"zoom\",\n        })\n      },\n      create_point: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-point\",\n        })\n      },\n      create_bounding_box: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-box\",\n        })\n      },\n      pan_tool: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"pan\",\n        })\n      },\n      create_polygon: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"polygon\",\n        })\n      },\n      create_pixel: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-pixel\",\n        })\n      },\n      save_and_previous_sample: () => {\n        dispatch({\n          type: \"FOOTER_BUTTON_CLICKED\",\n          buttonName: \"Prev\",\n        })\n      },\n      save_and_next_sample: () => {\n        dispatch({\n          type: \"FOOTER_BUTTON_CLICKED\",\n          buttonName: \"Next\",\n        })\n      },\n      save_and_exit_sample: () => {\n        dispatch({\n          type: \"FOOTER_BUTTON_CLICKED\",\n          buttonName: \"Save\",\n        })\n      },\n      delete_region: () => {\n        dispatch({\n          type: \"DELETE_SELECTED_REGION\",\n        })\n      },\n      undo: () => {\n        dispatch({\n          type: \"RESTORE_HISTORY\",\n        })\n      },\n      // TODO\n      // exit_sample: () => {\n      //   dispatch({\n      //     type: \"\",\n      //   })\n      // }\n    }),\n    [dispatch]\n  )\n  return handlers\n}\n\nexport default ({ children, dispatch }) => {\n  const handlers = useDispatchHotkeyHandlers({ dispatch })\n  return (\n    <HotKeys allowChanges handlers={handlers}>\n      {children}\n    </HotKeys>\n  )\n}\n",["356","357"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HistorySidebarBox/index.js",["358","359"],"// @flow\n\nimport React, { setState, memo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\nimport HistoryIcon from \"@material-ui/icons/History\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\"\nimport UndoIcon from \"@material-ui/icons/Undo\"\nimport moment from \"moment\"\nimport { grey } from \"@material-ui/core/colors\"\nimport isEqual from \"lodash/isEqual\"\nimport Box from \"@material-ui/core/Box\"\n\nconst useStyles = makeStyles({\n  emptyText: {\n    fontSize: 14,\n    fontWeight: \"bold\",\n    color: grey[500],\n    textAlign: \"center\",\n    padding: 20,\n  },\n})\n\nconst listItemTextStyle = { paddingLeft: 16 }\n\nexport const HistorySidebarBox = ({\n  history,\n  onRestoreHistory,\n}: {\n  history: Array<{ name: string, time: Date }>,\n}) => {\n  const classes = useStyles()\n\n  return (\n    <SidebarBoxContainer\n      title=\"History\"\n      icon={<HistoryIcon style={{ color: grey[700] }} />}\n      expandedByDefault\n    >\n      <List>\n        {history.length === 0 && (\n          <div className={classes.emptyText}>No History Yet</div>\n        )}\n        {history.map(({ name, time }, i) => (\n          <ListItem button dense key={i}>\n            <ListItemText\n              style={listItemTextStyle}\n              primary={name}\n              secondary={moment(time).format(\"LT\")}\n            />\n            {i === 0 && (\n              <ListItemSecondaryAction onClick={() => onRestoreHistory()}>\n                <IconButton>\n                  <UndoIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            )}\n          </ListItem>\n        ))}\n      </List>\n    </SidebarBoxContainer>\n  )\n}\n\nexport default memo(HistorySidebarBox, (prevProps, nextProps) =>\n  isEqual(\n    prevProps.history.map((a) => [a.name, a.time]),\n    nextProps.history.map((a) => [a.name, a.time])\n  )\n)\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Workspace/index.js",[],["360","361"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/index.js",["362","363","364","365","366","367","368","369","370","371"],"// @flow weak\n//working without pencil\nimport React, {\n  useRef,\n  useState,\n  useLayoutEffect,\n  useEffect,\n  useMemo,\n} from \"react\"\nimport type { Node } from \"react\"\nimport { Matrix } from \"transformation-matrix-js\"\nimport Crosshairs from \"../Crosshairs\"\nimport type {\n  Region,\n  Point,\n  Polygon,\n  Box,\n  Keypoints,\n  KeypointsDefinition,\n} from \"./region-tools.js\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport styles from \"./styles\"\nimport PreventScrollToParents from \"../PreventScrollToParents\"\nimport useWindowSize from \"../hooks/use-window-size.js\"\nimport useMouse from \"./use-mouse\"\nimport useProjectRegionBox from \"./use-project-box\"\nimport useExcludePattern from \"../hooks/use-exclude-pattern\"\nimport { useRafState } from \"react-use\"\nimport PointDistances from \"../PointDistances\"\nimport RegionTags from \"../RegionTags\"\nimport RegionLabel from \"../RegionLabel\"\nimport ImageMask from \"../ImageMask\"\nimport RegionSelectAndTransformBoxes from \"../RegionSelectAndTransformBoxes\"\nimport VideoOrImageCanvasBackground from \"../VideoOrImageCanvasBackground\"\nimport useEventCallback from \"use-event-callback\"\nimport RegionShapes from \"../RegionShapes\"\nimport useWasdMode from \"./use-wasd-mode\"\n\nconst useStyles = makeStyles(styles)\n\ntype Props = {\n  regions: Array<Region>,\n  imageSrc?: string,\n  videoSrc?: string,\n  videoTime?: number,\n  keypointDefinitions?: KeypointDefinitions,\n  onMouseMove?: ({ x: number, y: number }) => any,\n  onMouseDown?: ({ x: number, y: number }) => any,\n  onMouseUp?: ({ x: number, y: number }) => any,\n  dragWithPrimary?: boolean,\n  zoomWithPrimary?: boolean,\n  createWithPrimary?: boolean,\n  showTags?: boolean,\n  realSize?: { width: number, height: number, unitName: string },\n  showCrosshairs?: boolean,\n  showMask?: boolean,\n  showHighlightBox?: boolean,\n  showPointDistances?: boolean,\n  pointDistancePrecision?: number,\n  regionClsList?: Array<string>,\n  regionTagList?: Array<string>,\n  allowedArea?: { x: number, y: number, w: number, h: number },\n  RegionEditLabel?: Node,\n  videoPlaying?: boolean,\n  zoomOnAllowedArea?: boolean,\n  fullImageSegmentationMode?: boolean,\n  autoSegmentationOptions?: Object,\n  modifyingAllowedArea?: boolean,\n\n  onChangeRegion: (Region) => any,\n  onBeginRegionEdit: (Region) => any,\n  onCloseRegionEdit: (Region) => any,\n  onDeleteRegion: (Region) => any,\n  onBeginBoxTransform: (Box, [number, number]) => any,\n  onBeginMovePolygonPoint: (Polygon, index: number) => any,\n  onBeginMoveKeypoint: (Keypoints, index: number) => any,\n  onAddPolygonPoint: (Polygon, point: [number, number], index: number) => any,\n  onSelectRegion: (Region) => any,\n  onBeginMovePoint: (Point) => any,\n  onImageOrVideoLoaded: ({\n    naturalWidth: number,\n    naturalHeight: number,\n    duration?: number,\n  }) => any,\n  onChangeVideoTime: (number) => any,\n  onRegionClassAdded: () => {},\n  onChangeVideoPlaying?: Function,\n}\n\nconst getDefaultMat = (allowedArea = null, { iw, ih } = {}) => {\n  let mat = Matrix.from(1, 0, 0, 1, -10, -10)\n  if (allowedArea && iw) {\n    mat = mat\n      .translate(allowedArea.x * iw, allowedArea.y * ih)\n      .scaleU(allowedArea.w + 0.05)\n  }\n  return mat\n}\n\nexport const ImageCanvas = ({\n  regions,\n  imageSrc,\n  activeImage,\n  videoSrc,\n  videoTime,\n  realSize,\n  showTags,\n  onRegionChange,\n  onMouseMove = (p) => null,\n  onMouseDown = (p) => null,\n  onMouseUp = (p) => null,\n  dragWithPrimary = false,\n  zoomWithPrimary = false,\n  createWithPrimary = false,\n  pointDistancePrecision = 0,\n  onImageLoaded,\n  onNewImageLoaded,\n  regionClsList,\n  regionTagList,\n  showCrosshairs,\n  showHighlightBox = true,\n  showPointDistances,\n  allowedArea,\n  RegionEditLabel = null,\n  videoPlaying = false,\n  showMask = true,\n  fullImageSegmentationMode,\n  autoSegmentationOptions,\n  onImageOrVideoLoaded,\n  onChangeRegion,\n  onBeginRegionEdit,\n  onCloseRegionEdit,\n  onBeginBoxTransform,\n  onBeginMovePolygonPoint,\n  onAddPolygonPoint,\n  onBeginMoveKeypoint,\n  onSelectRegion,\n  onBeginMovePoint,\n  onDeleteRegion,\n  onChangeVideoTime,\n  onChangeVideoPlaying,\n  onRegionClassAdded,\n  zoomOnAllowedArea = true,\n  modifyingAllowedArea = false,\n  keypointDefinitions,\n}: Props) => {\n  const classes = useStyles()\n\n  const canvasEl = useRef(null)\n  const layoutParams = useRef({})\n  const [dragging, changeDragging] = useRafState(false)\n  const [maskImagesLoaded, changeMaskImagesLoaded] = useRafState(0)\n  const [zoomStart, changeZoomStart] = useRafState(null)\n  const [zoomEnd, changeZoomEnd] = useRafState(null)\n  const [mat, changeMat] = useRafState(getDefaultMat())\n  const maskImages = useRef({})\n  const windowSize = useWindowSize()\n\n  const getLatestMat = useEventCallback(() => mat)\n  useWasdMode({ getLatestMat, changeMat })\n\n  const { mouseEvents, mousePosition,zoomIn } = useMouse({\n    canvasEl,\n    dragging,\n    mat,\n    layoutParams,\n    changeMat,\n    zoomStart,\n    zoomEnd,\n    changeZoomStart,\n    changeZoomEnd,\n    changeDragging,\n    zoomWithPrimary,\n    dragWithPrimary,\n    onMouseMove,\n    onMouseDown,\n    onMouseUp,\n  })\n\n \n  useLayoutEffect(() => changeMat(mat.clone()), [windowSize])\n\n  const innerMousePos = mat.applyToPoint(\n    mousePosition.current.x,\n    mousePosition.current.y\n  )\n\n  const projectRegionBox = useProjectRegionBox({ layoutParams, mat })\n\n  const [imageDimensions, changeImageDimensions] = useState()\n  const imageLoaded = Boolean(imageDimensions && imageDimensions.naturalWidth)\n\n  const onVideoOrImageLoaded = useEventCallback(\n    ({ naturalWidth, naturalHeight, duration,width,height }) => {\n      const dims = { naturalWidth, naturalHeight, duration,width,height }\n      console.log('DMS', dims);\n      if (onImageOrVideoLoaded) onImageOrVideoLoaded(dims)\n      changeImageDimensions(dims)\n      // Redundant update to fix rerendering issues\n      setTimeout(() => changeImageDimensions(dims), 10)\n    }\n  )\n\n  \n\n  \n\n  const excludePattern = useExcludePattern()\n\n  const canvas = canvasEl.current\n  if (canvas && imageLoaded) {\n    const { clientWidth, clientHeight } = canvas\n\n    const fitScale = Math.max(\n      imageDimensions.naturalWidth / (clientWidth - 20),\n      imageDimensions.naturalHeight / (clientHeight - 20)\n    )\n\n    const [iw, ih] = [\n      imageDimensions.naturalWidth / fitScale,\n      imageDimensions.naturalHeight / fitScale,\n    ]\n    console.log('iwih',iw, ih)\n    layoutParams.current = {\n      iw,\n      ih,\n      fitScale,\n      canvasWidth: clientWidth,\n      canvasHeight: clientHeight,\n    }\n  }\n\n  useEffect(() => {\n    if (!imageLoaded) return\n    changeMat(\n      getDefaultMat(\n        zoomOnAllowedArea ? allowedArea : null,\n        layoutParams.current\n      )\n    )\n    onNewImageLoaded(mouseEvents)\n    \n    // eslint-disable-next-line\n  }, [imageLoaded])\n\n  useLayoutEffect(() => {\n    if (!imageDimensions) return\n    const { clientWidth, clientHeight } = canvas\n    \n    const context = canvas.getContext(\"2d\")\n\n    context.save()\n    context.transform(...mat.clone().inverse().toArray())\n\n    const { iw, ih } = layoutParams.current\n    \n    if (allowedArea) {\n      // Pattern to indicate the NOT allowed areas\n      const { x, y, w, h } = allowedArea\n      context.save()\n      context.globalAlpha = 1\n      const outer = [\n        [0, 0],\n        [iw, 0],\n        [iw, ih],\n        [0, ih],\n      ]\n      const inner = [\n        [x * iw, y * ih],\n        [x * iw + w * iw, y * ih],\n        [x * iw + w * iw, y * ih + h * ih],\n        [x * iw, y * ih + h * ih],\n      ]\n      context.moveTo(...outer[0])\n      outer.forEach((p) => context.lineTo(...p))\n      context.lineTo(...outer[0])\n      context.closePath()\n\n      inner.reverse()\n      context.moveTo(...inner[0])\n      inner.forEach((p) => context.lineTo(...p))\n      context.lineTo(...inner[0])\n\n      context.fillStyle = excludePattern || \"#f00\"\n      context.fill()\n\n      context.restore()\n    }\n\n    context.restore()\n  })\n\n  const { iw, ih } = layoutParams.current\n\n  let zoomBox =\n    !zoomStart || !zoomEnd\n      ? null\n      : {\n          ...mat.clone().inverse().applyToPoint(zoomStart.x, zoomStart.y),\n          w: (zoomEnd.x - zoomStart.x) / mat.a,\n          h: (zoomEnd.y - zoomStart.y) / mat.d,\n        }\n  if (zoomBox) {\n    if (zoomBox.w < 0) {\n      zoomBox.x += zoomBox.w\n      zoomBox.w *= -1\n    }\n    if (zoomBox.h < 0) {\n      zoomBox.y += zoomBox.h\n      zoomBox.h *= -1\n    }\n  }\n\n  const imagePosition = {\n    topLeft: mat.clone().inverse().applyToPoint(0, 0),\n    bottomRight: mat.clone().inverse().applyToPoint(iw, ih),\n  }\n\n  const highlightedRegion = useMemo(() => {\n    const highlightedRegions = regions.filter((r) => r.highlighted)\n    if (highlightedRegions.length !== 1) return null\n    return highlightedRegions[0]\n  }, [regions])\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"100%\",\n        maxHeight: \"calc(100vh - 68px)\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        cursor: createWithPrimary\n          ? \"crosshair\"\n          : dragging\n          ? \"grabbing\"\n          : dragWithPrimary\n          ? \"grab\"\n          : zoomWithPrimary\n          ? mat.a < 1\n            ? \"zoom-out\"\n            : \"zoom-in\"\n          : undefined,\n      }}\n    >\n      {showCrosshairs && (\n        <Crosshairs key=\"crossHairs\" mousePosition={mousePosition} />\n      )}\n      {imageLoaded && !dragging && (\n        <RegionSelectAndTransformBoxes\n          key=\"regionSelectAndTransformBoxes\"\n          regions={\n            !modifyingAllowedArea || !allowedArea\n              ? regions\n              : [\n                  {\n                    type: \"box\",\n                    id: \"$$allowed_area\",\n                    cls: \"allowed_area\",\n                    highlighted: true,\n                    x: allowedArea.x,\n                    y: allowedArea.y,\n                    w: allowedArea.w,\n                    h: allowedArea.h,\n                    visible: true,\n                    color: \"#ff0\",\n                  },\n                ]\n          }\n          mouseEvents={mouseEvents}\n          projectRegionBox={projectRegionBox}\n          dragWithPrimary={dragWithPrimary}\n          createWithPrimary={createWithPrimary}\n          zoomWithPrimary={zoomWithPrimary}\n          onBeginMovePoint={onBeginMovePoint}\n          onSelectRegion={onSelectRegion}\n          layoutParams={layoutParams}\n          mat={mat}\n          onBeginBoxTransform={onBeginBoxTransform}\n          onBeginMovePolygonPoint={onBeginMovePolygonPoint}\n          onBeginMoveKeypoint={onBeginMoveKeypoint}\n          onAddPolygonPoint={onAddPolygonPoint}\n          showHighlightBox={showHighlightBox}\n        />\n      )}\n      {/* {imageLoaded && showTags && !dragging && (\n        <PreventScrollToParents key=\"regionTags\">\n          <RegionTags\n            regions={regions}\n            projectRegionBox={projectRegionBox}\n            mouseEvents={mouseEvents}\n            regionClsList={regionClsList}\n            regionTagList={regionTagList}\n            onBeginRegionEdit={onBeginRegionEdit}\n            onChangeRegion={onChangeRegion}\n            onCloseRegionEdit={onCloseRegionEdit}\n            onDeleteRegion={onDeleteRegion}\n            layoutParams={layoutParams}\n            imageSrc={imageSrc}\n            RegionEditLabel={RegionEditLabel}\n            onRegionClassAdded={onRegionClassAdded}\n          />\n        </PreventScrollToParents>\n      )} */}\n      {!showTags && highlightedRegion && (\n        <div key=\"topLeftTag\" className={classes.fixedRegionLabel}>\n          <RegionLabel\n            disableClose\n            allowedClasses={regionClsList}\n            allowedTags={regionTagList}\n            onChange={onChangeRegion}\n            onDelete={onDeleteRegion}\n            editing\n            region={highlightedRegion}\n            imageSrc={imageSrc}\n          />\n        </div>\n      )}\n\n      {zoomWithPrimary && zoomBox !== null && (\n        <div\n          key=\"zoomBox\"\n          style={{\n            position: \"absolute\",\n            zIndex: 1,\n            border: \"1px solid #fff\",\n            pointerEvents: \"none\",\n            left: zoomBox.x,\n            top: zoomBox.y,\n            width: zoomBox.w,\n            height: zoomBox.h,\n          }}\n        />\n      )}\n      {showPointDistances && (\n        <PointDistances\n          key=\"pointDistances\"\n          regions={regions}\n          realSize={realSize}\n          projectRegionBox={projectRegionBox}\n          pointDistancePrecision={pointDistancePrecision}\n        />\n      )}\n      <PreventScrollToParents\n        style={{ width: \"100%\", height: \"100%\" }}\n        {...mouseEvents}\n      >\n        <>\n          {fullImageSegmentationMode && (\n            <ImageMask\n              hide={!showMask}\n              autoSegmentationOptions={autoSegmentationOptions}\n              imagePosition={imagePosition}\n              regionClsList={regionClsList}\n              imageSrc={imageSrc}\n              regions={regions}\n            />\n          )}\n          <canvas\n            style={{ opacity: 0.25 }}\n            className={classes.canvas}\n            ref={canvasEl}\n          />\n          <RegionShapes\n            mat={mat}\n            keypointDefinitions={keypointDefinitions}\n            imagePosition={imagePosition}\n            regions={regions}\n            onRegionChange={onRegionChange}\n            fullSegmentationMode={fullImageSegmentationMode}\n          />\n          <VideoOrImageCanvasBackground\n            videoPlaying={videoPlaying}\n            imagePosition={imagePosition}\n            mouseEvents={mouseEvents}\n            onLoad={onVideoOrImageLoaded}\n            videoTime={videoTime}\n            videoSrc={videoSrc}\n            activeImage={activeImage}\n            imageSrc={imageSrc}\n            useCrossOrigin={fullImageSegmentationMode}\n            onChangeVideoTime={onChangeVideoTime}\n            onChangeVideoPlaying={onChangeVideoPlaying}\n          />\n        </>\n      </PreventScrollToParents>\n      <div className={classes.zoomIndicator}>\n        {((1 / mat.a) * 100).toFixed(0)}%\n      </div>\n    </div>\n  )\n}\n\nexport default ImageCanvas\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-dictionary.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/convert-expanding-line-to-polygon.js",["372"],"// @flow\n\nfunction clamp(num, min, max) {\n  return num <= min ? min : num >= max ? max : num\n}\n\nexport default (expandingLine) => {\n  const expandingWidth = expandingLine.expandingWidth || 0.005\n  const pointPairs = expandingLine.points.map(({ x, y, angle, width }, i) => {\n    if (!angle) {\n      const n =\n        expandingLine.points[clamp(i + 1, 0, expandingLine.points.length - 1)]\n      const p =\n        expandingLine.points[clamp(i - 1, 0, expandingLine.points.length - 1)]\n      angle = Math.atan2(p.x - n.x, p.y - n.y) + Math.PI / 2\n    }\n    const dx = (Math.sin(angle) * (width || expandingWidth)) / 2\n    const dy = (Math.cos(angle) * (width || expandingWidth)) / 2\n    return [\n      { x: x + dx, y: y + dy },\n      { x: x - dx, y: y - dy },\n    ]\n  })\n  const firstSection = pointPairs.map(([p1, p2]) => p1)\n  const secondSection = pointPairs.map(([p1, p2]) => p2).asMutable()\n  secondSection.reverse()\n\n  const newPoints = firstSection.concat(secondSection).map(({ x, y }) => [x, y])\n\n  return {\n    ...expandingLine,\n    type: \"polygon\",\n    open: false,\n    points: newPoints,\n    unfinished: undefined,\n    candidatePoint: undefined,\n  }\n\n  // let { expandingWidth = 0.005, points } = region\n  // expandingWidth = points.slice(-1)[0].width || expandingWidth\n  // const lastPoint = points.slice(-1)[0]\n  // return (\n  //   <>\n  //     <polygon\n  //       points={\n  //         .map((p) => `${p.x * iw} ${p.y * ih}`)\n  //         .join(\" \")}\n  // return {\n  //   ...expandingLine,\n  //   unfinished: undefined,\n  //   candidatePoint: undefined,\n  // }\n}\n",["373","374"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/ImageSwitcher/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/utils/get-landmarks-with-transform.js",["375"],"// @flow\nimport type { KeypointDefinition } from \"../ImageCanvas/region-tools\"\n\ntype Parameters = {\n  center: { x: number, y: number },\n  scale: number,\n  landmarks: {\n    [string]: KeypointDefinition,\n  },\n}\n\nexport default ({ center, scale, landmarks }: Parameters) => {\n  const points = {}\n  for (const [keypointId, { defaultPosition }] of (Object.entries(\n    landmarks\n  ): any)) {\n    points[keypointId] = {\n      x: defaultPosition[0] * scale + center.x,\n      y: defaultPosition[1] * scale + center.y,\n    }\n  }\n  return points\n}\n",["376","377"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageMask/index.js",["378","379","380"],"// @flow\n\nimport React, { useState, useEffect, useMemo, useRef } from \"react\"\nimport { colorInts } from \"../colors\"\nimport { useDebounce } from \"react-use\"\nimport loadImage from \"./load-image\"\nimport autoseg from \"autoseg/webworker\"\n\nfunction convertToUDTRegions(regions) {\n  return regions\n    .map((r) => {\n      switch (r.type) {\n        case \"point\": {\n          return {\n            regionType: \"point\",\n            classification: r.cls,\n            x: r.x,\n            y: r.y,\n          }\n        }\n        case \"polygon\": {\n          return {\n            regionType: \"polygon\",\n            classification: r.cls,\n            points: r.points.map(([x, y]) => ({ x, y })),\n          }\n        }\n        case \"box\": {\n          return {\n            regionType: \"bounding-box\",\n            classification: r.cls,\n            centerX: r.x + r.w / 2,\n            centerY: r.y + r.h / 2,\n            width: r.w,\n            height: r.h,\n          }\n        }\n        default: {\n          return null\n        }\n      }\n    })\n    .filter(Boolean)\n}\n\nexport const ImageMask = ({\n  regions,\n  regionClsList,\n  imageSrc,\n  imagePosition,\n  zIndex = 1,\n  hide = false,\n  autoSegmentationOptions = { type: \"simple\" },\n}) => {\n  // if (!window.mmgc) window.mmgc = MMGC_INIT()\n  // const mmgc = window.mmgc\n  const [canvasRef, setCanvasRef] = useState(null)\n\n  const [sampleImageData, setSampleImageData] = useState()\n\n  useEffect(() => {\n    if (!imageSrc) return\n\n    loadImage(imageSrc).then((imageData) => {\n      autoseg.setConfig({\n        classNames: regionClsList,\n        ...autoSegmentationOptions,\n      })\n      autoseg.loadImage(imageData)\n      setSampleImageData(imageData)\n    })\n  }, [imageSrc])\n\n  useDebounce(\n    () => {\n      if (hide) return\n      if (!canvasRef) return\n      if (!sampleImageData) return\n      if (regions.filter((cp) => cp.cls).length < 2) return\n\n      const udtRegions = convertToUDTRegions(regions)\n\n      autoseg.getMask(udtRegions).then((maskImageData) => {\n        const context = canvasRef.getContext(\"2d\")\n        context.clearRect(0, 0, maskImageData.width, maskImageData.height)\n        context.putImageData(maskImageData, 0, 0)\n      })\n    },\n    1000,\n    [canvasRef, sampleImageData, regions, hide]\n  )\n\n  const style = useMemo(() => {\n    let width = imagePosition.bottomRight.x - imagePosition.topLeft.x\n    let height = imagePosition.bottomRight.y - imagePosition.topLeft.y\n    return {\n      display: hide ? \"none\" : undefined,\n      imageRendering: \"pixelated\",\n      transform: \"translateZ(0px)\",\n      left: imagePosition.topLeft.x,\n      top: imagePosition.topLeft.y,\n      width: isNaN(width) ? 0 : width,\n      height: isNaN(height) ? 0 : height,\n      zIndex,\n      position: \"absolute\",\n      pointerEvents: \"none\",\n    }\n  }, [\n    imagePosition.topLeft.x,\n    imagePosition.topLeft.y,\n    imagePosition.bottomRight.x,\n    imagePosition.bottomRight.y,\n    zIndex,\n    hide,\n  ])\n\n  return (\n    <canvas\n      style={style}\n      width={sampleImageData ? sampleImageData.width : 0}\n      height={sampleImageData ? sampleImageData.height : 0}\n      ref={setCanvasRef}\n    />\n  )\n}\n\nexport default ImageMask\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectAndTransformBoxes/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/FooterButton/index.js",["381","382","383","384","385"],"// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { useIconDictionary } from \"../icon-dictionary.js\"\nimport { iconMapping } from \"../icon-mapping.js\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\nimport {\n  faUndo,\n  faRedo,\n  faChevronLeft,\n  faChevronRight,\n} from \"@fortawesome/free-solid-svg-icons\"\nconst emptyObj = {}\nconst faStyle = { marginTop: 4, width: 20, height: 20, marginBottom: 4,color:'green' }\nconst defaultNameIconMapping = iconMapping\n\n\nconst getIcon = (name, customIconMapping) => {\n  const Icon =\n    customIconMapping[name.toLowerCase()] ||\n    defaultNameIconMapping[name.toLowerCase()] ||\n    defaultNameIconMapping.help\n  return <Icon />\n}\n\nconst StyledButton = styled(Button)({\n  textTransform: \"none\",\n  width: 30,\n\n})\nconst ButtonInnerContent = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n})\nconst IconContainer = styled(\"div\")({})\nconst Text = styled(\"div\")({\n  fontWeight: \"bold\",\n  height: 28,\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n})\n\nconst Icon = (name) => {\n  switch (name) {\n    case 'Undo':\n      return faUndo;\n    case 'Redo':\n      return faRedo;\n      case 'Prev':\n      return faChevronLeft;\n      case 'Next':\n        return faChevronRight;\n    \n  }\n}\n\n\nexport const HeaderButton = ({ name, icon, disabled, onClick,showLabel }) => {\n  const customIconMapping = useIconDictionary()\n  return (\n    <StyledButton onClick={onClick} disabled={disabled}>\n      <ButtonInnerContent>\n      <FontAwesomeIcon style={!disabled ? faStyle : {...faStyle,color:'gray'}} size=\"sm\" fixedWidth icon={Icon(name)} />\n        {\n          showLabel && (\n            <Text>\n          <div>{name}</div>\n        </Text>\n          )\n        }\n      </ButtonInnerContent>\n    </StyledButton>\n  )\n}\n\nexport default HeaderButton\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/ObjectSelector.js",["386","387","388","389","390","391","392","393","394","395","396","397","398","399","400"],"import React, { useReducer, useEffect,useState, useMemo,memo } from \"react\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport ExpandIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport ContractIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport { grey } from \"@material-ui/core/colors\"\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\nimport RegionIcon from \"@material-ui/icons/PictureInPicture\"\nimport Grid from \"@material-ui/core/Grid\"\nimport ReorderIcon from \"@material-ui/icons/SwapVert\"\nimport PieChartIcon from \"@material-ui/icons/PieChart\"\nimport TrashIcon from \"@material-ui/icons/Delete\"\nimport LockIcon from \"@material-ui/icons/Lock\"\nimport UnlockIcon from \"@material-ui/icons/LockOpen\"\nimport VisibleIcon from \"@material-ui/icons/Visibility\"\nimport VisibleOffIcon from \"@material-ui/icons/VisibilityOff\"\nimport styles from \"./styles\"\nimport classnames from \"classnames\"\nconst useStyles = makeStyles(styles)\n\nconst colors = ['red','green','blue','pink','violet','indigo','black']\n\nconst Chip = ({ color, text }) => {\n  const classes = useStyles()\n  return (\n    <span className={classes.chip}>\n      <div className=\"color\" style={{ backgroundColor: color }} />\n      <div className=\"text\">{text}</div>\n    </span>\n  )\n}\n\n\n\nconst RowLayout = ({\n  header,\n  highlighted,\n  order,\n  classification,\n  area,\n  tags,\n  trash,\n  lock,\n  visible,\n  onClick,\n}) => {\n  const classes = useStyles()\n\n  const [mouseOver, changeMouseOver] = useState(false)\n  return (\n    <div\n      onClick={onClick}\n      onMouseEnter={() => changeMouseOver(true)}\n      onMouseLeave={() => changeMouseOver(false)}\n      className={classnames(classes.row, { header, highlighted })}\n    >\n      <Grid container alignItems=\"center\">\n        <Grid item xs={5}>\n          {classification}\n        </Grid>\n        <Grid item xs={4}>\n          <div style={{ textAlign: \"right\", paddingRight: 6 }}>{area}</div>\n        </Grid>\n        <Grid item xs={1}>\n          {trash}\n        </Grid>\n        <Grid item sm={1}>\n          {visible}\n        </Grid>\n        \n        <Grid item xs={1}>\n          {lock}\n        </Grid>\n       \n      </Grid>\n    </div>\n  )\n}\n\nconst RowHeader = () => {\n  return (\n    <RowLayout\n      header\n      highlighted={false}\n      order={<ReorderIcon className=\"icon\" />}\n      classification={<div style={{ paddingLeft: 10 }}>Label</div>}\n      lock={<LockIcon className=\"icon\" />}\n      visible={<VisibleIcon className=\"icon\" />}\n    />\n  )\n}\n\nconst MemoRowHeader = memo(RowHeader)\n\n\n\nconst Row = ({\n  region: r,\n  highlighted,\n  onSelectObject,\n  onDeleteObject,\n  onChangeObject,\n  visible,\n  selected,\n  locked,\n  color,\n  cls,\n  index,\n}) => {\n  // console.log(\"Region \", r);\n  return (\n    <RowLayout\n      header={true}\n      key={Math.random()}\n      highlighted={highlighted}\n      onClick={() => {\n        onSelectObject(r)\n      }}\n\n      classification={<Chip text={r.cls || \"\"} color={r.color || \"#ddd\"} />}\n      area=\"\"\n      trash={\n        (\n          <TrashIcon onClick={() => onDeleteObject(r)} className=\"icon2\" />\n        )\n      }\n      \n      lock={\n        r.locked ? (\n          <LockIcon\n            onClick={() => {\n              // console.log(\"current Reggionnnn\",r)\n              onChangeObject({\n                ...r,\n                edit:true,\n                locked: false\n              })\n            }\n  \n            }\n            className=\"icon2\"\n          />\n        ) : (\n          <UnlockIcon\n              onClick={() => {\n              // console.log(\"current Reggionnnn 136 \",r)\n\n                onChangeObject({ ...r, locked: true })\n              }}\n            className=\"icon2\"\n          />\n        )\n      }\n      visible={\n        r.visible || r.visible === undefined ? (\n          <VisibleIcon\n            onClick={() =>\n              onChangeObject({\n                ...r,\n                visible: false,\n              })\n            }\n            className=\"icon2\"\n          />\n        ) : (\n          <VisibleOffIcon\n            onClick={() => onChangeObject({ ...r, visible: true })}\n            className=\"icon2\"\n          />\n        )\n      }\n    />\n  )\n}\n\n\n\n\n\n\nconst Container = styled(\"div\")({\n  width: 300,\n  display: \"flex\",\n  flexDirection: \"column\",\n  height: '80%',\n  padding:'0 20px',\n  marginRight:'20px',\n  boxShadow: '0 2px 2px 0 rgba(0,0,0,0.2)',\n  transition: '0.3s',\n  marginTop:'30px',\n  \"&.expanded\": {\n    width: 300,\n  },\n})\n\n\nconst InnerSliderContent = styled(\"div\")({\n  width: 300,\n})\n\nconst getInitialExpandedState = () => {\n  return Boolean(window.__REACT_WORKSPACE_LAYOUT_EXPANDED_STATE)\n}\n\n\nconst MemoRow = memo(\n  Row,\n  (prevProps, nextProps) =>\n    prevProps.highlighted === nextProps.highlighted &&\n    prevProps.visible === nextProps.visible &&\n    prevProps.locked === nextProps.locked &&\n    prevProps.id === nextProps.id &&\n    prevProps.points.length === nextProps.points.length &&\n    prevProps.index === nextProps.index &&\n    prevProps.cls === nextProps.cls &&\n    prevProps.color === nextProps.color &&\n    prevProps.isNew === nextProps.isNew &&\n    prevProps.selected === nextProps.selected\n\n)\n\n\nexport const RightSidebar = ({ state,\n  onSelectObject,\n  onDeleteObject,\n  onChangeObject,\n  expandedByDefault,\n   initialExpandedState, height }) => {\n  const [expanded, toggleExpanded] = useReducer(\n    (state) => !state,\n    initialExpandedState === undefined\n      ? getInitialExpandedState()\n      : initialExpandedState\n  )\n\n  useEffect(() => {\n    if (initialExpandedState !== undefined) {\n      window.__REACT_WORKSPACE_LAYOUT_EXPANDED_STATE = expanded\n    }\n  }, [initialExpandedState, expanded])\n\n  const containerStyle = useMemo(() => ({ height: height || \"100%\" }), [height])\n\n  return (\n\n            <div style={{height:'48%',borderTop:'1px solid gray',overflowY:'scroll'}}>\n          <h4 style={{ color: 'red', margin: '10px' }}>Objects</h4>\n          {state.images[state.selectedImage].regions.map((r, i) => {\n            {/* console.log(\"Region:\", r); */ }\n            \n            return(\n              <Row\n                key={r.id}\n                {...r}\n                region={r}\n                index={i}\n                onDeleteObject={onDeleteObject}\n                onChangeObject={onChangeObject}\n                onSelectObject={onSelectObject}\n              />\n            )\n          })}\n              </div>\n  )\n}\n\nexport default RightSidebar\n\n\n\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HighlightBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/styles.js",["401","402"],"import { grey } from \"@material-ui/core/colors\"\n\nexport default {\n  canvas: { width: \"100%\", height: \"100%\", position: \"relative\", zIndex: 1 },\n  zoomIndicator: {\n    position: \"absolute\",\n    bottom: 16,\n    right: 0,\n    backgroundColor: \"rgba(0,0,0,0.4)\",\n    color: \"#fff\",\n    opacity: 0.5,\n    fontWeight: \"bolder\",\n    fontSize: 14,\n    padding: 4,\n  },\n  fixedRegionLabel: {\n    position: \"absolute\",\n    zIndex: 10,\n    top: 10,\n    left: 10,\n    opacity: 0.5,\n    transition: \"opacity 500ms\",\n    \"&:hover\": {\n      opacity: 1,\n    },\n  },\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-exclude-pattern.js",["403"],"// @flow weak\n\nimport { useRef } from \"react\"\nimport excludePatternSrc from \"./xpattern.js\"\n\nexport default () => {\n  const excludePattern = useRef(null)\n  if (excludePattern.current === null) {\n    excludePattern.current = {\n      image: new Image(),\n      pattern: null,\n    }\n    const canvas = document.createElement(\"canvas\")\n    canvas.width = 100\n    canvas.height = 100\n    const context = canvas.getContext(\"2d\")\n\n    excludePattern.current.image.onload = () => {\n      excludePattern.current.pattern = context.createPattern(\n        excludePattern.current.image,\n        \"repeat\"\n      )\n    }\n    excludePattern.current.image.src = excludePatternSrc\n  }\n  return excludePattern.current.pattern\n}\n",["404","405"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Crosshairs/index.js",["406"],"// @flow\n\nimport React, { Fragment, useEffect, useState } from \"react\"\n\nexport const Crosshairs = ({\n  mousePosition,\n  x,\n  y,\n}: {\n  mousePosition: { current: { x: number, y: number } },\n  x?: number,\n  y?: number,\n}) => {\n  const [forceRenderState, changeForceRenderState] = useState()\n\n  if (mousePosition) {\n    x = mousePosition.current.x\n    y = mousePosition.current.y\n  }\n\n  useEffect(() => {\n    if (!mousePosition) return\n    const interval = setInterval(() => {\n      if (x !== mousePosition.current.x || y !== mousePosition.current.y) {\n        changeForceRenderState([\n          mousePosition.current.x,\n          mousePosition.current.y,\n        ])\n      }\n    }, 10)\n    return () => clearInterval(interval)\n  })\n\n  return (\n    <Fragment>\n      <div\n        style={{\n          position: \"absolute\",\n          height: \"100%\",\n          width: 1,\n          zIndex: 10,\n          backgroundColor: \"#f00\",\n          left: x,\n          pointerEvents: \"none\",\n          top: 0,\n        }}\n      />\n      <div\n        style={{\n          position: \"absolute\",\n          width: \"100%\",\n          zIndex: 10,\n          height: 1,\n          backgroundColor: \"#f00\",\n          top: y,\n          pointerEvents: \"none\",\n          left: 0,\n        }}\n      />\n    </Fragment>\n  )\n}\n\nexport default Crosshairs\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PointDistances/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/components/message.js",[],["407","408"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SettingsProvider/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/video-reducer.js",["409","410","411","412"],"// @flow\n\nimport type {\n  MainLayoutVideoAnnotationState,\n  Action,\n} from \"../../MainLayout/types\"\nimport { setIn, without } from \"seamless-immutable\"\nimport getImpliedVideoRegions from \"./get-implied-video-regions\"\nimport { saveToHistory } from \"./history-handler.js\"\n\nexport default (state: MainLayoutVideoAnnotationState, action: Action) => {\n  const copyImpliedRegions = () => {\n    return setIn(\n      saveToHistory(state, \"Add Keyframe\"),\n      [\"keyframes\", state.currentVideoTime || 0],\n      {\n        regions: getImpliedVideoRegions(\n          state.keyframes,\n          state.currentVideoTime\n        ),\n      }\n    )\n  }\n\n  switch (action.type) {\n    case \"IMAGE_OR_VIDEO_LOADED\": {\n      const { duration } = action.metadata\n      if (typeof duration === \"number\") {\n        return setIn(state, [\"videoDuration\"], duration * 1000)\n      }\n    }\n    case \"FOOTER_BUTTON_CLICKED\": {\n      switch (action.buttonName.toLowerCase()) {\n        case \"play\":\n          return setIn(state, [\"videoPlaying\"], true)\n        case \"pause\":\n          return setIn(state, [\"videoPlaying\"], false)\n      }\n    }\n    case \"CHANGE_VIDEO_TIME\": {\n      return setIn(state, [\"currentVideoTime\"], action.newTime)\n    }\n    case \"CHANGE_VIDEO_PLAYING\": {\n      return setIn(state, [\"videoPlaying\"], action.isPlaying)\n    }\n    case \"DELETE_KEYFRAME\": {\n      return setIn(state, [\"keyframes\"], without(state.keyframes, action.time))\n    }\n    default:\n      break\n  }\n\n  // Before the user modifies regions, copy the interpolated regions over to a\n  // new keyframe\n  if (!state.keyframes[state.currentVideoTime]) {\n    switch (action.type) {\n      case \"BEGIN_BOX_TRANSFORM\":\n      case \"BEGIN_MOVE_POINT\":\n      case \"BEGIN_MOVE_POLYGON_POINT\":\n      case \"ADD_POLYGON_POINT\":\n      case \"SELECT_REGION\":\n      case \"CHANGE_REGION\":\n      case \"DELETE_REGION\":\n      case \"OPEN_REGION_EDITOR\":\n        return copyImpliedRegions()\n      case \"MOUSE_DOWN\": {\n        switch (state.selectedTool) {\n          case \"create-point\":\n          case \"create-polygon\":\n          case \"create-box\":\n            return copyImpliedRegions()\n          default:\n            break\n        }\n        break\n      }\n      default:\n        break\n    }\n  }\n\n  return state\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-implied-video-regions.js",["413"],"// @flow\n\nimport type { Region } from \"../../ImageCanvas/region-tools.js\"\n\nconst emptyArr = []\n\nexport default (\n  keyframes: { [string | number]: { regions: Array<Region> } },\n  time: number\n) => {\n  if (keyframes[time || 0]) {\n    return keyframes[time || 0].regions\n  }\n  // Get surrounding video keyframes\n  const keyframeTimes = Object.keys(keyframes)\n    .map((a) => parseInt(a))\n    .filter((a) => !isNaN(a))\n  if (keyframeTimes.length === 0) return emptyArr\n  keyframeTimes.sort((a, b) => a - b)\n  let nextKeyframeTimeIndex = keyframeTimes.findIndex((kt) => kt >= time)\n  if (nextKeyframeTimeIndex === -1) {\n    return (\n      keyframes[keyframeTimes[keyframeTimes.length - 1]].regions || emptyArr\n    )\n  } else if (nextKeyframeTimeIndex === 0) {\n    return emptyArr\n  }\n\n  const t1 = keyframeTimes[nextKeyframeTimeIndex - 1]\n  const prevKeyframe = keyframes[t1]\n  const t2 = keyframeTimes[nextKeyframeTimeIndex]\n  const nextKeyframe = keyframes[t2]\n\n  const [prevRegionMap, nextRegionMap] = [{}, {}]\n  for (const region of prevKeyframe.regions) prevRegionMap[region.id] = region\n  for (const region of nextKeyframe.regions) nextRegionMap[region.id] = region\n\n  const impliedRegions = []\n\n  // Weighted time coefficients for linear transition\n  const w1 = (t2 - time) / (t2 - t1)\n  const w2 = 1 - w1\n\n  for (const regionId in prevRegionMap) {\n    const [prev, next] = [prevRegionMap[regionId], nextRegionMap[regionId]]\n    if (!next) {\n      impliedRegions.push({\n        ...prev,\n        highlighted: false,\n        editingLabels: false,\n      })\n      continue\n    }\n    switch (prev.type) {\n      case \"point\": {\n        impliedRegions.push({\n          ...prev,\n          highlighted: false,\n          editingLabels: false,\n          x: prev.x * w1 + next.x * w2,\n          y: prev.y * w1 + next.y * w2,\n        })\n        break\n      }\n      case \"box\": {\n        impliedRegions.push({\n          ...prev,\n          highlighted: false,\n          editingLabels: false,\n          x: prev.x * w1 + next.x * w2,\n          y: prev.y * w1 + next.y * w2,\n          w: prev.w * w1 + next.w * w2,\n          h: prev.h * w1 + next.h * w2,\n        })\n        break\n      }\n      case \"polygon\": {\n        if (next.points.length === prev.points.length) {\n          impliedRegions.push({\n            ...prev,\n            highlighted: false,\n            editingLabels: false,\n            points: prev.points.map((pp, i) => [\n              pp[0] * w1 + next.points[i][0] * w2,\n              pp[1] * w1 + next.points[i][1] * w2,\n            ]),\n          })\n        } else {\n          impliedRegions.push(prev)\n        }\n        break\n      }\n      default:\n        break\n    }\n  }\n\n  return impliedRegions\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/styles.js",["414"],"import { grey } from \"@material-ui/core/colors\"\n\nexport default {\n  container: {\n    display: \"flex\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    height: \"100%\",\n    maxHeight: \"100vh\",\n    backgroundColor: \"#fff\",\n    overflow: \"hidden\",\n    \"&.fullscreen\": {\n      position: \"absolute\",\n      zIndex: 99999,\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n    },\n  },\n  headerTitle: {\n    fontWeight: \"bold\",\n    color: grey[700],\n    paddingLeft: 16,\n  },\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageSelectorSidebarBox/index.js",["415","416","417","418"],"// @flow\n\nimport React, { memo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\nimport CollectionsIcon from \"@material-ui/icons/Folder\"\nimport { grey,red } from \"@material-ui/core/colors\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport isEqual from \"lodash/isEqual\"\n\nconst useStyles = makeStyles({\n  img: { width: 170, height: 40, marginLeft:30, borderRadius: 8 },\n})\n\nexport const ImageSelectorSidebarBox = ({ images, onSelect,state }) => {\n  const classes = useStyles()\n  console.log(\"State: \", state);\n  return (\n    <SidebarBoxContainer\n      title={state.jobName || 'Job Name'}\n      subTitle={`(${images.length})`}\n      icon={<CollectionsIcon style={{ color: red[700] }} />}\n    >\n      <div>\n        <List>\n          {images.map((img, i) => (\n            <ListItem \n            button\n              className={\n                `imageListItem ${i == state.selectedImage ? 'active' : ''}`\n              }\n              onClick={() => onSelect(img, i)}\n              key={i}>\n              {/* <img className={classes.img} src={img.src} /> */}\n              <ListItemText\n                primary={img.name}\n              />\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </SidebarBoxContainer>\n  )\n}\n\nconst mapUsedImageProps = (a) => [a.name, (a.regions || []).length, a.src]\n\nexport default memo(ImageSelectorSidebarBox, (prevProps, nextProps) =>\n  isEqual(\n    prevProps.images.map(mapUsedImageProps),\n    nextProps.images.map(mapUsedImageProps)\n  )\n)\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframesSelectorSidebarBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TagsSidebarBox/index.js",["419"],"// @flow\n\nimport React, { useMemo, memo } from \"react\"\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport StyleIcon from \"@material-ui/icons/Style\"\nimport { grey } from \"@material-ui/core/colors\"\nimport Select from \"react-select\"\nimport useEventCallback from \"use-event-callback\"\nimport { asMutable } from \"seamless-immutable\"\n\nconst useStyles = makeStyles({})\n\ntype Props = {\n  tags: Array<string>,\n  currentImage: { cls?: string, tags?: Array<string> },\n  imageClsList?: Array<string>,\n  imageTagList?: Array<string>,\n  onChangeImage: (Array<string>) => any,\n}\n\nconst emptyArr = []\nconst noop = () => null\n\nexport const TagsSidebarBox = ({\n  currentImage,\n  imageClsList = emptyArr,\n  imageTagList = emptyArr,\n  onChangeImage = noop,\n}: Props) => {\n  const { tags = [], cls = null } = currentImage || {}\n  const onChangeClassification = useEventCallback((o) =>\n    onChangeImage({ cls: o.value })\n  )\n  const onChangeTags = useEventCallback((o) =>\n    onChangeImage({ tags: o.map((a) => a.value) })\n  )\n  const selectValue = useMemo(() => (cls ? { value: cls, label: cls } : null), [\n    cls,\n  ])\n  const memoImgClsList = useMemo(\n    () => asMutable(imageClsList.map((c) => ({ value: c, label: c }))),\n    [imageClsList]\n  )\n  const memoImgTagList = useMemo(\n    () => asMutable(imageTagList.map((c) => ({ value: c, label: c }))),\n    [imageTagList]\n  )\n  const memoCurrentTags = useMemo(\n    () => tags.map((r) => ({ value: r, label: r })),\n    [tags]\n  )\n\n  if (!currentImage) return null\n\n  return (\n    <SidebarBoxContainer\n      title=\"Image Tags\"\n      expandedByDefault\n      noScroll\n      icon={<StyleIcon style={{ color: grey[700] }} />}\n    >\n      {imageClsList.length > 0 && (\n        <div style={{ padding: 8 }}>\n          <Select\n            placeholder=\"Image Classification\"\n            onChange={onChangeClassification}\n            value={selectValue}\n            options={memoImgClsList}\n          />\n        </div>\n      )}\n      {imageTagList.length > 0 && (\n        <div style={{ padding: 8, paddingTop: 0 }}>\n          <Select\n            isMulti\n            placeholder=\"Image Tags\"\n            onChange={onChangeTags}\n            value={memoCurrentTags}\n            options={memoImgTagList}\n          />\n        </div>\n      )}\n    </SidebarBoxContainer>\n  )\n}\n\nexport default memo(\n  TagsSidebarBox,\n  (prevProps, nextProps) =>\n    prevProps.currentImage.cls === nextProps.currentImage.cls &&\n    prevProps.currentImage.tags === nextProps.currentImage.tags &&\n    prevProps.imageClsList === nextProps.imageClsList &&\n    prevProps.imageTagList === nextProps.imageTagList\n)\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/WorkContainer/index.js",["420"],"import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { grey } from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  position: \"relative\",\n  height: \"60%\",\n  width:'100%',\n  // backgroundColor: grey[50],\n  overflowY: \"auto\",\n})\nconst ShadowOverlay = styled(\"div\")({\n  content: \"' '\",\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  pointerEvents: \"none\",\n  \n})\n\nexport const WorkContainer = React.forwardRef(({ children }, ref) => {\n  return (\n    <Container ref={ref}>\n      {children}\n      <ShadowOverlay />\n    </Container>\n  )\n})\n\nexport default WorkContainer\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectorSidebarBox/styles.js",["421","422","423"],"import { grey, blue, orange, purple } from \"@material-ui/core/colors\"\n\nexport default {\n  container: {\n    fontSize: 11,\n    fontWeight: \"bold\",\n    color: grey[700],\n    \"& .icon\": {\n      marginTop: 4,\n      width: 16,\n      height: 16,\n    },\n    \"& .icon2\": {\n      opacity: 0.5,\n      width: 16,\n      height: 16,\n      transition: \"200ms opacity\",\n      \"&:hover\": {\n        cursor: \"pointer\",\n        opacity: 1,\n      },\n    },\n  },\n  row: {\n    padding: 4,\n    cursor: \"pointer\",\n    \"&.header:hover\": {\n      backgroundColor: \"#fff\",\n    },\n    \"&.highlighted\": {\n      backgroundColor: blue[100],\n    },\n    \"&:hover\": {\n      backgroundColor: blue[50],\n      color: grey[800],\n    },\n  },\n  chip: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    padding: 2,\n    borderRadius: 2,\n    paddingLeft: 4,\n    paddingRight: 4,\n    alignItems: \"center\",\n    \"& .color\": {\n      borderRadius: 5,\n      width: 10,\n      height: 10,\n      marginRight: 4,\n    },\n    \"& .text\": {},\n  },\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-wasd-mode.js",["424","425"],"import { useEffect } from \"react\"\nimport { useSettings } from \"../SettingsProvider\"\n\nexport default ({ getLatestMat, changeMat }) => {\n  const { wasdMode } = useSettings()\n  useEffect(() => {\n    if (!wasdMode) return\n    const vel = 10\n    const dirs = {\n      w: [0, -vel],\n      a: [-vel, 0],\n      s: [0, vel],\n      d: [vel, 0],\n    }\n    const keysDown = {}\n    const keys = Object.keys(dirs)\n    const keyDownListener = (e) => {\n      if (keys.includes(e.key)) {\n        keysDown[e.key] = true\n        e.preventDefault()\n        e.stopPropagation()\n      }\n    }\n    const keyUpListener = (e) => {\n      if (keys.includes(e.key)) {\n        keysDown[e.key] = false\n        e.preventDefault()\n        e.stopPropagation()\n      }\n    }\n    const interval = setInterval(() => {\n      let newMat = getLatestMat().clone()\n      let somethingChanged = false\n      for (const key in keysDown) {\n        if (keysDown[key]) {\n          newMat = newMat.translate(...dirs[key])\n          somethingChanged = true\n        }\n      }\n      if (somethingChanged) changeMat(newMat)\n    }, 16)\n    window.addEventListener(\"keydown\", keyDownListener)\n    window.addEventListener(\"keyup\", keyUpListener)\n    return () => {\n      clearInterval(interval)\n      window.removeEventListener(\"keydown\", keyDownListener)\n      window.removeEventListener(\"keyup\", keyUpListener)\n    }\n  }, [wasdMode])\n}\n",["426","427"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-mapping.js",[],["428","429"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/styles.js",["430","431","432","433"],"import { grey, blue, orange, purple } from \"@material-ui/core/colors\"\n\nexport default {\n  container: {\n    fontSize: 11,\n    fontWeight: \"bold\",\n    color: grey[700],\n    \"& .icon\": {\n      marginTop: 4,\n      width: 10,\n      height: 10,\n      color:'green',\n\n    },\n    \"& .icon2\": {\n      opacity: 0.5,\n      width: 10,\n      color:'green',\n      height: 10,\n      transition: \"200ms opacity\",\n      \"&:hover\": {\n        cursor: \"pointer\",\n        opacity: 1,\n      },\n    },\n  },\n  row: {\n    padding: 4,\n    cursor: \"pointer\",\n    \"&.header:hover\": {\n      // backgroundColor: blue[50],\n    },\n    \"&.highlighted\": {\n      backgroundColor: \"#5999c9\",\n    },\n    \"&:hover\": {\n      // backgroundColor: blue[50],\n      color: grey[800],\n    },\n  },\n  chip: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    padding: 2,\n    borderRadius: 2,\n    paddingLeft: 4,\n    paddingRight: 4,\n    alignItems: \"center\",\n    \"& .color\": {\n      borderRadius: 5,\n      width: 10,\n      height: 10,\n      marginRight: 4,\n    },\n    \"& .text\": {},\n  },\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/colors.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-project-box.js",["434"],"// @flow weak\nimport useEventCallback from \"use-event-callback\"\nimport { getEnclosingBox } from \"./region-tools.js\"\n\nexport default ({ layoutParams, mat }) => {\n  return useEventCallback((r) => {\n    const { iw, ih } = layoutParams.current\n    const bbox = getEnclosingBox(r)\n    const margin = r.type === \"point\" ? 15 : 2\n    const cbox = {\n      x: bbox.x * iw - margin,\n      y: bbox.y * ih - margin,\n      w: bbox.w * iw + margin * 2,\n      h: bbox.h * ih + margin * 2,\n    }\n    const pbox = {\n      ...mat.clone().inverse().applyToPoint(cbox.x, cbox.y),\n      w: cbox.w / mat.a,\n      h: cbox.h / mat.d,\n    }\n    return pbox\n  })\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-window-size.js",["435"],"// @flow\n\nimport { useEffect } from \"react\"\n\nimport { useRafState, useInterval } from \"react-use\"\n\nconst useWindowSize = (initialWidth = Infinity, initialHeight = Infinity) => {\n  const isClient = typeof window !== \"undefined\"\n  const [state, setState] = useRafState({\n    width: isClient ? window.innerWidth : initialWidth,\n    height: isClient ? window.innerHeight : initialHeight,\n  })\n\n  useEffect(() => {\n    if (!isClient) return\n    const handler = () => {\n      setState({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      })\n    }\n\n    window.addEventListener(\"resize\", handler)\n\n    return () => {\n      window.removeEventListener(\"resize\", handler)\n    }\n  }, [])\n\n  useInterval(() => {\n    if (!isClient) return\n    if (\n      window.innerWidth !== state.width ||\n      window.innerHeight !== state.height\n    ) {\n      setState({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      })\n    }\n  }, 100)\n\n  return state\n}\n\nexport default useWindowSize\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionTags/index.js",["436","437"],"// @flow weak\n\nimport React from \"react\"\nimport Paper from \"@material-ui/core/Paper\"\nimport DefaultRegionLabel from \"../RegionLabel\"\nimport LockIcon from \"@material-ui/icons/Lock\"\n\nconst copyWithout = (obj, ...args) => {\n  const newObj = { ...obj }\n  for (const arg of args) {\n    delete newObj[arg]\n  }\n  return newObj\n}\n\nexport const RegionTags = ({\n  regions,\n  projectRegionBox,\n  mouseEvents,\n  regionClsList,\n  regionTagList,\n  onBeginRegionEdit,\n  onChangeRegion,\n  onCloseRegionEdit,\n  onDeleteRegion,\n  layoutParams,\n  imageSrc,\n  RegionEditLabel,\n  onRegionClassAdded,\n}) => {\n  const RegionLabel =\n    RegionEditLabel != null ? RegionEditLabel : DefaultRegionLabel\n  return regions\n    .filter((r) => r.visible || r.visible === undefined)\n    .map((region) => {\n      const pbox = projectRegionBox(region)\n      const { iw, ih } = layoutParams.current\n      let margin = 8\n      if (region.highlighted && region.type === \"box\") margin += 6\n      const labelBoxHeight =\n        region.editingLabels && !region.locked ? 170 : region.tags ? 60 : 50\n      const displayOnTop = pbox.y > labelBoxHeight\n\n      const coords = displayOnTop\n        ? {\n            left: pbox.x,\n            top: pbox.y - margin / 2,\n          }\n        : { left: pbox.x, top: pbox.y + pbox.h + margin / 2 }\n      if (region.locked) {\n        return (\n          <div\n            key={region.id}\n            style={{\n              position: \"absolute\",\n              ...coords,\n              zIndex: 10 + (region.editingLabels ? 5 : 0),\n            }}\n          >\n            <Paper\n              style={{\n                position: \"absolute\",\n                left: 0,\n                ...(displayOnTop ? { bottom: 0 } : { top: 0 }),\n                zIndex: 10,\n                backgroundColor: \"#fff\",\n                borderRadius: 4,\n                padding: 2,\n                paddingBottom: 0,\n                opacity: 0.5,\n                pointerEvents: \"none\",\n              }}\n            >\n              <LockIcon style={{ width: 16, height: 16, color: \"#333\" }} />\n            </Paper>\n          </div>\n        )\n      }\n      return (\n        <div\n          key={region.id}\n          style={{\n            position: \"absolute\",\n            ...coords,\n            zIndex: 10 + (region.editingLabels ? 5 : 0),\n            width: 200,\n          }}\n          onMouseDown={(e) => e.preventDefault()}\n          onMouseUp={(e) => e.preventDefault()}\n          onMouseEnter={(e) => {\n            if (region.editingLabels) {\n              mouseEvents.onMouseUp(e)\n              e.button = 1\n              mouseEvents.onMouseUp(e)\n            }\n          }}\n        >\n          <div\n            style={{\n              position: \"absolute\",\n              zIndex: 20,\n              left: 0,\n              ...(displayOnTop ? { bottom: 0 } : { top: 0 }),\n            }}\n            {...(!region.editingLabels\n              ? copyWithout(mouseEvents, \"onMouseDown\", \"onMouseUp\")\n              : {})}\n          >\n            <RegionLabel\n              allowedClasses={regionClsList}\n              allowedTags={regionTagList}\n              onOpen={onBeginRegionEdit}\n              onChange={onChangeRegion}\n              onClose={onCloseRegionEdit}\n              onDelete={onDeleteRegion}\n              editing={region.editingLabels}\n              region={region}\n              regions={regions}\n              imageSrc={imageSrc}\n              onRegionClassAdded={onRegionClassAdded}\n            />\n          </div>\n        </div>\n      )\n    })\n}\n\nexport default RegionTags\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-mouse.js",["438"],"// @flow weak\n\nimport { useRef } from \"react\"\nimport { Matrix } from \"transformation-matrix-js\"\n\nconst getDefaultMat = () => Matrix.from(1, 0, 0, 1, -10, -10)\n\nexport default ({\n  canvasEl,\n  changeMat,\n  changeDragging,\n  zoomStart,\n  zoomEnd,\n  changeZoomStart,\n  changeZoomEnd,\n  layoutParams,\n  zoomWithPrimary,\n  dragWithPrimary,\n  mat,\n  onMouseMove,\n  onMouseUp,\n  onMouseDown,\n  dragging,\n}) => {\n  const mousePosition = useRef({ x: 0, y: 0 })\n  const prevMousePosition = useRef({ x: 0, y: 0 })\n\n  const zoomIn = (direction, point) => {\n    const [mx, my] = [point.x, point.y]\n    let scale =\n      typeof direction === \"object\" ? direction.to / mat.a : 1 + 0.2 * direction\n\n    // NOTE: We're mutating mat here\n    mat.translate(mx, my).scaleU(scale)\n    if (mat.a > 2) mat.scaleU(2 / mat.a)\n    if (mat.a < 0.05) mat.scaleU(0.05 / mat.a)\n    mat.translate(-mx, -my)\n\n    changeMat(mat.clone())\n  }\n\n  const mouseEvents = {\n    onMouseMove: (e) => {\n      const { left, top } = canvasEl.current.getBoundingClientRect()\n      prevMousePosition.current.x = mousePosition.current.x\n      prevMousePosition.current.y = mousePosition.current.y\n      mousePosition.current.x = e.clientX - left\n      mousePosition.current.y = e.clientY - top\n\n      const projMouse = mat.applyToPoint(\n        mousePosition.current.x,\n        mousePosition.current.y\n      )\n\n      if (zoomWithPrimary && zoomStart) {\n        changeZoomEnd(projMouse)\n      }\n\n      const { iw, ih } = layoutParams.current\n      onMouseMove({ x: projMouse.x / iw, y: projMouse.y / ih })\n\n      if (dragging) {\n        mat.translate(\n          prevMousePosition.current.x - mousePosition.current.x,\n          prevMousePosition.current.y - mousePosition.current.y\n        )\n\n        changeMat(mat.clone())\n      }\n      e.preventDefault()\n    },\n    onMouseDown: (e, specialEvent = {}) => {\n      e.preventDefault()\n\n      if (\n        e.button === 1 ||\n        e.button === 2 ||\n        (e.button === 0 && dragWithPrimary)\n      )\n        return changeDragging(true)\n\n      const projMouse = mat.applyToPoint(\n        mousePosition.current.x,\n        mousePosition.current.y\n      )\n      if (zoomWithPrimary && e.button === 0) {\n        changeZoomStart(projMouse)\n        changeZoomEnd(projMouse)\n        return\n      }\n      if (e.button === 0) {\n        if (specialEvent.type === \"resize-box\") {\n          // onResizeBox()\n        }\n        if (specialEvent.type === \"move-region\") {\n          // onResizeBox()\n        }\n        const { iw, ih } = layoutParams.current\n        onMouseDown({ x: projMouse.x / iw, y: projMouse.y / ih })\n      }\n    },\n    onMouseUp: (e) => {\n      e.preventDefault()\n      const projMouse = mat.applyToPoint(\n        mousePosition.current.x,\n        mousePosition.current.y\n      )\n      if (zoomStart) {\n        const zoomEnd = projMouse\n        if (\n          Math.abs(zoomStart.x - zoomEnd.x) < 10 &&\n          Math.abs(zoomStart.y - zoomEnd.y) < 10\n        ) {\n          if (mat.a < 1) {\n            zoomIn({ to: 1 }, mousePosition.current)\n          } else {\n            zoomIn({ to: 0.25 }, mousePosition.current)\n          }\n        } else {\n          const { iw, ih } = layoutParams.current\n\n          if (zoomStart.x > zoomEnd.x) {\n            ;[zoomStart.x, zoomEnd.x] = [zoomEnd.x, zoomStart.x]\n          }\n          if (zoomStart.y > zoomEnd.y) {\n            ;[zoomStart.y, zoomEnd.y] = [zoomEnd.y, zoomStart.y]\n          }\n\n          // The region defined by zoomStart and zoomEnd should be the new transform\n          let scale = Math.min(\n            (zoomEnd.x - zoomStart.x) / iw,\n            (zoomEnd.y - zoomStart.y) / ih\n          )\n          if (scale < 0.05) scale = 0.05\n          if (scale > 10) scale = 10\n\n          const newMat = getDefaultMat()\n            .translate(zoomStart.x, zoomStart.y)\n            .scaleU(scale)\n\n          changeMat(newMat.clone())\n        }\n\n        changeZoomStart(null)\n        changeZoomEnd(null)\n      }\n      if (\n        e.button === 1 ||\n        e.button === 2 ||\n        (e.button === 0 && dragWithPrimary)\n      )\n        return changeDragging(false)\n      if (e.button === 0) {\n        const { iw, ih } = layoutParams.current\n        onMouseUp({ x: projMouse.x / iw, y: projMouse.y / ih })\n      }\n    },\n    onWheel: (e, position) => {\n\n      const direction = e.deltaY > 0 ? 1 : e.deltaY < 0 ? -1 : 0\n      zoomIn(direction, position || prevMousePosition.current)\n      // e.preventDefault()\n\n    },\n    onContextMenu: (e) => {\n      e.preventDefault()\n    },\n  }\n  return { mouseEvents, mousePosition,zoomIn }\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageMask/load-image.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/index.js",["439","440","441"],"// @flow\n\nimport  React,{ useReducer, useEffect } from \"react\"\nimport type { Node } from \"react\"\nimport MainLayout from \"../MainLayout\"\nimport type {\n  ToolEnum,\n  Image,\n  Mode,\n  MainLayoutState,\n  Action,\n} from \"../MainLayout/types\"\nimport type { KeypointsDefinition } from \"../ImageCanvas/region-tools\"\nimport SettingsProvider from \"../SettingsProvider\"\n\nimport combineReducers from \"./reducers/combine-reducers.js\"\nimport generalReducer from \"./reducers/general-reducer.js\"\nimport imageReducer from \"./reducers/image-reducer.js\"\nimport videoReducer from \"./reducers/video-reducer.js\"\nimport historyHandler from \"./reducers/history-handler.js\"\n\nimport useEventCallback from \"use-event-callback\"\nimport makeImmutable, { without } from \"seamless-immutable\"\n\ntype Props = {\n  taskDescription?: string,\n  allowedArea?: { x: number, y: number, w: number, h: number },\n  regionTagList?: Array<string>,\n  regionClsList?: Array<string>,\n  imageTagList?: Array<string>,\n  imageClsList?: Array<string>,\n  enabledTools?: Array<string>,\n  selectedTool?: String,\n  showTags?: boolean,\n  selectedImage?: string | number,\n  images?: Array<Image>,\n  showPointDistances?: boolean,\n  pointDistancePrecision?: number,\n  RegionEditLabel?: Node,\n  onSubmit: (MainLayoutState) => any,\n  onSave: (Object) => any,\n  videoTime?: number,\n  videoSrc?: string,\n  keyframes?: Object,\n  videoName?: string,\n  keypointDefinitions: KeypointsDefinition,\n  fullImageSegmentationMode?: boolean,\n  autoSegmentationOptions?:\n    | {| type: \"simple\" |}\n    | {| type: \"autoseg\", maxClusters?: number, slicWeightFactor?: number |},\n}\n\nexport const Annotator = ({\n  images,\n  allowedArea,\n  selectedImage = images && images.length > 0 ? 0 : undefined,\n  showPointDistances,\n  pointDistancePrecision,\n  showTags = true,\n  enabledTools = [\n    \"pan\",\n    \"zoom-in\",\n    \"polygon\",\n    \"show-mask\",\n    \"free-hand\"\n  ],\n  renderError,\n  selectedTool = \"pan\",\n  jobName=\"\",\n  regionTagList = [],\n  regionClsList = [],\n  imageTagList = [],\n  imageClsList = [],\n  keyframes = {},\n  taskDescription = \"\",\n  fullImageSegmentationMode = false,\n  RegionEditLabel,\n  videoSrc,\n  videoTime = 0,\n  videoName,\n  onSubmit,\n  onSave,\n  onNextImage,\n  onPrevImage,\n  keypointDefinitions,\n  autoSegmentationOptions = { type: \"autoseg\" },\n}: Props) => {\n  if (typeof selectedImage === \"string\") {\n    selectedImage = (images || []).findIndex((img) => img.src === selectedImage)\n    if (selectedImage === -1) selectedImage = undefined\n  }\n  const annotationType = images ? \"image\" : \"video\"\n  const [state, dispatchToReducer] = useReducer(\n    historyHandler(\n      combineReducers(\n        annotationType === \"image\" ? imageReducer : videoReducer,\n        generalReducer\n      )\n    ),\n    makeImmutable({\n      annotationType,\n      showTags,\n      jobName,\n      allowedArea,\n      showPointDistances,\n      pointDistancePrecision,\n      selectedTool,\n      fullImageSegmentationMode: fullImageSegmentationMode,\n      autoSegmentationOptions,\n      mode: null,\n      taskDescription,\n      showMask: true,\n      labelImages: imageClsList.length > 0 || imageTagList.length > 0,\n      regionClsList,\n      regionTagList,\n      imageClsList,\n\n      imageTagList,\n      currentVideoTime: videoTime,\n      enabledTools,\n      history: [],\n      historyCache:{},\n      videoName,\n      keypointDefinitions,\n      ...(annotationType === \"image\"\n        ? {\n            selectedImage,\n            images,\n            selectedImageFrameTime:\n              images && images.length > 0 ? images[0].frameTime : undefined,\n          }\n        : {\n            videoSrc,\n            keyframes,\n          }),\n    })\n  )\n\n  const dispatch = useEventCallback((action: Action) => {\n    if (action.type === \"FOOTER_BUTTON_CLICKED\") {\n      // console.log('Footer');\n      if (action.buttonName === \"submit\") {\n        return onSubmit(without(state, \"history\"))\n      }\n      else if (action.buttonName === \"save\") {\n        const image = state.images[state.selectedImage];\n        console.log(\"Image: \",image)\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = image.dimen && image.dimen.width\n        canvas.height = image.dimen && image.dimen.height\n        var ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = \"white\";\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        var img = document.createElement(\"img\");\n        img.setAttribute(\"src\", \"data:image/svg+xml;base64,\" + image.region_data);\n        img.onload = function() {\n            ctx.drawImage(img, 0, 0);\n          // console.log('ImageData', canvas.toDataURL(\"image/png\"))\n          return onSave(image,canvas.toDataURL(\"image/png\"))\n         };\n      }\n        //   return onNextImage(without(state, \"history\"))\n        // }\n      // else if (action.buttonName === \"Next\" && onNextImage) {\n      //   return onNextImage(without(state, \"history\"))\n      // } else if (action.buttonName === \"Prev\" && onPrevImage) {\n      //   return onPrevImage(without(state, \"history\"))\n      // }\n    }\n    dispatchToReducer(action)\n  })\n\n  const onRegionClassAdded = useEventCallback((cls) => {\n    dispatchToReducer({\n      type: \"ON_CLS_ADDED\",\n      cls: cls,\n    })\n  })\n\n  useEffect(() => {\n    if (selectedImage === undefined) return\n    dispatchToReducer({\n      type: \"SELECT_IMAGE\",\n      imageIndex: selectedImage,\n      image: state.images[selectedImage],\n    })\n  }, [selectedImage])\n\n  if (!images && !videoSrc)\n    return 'Missing required prop \"images\" or \"videoSrc\"'\n\n  return (\n    <SettingsProvider>\n      <MainLayout\n        RegionEditLabel={RegionEditLabel}\n        alwaysShowNextButton={Boolean(onNextImage)}\n        alwaysShowPrevButton={Boolean(onPrevImage)}\n        state={state}\n        renderError={renderError}\n        dispatch={dispatch}\n        onRegionClassAdded={onRegionClassAdded}\n      />\n    </SettingsProvider>\n  )\n}\n\nexport default Annotator\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-active-image.js",["442"],"import { getIn } from \"seamless-immutable\"\n\nexport default (state) => {\n  let currentImageIndex = null,\n    pathToActiveImage,\n    activeImage\n  if (state.annotationType === \"image\") {\n    currentImageIndex = state.selectedImage\n    if (currentImageIndex === -1) {\n      currentImageIndex = null\n      activeImage = null\n    } else {\n      pathToActiveImage = [\"images\", currentImageIndex]\n      activeImage = getIn(state, pathToActiveImage)\n    }\n  } else if (state.annotationType === \"video\") {\n    pathToActiveImage = [\"keyframes\", state.currentVideoTime || 0]\n    activeImage = getIn(state, pathToActiveImage) || null\n  }\n  return { currentImageIndex, pathToActiveImage, activeImage }\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/use-implied-video-regions.js",["443"],"// @flow\n\nimport { useMemo } from \"react\"\nimport type { MainLayoutVideoAnnotationState } from \"../Annotator/types\"\nimport getImpliedVideoRegions from \"../Annotator/reducers/get-implied-video-regions.js\"\n\nconst emptyArr = []\n\nexport default (state: MainLayoutVideoAnnotationState) => {\n  if (state.annotationType !== \"video\") return emptyArr\n  const { keyframes, currentVideoTime = 0 } = state\n  // TODO memoize\n  return useMemo(() => getImpliedVideoRegions(keyframes, currentVideoTime), [\n    keyframes,\n    currentVideoTime,\n  ])\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SettingsDialog/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/icon-dictionary.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/index.js",["444","445","446"],"// @flow weak\n\nimport React, { useMemo, useState, useEffect } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\nimport useMeasure from \"react-use-measure\"\nimport useEventCallback from \"use-event-callback\"\nimport { useRafState } from \"react-use\"\nimport getTimeString from \"./get-time-string\"\n\nconst Container = styled(\"div\")({\n  position: \"relative\",\n  display: \"flex\",\n  flexGrow: 1,\n  minWidth: 240,\n  height: 64,\n  marginLeft: 16,\n  marginRight: 16,\n})\n\nconst Tick = styled(\"div\")({\n  position: \"absolute\",\n  width: 2,\n  marginLeft: -1,\n  height: \"100%\",\n  backgroundColor: colors.grey[300],\n  bottom: 0,\n})\nconst TickText = styled(\"div\")({\n  position: \"absolute\",\n  userSelect: \"none\",\n  fontSize: 10,\n  color: colors.grey[600],\n  fontWeight: \"bold\",\n  bottom: 0,\n})\n\nconst PositionCursor = styled(\"div\")({\n  position: \"absolute\",\n  bottom: \"calc(50% + 6px)\",\n  fontSize: 10,\n  fontWeight: \"bold\",\n  color: \"#fff\",\n  display: \"grid\",\n  placeItems: \"center\",\n  width: 48,\n  marginLeft: -24,\n  borderRadius: 2,\n  height: 24,\n  backgroundColor: colors.blue[500],\n  userSelect: \"none\",\n  fontVariantNumeric: \"tabular-nums\",\n\n  \"&::before\": {\n    position: \"absolute\",\n    bottom: -6,\n    left: 24 - 8,\n    content: '\"\"',\n    width: 0,\n    height: 0,\n    borderTop: `8px solid ${colors.blue[500]}`,\n    borderLeft: \"8px solid transparent\",\n    borderRight: \"8px solid transparent\",\n  },\n})\n\nconst KeyframeMarker = styled(\"div\")({\n  position: \"absolute\",\n  bottom: 8,\n  cursor: \"pointer\",\n  opacity: 0.75,\n  fontSize: 10,\n  fontWeight: \"bold\",\n  color: \"#fff\",\n  display: \"grid\",\n  placeItems: \"center\",\n  width: 16,\n  marginLeft: 0,\n  borderTopLeftRadius: 2,\n  borderTopRightRadius: 2,\n  height: 12,\n  marginLeft: -8,\n  backgroundColor: colors.red[500],\n  userSelect: \"none\",\n  fontVariantNumeric: \"tabular-nums\",\n\n  \"&::before\": {\n    position: \"absolute\",\n    bottom: -8,\n    left: 0,\n    content: '\"\"',\n    width: 0,\n    height: 0,\n    borderTop: `8px solid ${colors.red[500]}`,\n    borderLeft: \"8px solid transparent\",\n    borderRight: \"8px solid transparent\",\n  },\n})\n\nconst min = 60000\nconst displayIntervalPairs = [\n  [50, 250],\n  [100, 500],\n  [250, 1000],\n  [1000, 5000],\n  [5000, 30000],\n  [10000, min],\n  [30000, min * 2],\n  [min, min * 5],\n  [min * 5, min * 30],\n  [min * 10, min * 60],\n  [min * 30, min * 60 * 3],\n  [min * 60, min * 60 * 5],\n]\n\nconst getMajorInterval = (duration) => {\n  for (const [minor, major] of displayIntervalPairs) {\n    if (duration / major < 6 && duration / major > 2) {\n      return [minor, major]\n    }\n  }\n  return [duration / 4, duration]\n}\n\nexport default ({\n  currentTime = 0,\n  duration,\n  onChangeCurrentTime,\n  keyframes,\n}) => {\n  const [ref, bounds] = useMeasure()\n  const [instantCurrentTime, changeInstantCurrentTime] = useState(currentTime)\n  const [draggingTime, changeDraggingTime] = useRafState(false)\n  const keyframeTimes = Object.keys(keyframes || {})\n    .map((t) => parseInt(t))\n    .filter((t) => !isNaN(t))\n    .sort((a, b) => a - b)\n\n  useEffect(() => {\n    if (currentTime !== instantCurrentTime) {\n      changeInstantCurrentTime(currentTime)\n    }\n  }, [currentTime])\n\n  const [minorInterval, majorInterval] = useMemo(\n    () => getMajorInterval(duration),\n    [duration]\n  )\n\n  const onMouseMove = useEventCallback((e) => {\n    if (draggingTime) {\n      const px = (e.clientX - bounds.left) / bounds.width\n      changeInstantCurrentTime(\n        Math.min(duration, Math.max(0, Math.floor(px * duration)))\n      )\n    }\n  })\n\n  const onMouseUp = useEventCallback((e) => {\n    changeDraggingTime(false)\n    const px = (e.clientX - bounds.left) / bounds.width\n    const newTime = Math.min(duration, Math.max(0, Math.floor(px * duration)))\n    changeInstantCurrentTime(newTime)\n    onChangeCurrentTime(newTime)\n  })\n\n  // TODO skeleton\n  if (!duration) return null\n\n  return (\n    <Container onMouseMove={onMouseMove} onMouseUp={onMouseUp} ref={ref}>\n      {range(0, duration, majorInterval).map((a) => (\n        <>\n          <Tick\n            key={a}\n            style={{ left: (a / duration) * bounds.width, height: \"50%\" }}\n          />\n          <TickText\n            style={{\n              left: (a / duration) * bounds.width + 8,\n              bottom: \"calc(50% - 12px)\",\n            }}\n          >\n            {getTimeString(a)}\n          </TickText>\n        </>\n      ))}\n      {range(0, duration, minorInterval)\n        .filter((a) => !Number.isInteger(a / majorInterval))\n        .map((a) => (\n          <Tick\n            key={a}\n            style={{\n              left: (a / duration) * bounds.width,\n              height: \"25%\",\n            }}\n          />\n        ))}\n      {keyframeTimes.map((kt) => (\n        <KeyframeMarker\n          onClick={() => onChangeCurrentTime(kt)}\n          key={kt}\n          style={{ left: (kt / duration) * bounds.width }}\n        />\n      ))}\n      <PositionCursor\n        onMouseDown={(e) => changeDraggingTime(true)}\n        style={{\n          cursor: draggingTime ? \"grabbing\" : \"grab\",\n          left: (instantCurrentTime / duration) * bounds.width,\n        }}\n      >\n        {getTimeString(instantCurrentTime)}\n      </PositionCursor>\n    </Container>\n  )\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/region-tools.js",["447","448"],"// @flow\n\nexport type BaseRegion = {\n  id: string | number,\n  cls?: string,\n  locked?: boolean,\n  visible?: boolean,\n  color: string,\n  editingLabels?: boolean,\n  highlighted?: boolean,\n  tags?: Array<string>,\n}\n\nexport type Point = {|\n  ...$Exact<BaseRegion>,\n  type: \"point\",\n  x: number,\n  y: number,\n|}\n\nexport type PixelRegion =\n  | {|\n      ...$Exact<BaseRegion>,\n      type: \"pixel\",\n      sx: number,\n      sy: number,\n      w: number,\n      h: number,\n      src: string,\n    |}\n  | {|\n      ...$Exact<BaseRegion>,\n      type: \"pixel\",\n      points: Array<[number, number]>,\n    |}\nexport type Box = {|\n  ...$Exact<BaseRegion>,\n  type: \"box\",\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n|}\n\nexport type Polygon = {|\n  ...$Exact<BaseRegion>,\n  type: \"polygon\",\n  open?: boolean,\n  points: Array<[number, number]>,\n|}\nexport type ExpandingLine = {|\n  ...$Exact<BaseRegion>,\n  type: \"expanding-line\",\n  points: Array<{ x: number, y: number, angle: number, width: number }>,\n|}\n\nexport type KeypointDefinition = {|\n  label: string,\n  color: string,\n  defaultPosition: [number, number],\n|}\n\nexport type KeypointId = string\n\nexport type KeypointsDefinition = {|\n  [id: string]: {\n    connections: Array<[KeypointId, KeypointId]>,\n    landmarks: {\n      [KeypointId]: KeypointDefinition,\n    },\n  },\n|}\n\nexport type Keypoints = {|\n  ...$Exact<BaseRegion>,\n  type: \"keypoints\",\n  keypointsDefinitionId: string,\n  points: {\n    [string]: { x: number, y: number },\n  },\n|}\n\nexport type Region =\n  | Point\n  | PixelRegion\n  | Box\n  | Polygon\n  | ExpandingLine\n  | Keypoints\n\nexport const getEnclosingBox = (region: Region) => {\n  switch (region.type) {\n    case \"polygon\": {\n      const box = {\n        x: Math.min(...region.points.map(([x, y]) => x)),\n        y: Math.min(...region.points.map(([x, y]) => y)),\n        w: 0,\n        h: 0,\n      }\n      box.w = Math.max(...region.points.map(([x, y]) => x)) - box.x\n      box.h = Math.max(...region.points.map(([x, y]) => y)) - box.y\n      return box\n    }\n    case \"keypoints\": {\n      const minX = Math.min(\n        ...Object.values(region.points).map(({ x, y }) => x)\n      )\n      const minY = Math.min(\n        ...Object.values(region.points).map(({ x, y }) => y)\n      )\n      const maxX = Math.max(\n        ...Object.values(region.points).map(({ x, y }) => x)\n      )\n      const maxY = Math.max(\n        ...Object.values(region.points).map(({ x, y }) => y)\n      )\n      return {\n        x: minX,\n        y: minY,\n        w: maxX - minX,\n        h: maxY - minY,\n      }\n    }\n    case \"expanding-line\": {\n      const box = {\n        x: Math.min(...region.points.map(({ x, y }) => x)),\n        y: Math.min(...region.points.map(({ x, y }) => y)),\n        w: 0,\n        h: 0,\n      }\n      box.w = Math.max(...region.points.map(({ x, y }) => x)) - box.x\n      box.h = Math.max(...region.points.map(({ x, y }) => y)) - box.y\n      return box\n    }\n    case \"box\": {\n      return { x: region.x, y: region.y, w: region.w, h: region.h }\n    }\n    case \"point\": {\n      return { x: region.x, y: region.y, w: 0, h: 0 }\n    }\n    default: {\n      return { x: 0, y: 0, w: 0, h: 0 }\n    }\n  }\n  throw new Error(\"unknown region\")\n}\n\nexport const moveRegion = (region: Region, x: number, y: number) => {\n  switch (region.type) {\n    case \"point\": {\n      return { ...region, x, y }\n    }\n    case \"box\": {\n      return { ...region, x: x - region.w / 2, y: y - region.h / 2 }\n    }\n  }\n  return region\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PreventScrollToParents/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/xpattern.js",["449"],"export default `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wMSAxY5oG+lzgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAcSURBVAjXY/jPwPCfAQnA+TAGugLcAhhakRUAAK3lEe8m9qZhAAAAAElFTkSuQmCC`\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/styles.js",["450"],"/Users/shahn/dev/annotator/custom_annotator/src/components/images.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/index.js",["451","452","453"],"// @flow\n\nimport React, { useState, memo } from \"react\"\nimport Paper from \"@material-ui/core/Paper\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport styles from \"./styles\"\nimport classnames from \"classnames\"\nimport type { Region } from \"../ImageCanvas/region-tools.js\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport TrashIcon from \"@material-ui/icons/Delete\"\nimport CheckIcon from \"@material-ui/icons/Check\"\nimport UndoIcon from \"@material-ui/icons/Undo\"\nimport Select from \"react-select\"\nimport CreatableSelect from \"react-select/creatable\"\n\nimport { asMutable } from \"seamless-immutable\"\n\nconst useStyles = makeStyles(styles)\n\ntype Props = {\n  region: Region,\n  editing?: boolean,\n  allowedClasses?: Array<string>,\n  allowedTags?: Array<string>,\n  cls?: string,\n  tags?: Array<string>,\n  onDelete: (Region) => null,\n  onChange: (Region) => null,\n  onClose: (Region) => null,\n  onOpen: (Region) => null,\n  onRegionClassAdded: () => {},\n}\n\nexport const RegionLabel = ({\n  region,\n  editing,\n  allowedClasses,\n  allowedTags,\n  onDelete,\n  onChange,\n  onClose,\n  onOpen,\n  onRegionClassAdded,\n}: Props) => {\n  const classes = useStyles()\n\n  return (\n    <Paper\n      onClick={() => (!editing ? onOpen(region) : null)}\n      className={classnames(classes.regionInfo, {\n        highlighted: region.highlighted,\n      })}\n    >\n      {!editing ? (\n        <div>\n          {region.cls && (\n            <div className=\"name\">\n              <div\n                className=\"circle\"\n                style={{ backgroundColor: region.color }}\n              />\n              {region.cls}\n            </div>\n          )}\n          {region.tags && (\n            <div className=\"tags\">\n              {region.tags.map((t) => (\n                <div key={t} className=\"tag\">\n                  {t}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      ) : (\n        <div style={{ width: 200 }}>\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n            <div\n              style={{\n                display: \"flex\",\n                backgroundColor: region.color || \"#888\",\n                color: \"#fff\",\n                padding: 4,\n                paddingLeft: 8,\n                paddingRight: 8,\n                borderRadius: 4,\n                fontWeight: \"bold\",\n                textShadow: \"0px 0px 5px rgba(0,0,0,0.4)\",\n              }}\n            >\n              {region.type}\n            </div>\n            <div style={{ flexGrow: 1 }} />\n            <IconButton\n              onClick={() => onDelete(region)}\n              tabIndex={-1}\n              style={{ width: 22, height: 22 }}\n              size=\"small\"\n              variant=\"outlined\"\n            >\n              <TrashIcon style={{ marginTop: -8, width: 16, height: 16 }} />\n            </IconButton>\n          </div>\n          {(allowedClasses || []).length > 0 && (\n            <div style={{ marginTop: 6 }}>\n              <CreatableSelect\n                placeholder=\"Classification\"\n                onChange={(o, actionMeta) => {\n                  if (actionMeta.action == \"create-option\") {\n                    onRegionClassAdded(o.value)\n                  }\n                  return onChange({\n                    ...(region: any),\n                    cls: o.value,\n                  })\n                }}\n                value={\n                  region.cls ? { label: region.cls, value: region.cls } : null\n                }\n                options={asMutable(\n                  allowedClasses.map((c) => ({ value: c, label: c }))\n                )}\n              />\n            </div>\n          )}\n          {(allowedTags || []).length > 0 && (\n            <div style={{ marginTop: 4 }}>\n              <Select\n                onChange={(newTags) =>\n                  onChange({\n                    ...(region: any),\n                    tags: newTags.map((t) => t.value),\n                  })\n                }\n                placeholder=\"Tags\"\n                value={(region.tags || []).map((c) => ({ label: c, value: c }))}\n                isMulti\n                options={asMutable(\n                  allowedTags.map((c) => ({ value: c, label: c }))\n                )}\n              />\n            </div>\n          )}\n          {onClose && (\n            <div style={{ marginTop: 4, display: \"flex\" }}>\n              <div style={{ flexGrow: 1 }} />\n              <Button\n                onClick={() => onClose(region)}\n                size=\"small\"\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                <CheckIcon />\n              </Button>\n            </div>\n          )}\n        </div>\n      )}\n    </Paper>\n  )\n}\n\nexport default memo(\n  RegionLabel,\n  (prevProps, nextProps) =>\n    prevProps.editing === nextProps.editing &&\n    prevProps.region === nextProps.region\n)\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/Slider.js",["454","455","456","457","458","459","460","461"],"import React from 'react'\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\n\nconst useStyles = makeStyles((theme) => ({\n    \n  }));\n\nconst FilterSlider = (props) => {\n    const filter = props.activeImage.filter;\n\n    const classes = useStyles();\n\n    const getDefaultValue = (label) => {\n        if (label == 'brightness') {\n            return 100;\n        }\n        if (label == 'contrast') {\n            return 1;\n        }\n    }\n    const getMaxValue = (label) => {\n        if (label == 'brightness') {\n            return 200;\n        }\n        if (label == 'contrast') {\n            return 10;\n        }\n    }\n    const getMinValue = (label) => {\n        if (label == 'brightness') {\n            return 10;\n        }\n        if (label == 'contrast') {\n            return 1;\n        }\n    }\n\n    return (\n        <div className={classes.root}>\n            \n            <input type=\"range\" step={0} min={getMinValue(props.id)} max={getMaxValue(props.id)}\n                value={filter ? filter[props.id] : getDefaultValue(props.id)} aria-label={props.id} id={props.id} onChange={props.onChange} defaultValue={getDefaultValue(props.id)} />\n            {/* <span>{filter ? filter[props.id] : getDefaultValue(props.id) }</span>            */}\n        </div>\n    )\n}\n\nexport default FilterSlider\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/LabelSelector.js",["462","463","464","465","466","467","468","469","470","471","472","473","474","475"],"import React, { useReducer, useEffect,useState, useMemo,memo } from \"react\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport ExpandIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport ContractIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport { grey } from \"@material-ui/core/colors\"\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\nimport RegionIcon from \"@material-ui/icons/PictureInPicture\"\nimport Grid from \"@material-ui/core/Grid\"\nimport ReorderIcon from \"@material-ui/icons/SwapVert\"\nimport PieChartIcon from \"@material-ui/icons/PieChart\"\nimport TrashIcon from \"@material-ui/icons/Delete\"\nimport LockIcon from \"@material-ui/icons/Lock\"\nimport UnlockIcon from \"@material-ui/icons/LockOpen\"\nimport VisibleIcon from \"@material-ui/icons/Visibility\"\nimport VisibleOffIcon from \"@material-ui/icons/VisibilityOff\"\nimport styles from \"./styles\"\nimport classnames from \"classnames\"\nconst useStyles = makeStyles(styles)\n\nconst colors = ['red','green','blue','pink','violet','indigo','black']\n\nconst Chip = ({ color, text }) => {\n  const classes = useStyles()\n  return (\n    <span className={classes.chip}>\n      <div className=\"color\" style={{ backgroundColor: color }} />\n      <div className=\"text\">{text}</div>\n    </span>\n  )\n}\n\n\n\nconst RowLayout = ({\n  header,\n  highlighted,\n  order,\n  classification,\n  area,\n  tags,\n  lock,\n  visible,\n  onClick,\n}) => {\n  const classes = useStyles()\n\n  const [mouseOver, changeMouseOver] = useState(false)\n  return (\n    <div\n      onClick={onClick}\n      onMouseEnter={() => changeMouseOver(true)}\n      onMouseLeave={() => changeMouseOver(false)}\n      className={classnames(classes.row, { header, highlighted })}\n    >\n      <Grid container alignItems=\"center\">\n        <Grid item xs={5}>\n          {classification}\n        </Grid>\n        <Grid item xs={5}>\n          <div style={{ textAlign: \"right\", paddingRight: 6 }}>{area}</div>\n        </Grid>\n        <Grid item sm={1}>\n          {visible}\n        </Grid>\n        <Grid item xs={1}>\n          {lock}\n        </Grid>\n       \n      </Grid>\n    </div>\n  )\n}\n\nconst RowHeader = () => {\n  return (\n    <RowLayout\n      header\n      highlighted={false}\n      order={<ReorderIcon className=\"icon\" />}\n      classification={<div style={{ paddingLeft: 10 }}>Label</div>}\n      lock={<LockIcon className=\"icon\" />}\n      visible={<VisibleIcon className=\"icon\" />}\n    />\n  )\n}\n\nconst MemoRowHeader = memo(RowHeader)\n\n\n\nconst Row = ({\n  region: r,\n  highlighted,\n  onSelectLabel,\n  onChangeLabel,\n  visible,\n  selected,\n  locked,\n  color,\n  cls,\n  index,\n}) => {\n\n  return (\n    <RowLayout\n      header={true}\n      key={Math.random()}\n      highlighted={selected}\n      onClick={() => {\n        onSelectLabel(r)\n      }}\n\n      classification={<Chip text={r.cls || \"\"} color={r.color || \"#ddd\"} />}\n      area=\"\"\n      \n      lock={\n        r.locked ? (\n          <LockIcon\n            onClick={() =>\n                onChangeLabel({\n                ...r,\n                edit:true,\n                  locked: false,\n                \n              })\n            }\n            className=\"icon2\"\n          />\n        ) : (\n          <UnlockIcon\n            onClick={() => onChangeLabel({ ...r, locked: true })}\n            className=\"icon2\"\n          />\n        )\n      }\n      visible={\n        r.visible || r.visible === undefined ? (\n          <VisibleIcon\n            onClick={() =>\n              onChangeLabel({\n                ...r,\n                visible: false,\n              })\n            }\n            className=\"icon2\"\n          />\n        ) : (\n          <VisibleOffIcon\n            onClick={() => onChangeLabel({ ...r, visible: true })}\n            className=\"icon2\"\n          />\n        )\n      }\n    />\n  )\n}\n\n\n\n\n\n\nconst Container = styled(\"div\")({\n  width: 300,\n  display: \"flex\",\n  flexDirection: \"column\",\n  height: '80%',\n  padding:'0 20px',\n  marginRight:'20px',\n  boxShadow: '0 2px 2px 0 rgba(0,0,0,0.2)',\n  transition: '0.3s',\n  marginTop:'30px',\n  \"&.expanded\": {\n    width: 300,\n  },\n})\n\n\nconst InnerSliderContent = styled(\"div\")({\n  width: 300,\n})\n\nconst getInitialExpandedState = () => {\n  return Boolean(window.__REACT_WORKSPACE_LAYOUT_EXPANDED_STATE)\n}\n\n\nconst MemoRow = memo(\n  Row,\n  (prevProps, nextProps) =>\n    prevProps.highlighted === nextProps.highlighted &&\n    prevProps.visible === nextProps.visible &&\n    prevProps.locked === nextProps.locked &&\n    prevProps.id === nextProps.id &&\n    prevProps.index === nextProps.index &&\n    prevProps.cls === nextProps.cls &&\n    prevProps.color === nextProps.color &&\n    prevProps.isNew === nextProps.isNew &&\n    prevProps.selected === nextProps.selected\n\n)\n\n\nexport const RightSidebar = ({ state,\n    onSelectLabel,\n    onChangeLabel,\n  expandedByDefault,\n   initialExpandedState, height }) => {\n  const [expanded, toggleExpanded] = useReducer(\n    (state) => !state,\n    initialExpandedState === undefined\n      ? getInitialExpandedState()\n      : initialExpandedState\n  )\n\n  useEffect(() => {\n    if (initialExpandedState !== undefined) {\n      window.__REACT_WORKSPACE_LAYOUT_EXPANDED_STATE = expanded\n    }\n  }, [initialExpandedState, expanded])\n\n  const containerStyle = useMemo(() => ({ height: height || \"100%\" }), [height])\n\n  return (\n\n          <div style={{height:'48%',overflowY:'scroll'}}>\n              <h4 style={{color:'red',margin:'10px'}}>Labels</h4>\n          {state.regionClsList.map((r, i) => {\n              const label = state.images[state.selectedImage].label\n              let selected;\n              if (label && label.cls === r.cls) {\n                  selected = true;\n              }\n              return (\n                  <MemoRow\n                      key={Math.random()}\n                      {...r}\n                      selected={selected}\n                      region={r}\n                      index={i}\n                      onChangeLabel={onChangeLabel}\n                      onSelectLabel={onSelectLabel}\n                  />)\n          })}\n        </div>\n  )\n}\n\nexport default RightSidebar\n","/Users/shahn/dev/annotator/custom_annotator/src/components/ImageFilters.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectorSidebarBox/index.js",["476","477"],"// @flow\n\nimport React, { Fragment, useState, memo } from \"react\"\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\nimport { grey } from \"@material-ui/core/colors\"\nimport RegionIcon from \"@material-ui/icons/PictureInPicture\"\nimport Grid from \"@material-ui/core/Grid\"\nimport ReorderIcon from \"@material-ui/icons/SwapVert\"\nimport PieChartIcon from \"@material-ui/icons/PieChart\"\nimport TrashIcon from \"@material-ui/icons/Delete\"\nimport LockIcon from \"@material-ui/icons/Lock\"\nimport UnlockIcon from \"@material-ui/icons/LockOpen\"\nimport VisibleIcon from \"@material-ui/icons/Visibility\"\nimport VisibleOffIcon from \"@material-ui/icons/VisibilityOff\"\nimport styles from \"./styles\"\nimport classnames from \"classnames\"\nimport isEqual from \"lodash/isEqual\"\n\nconst useStyles = makeStyles(styles)\n\nconst HeaderSep = styled(\"div\")({\n  borderTop: `1px solid ${grey[200]}`,\n  marginTop: 2,\n  marginBottom: 2,\n})\n\nconst Chip = ({ color, text }) => {\n  const classes = useStyles()\n  return (\n    <span className={classes.chip}>\n      <div className=\"color\" style={{ backgroundColor: color }} />\n      <div className=\"text\">{text}</div>\n    </span>\n  )\n}\n\nconst RowLayout = ({\n  header,\n  highlighted,\n  order,\n  classification,\n  area,\n  tags,\n  trash,\n  lock,\n  visible,\n  onClick,\n}) => {\n  const classes = useStyles()\n  const [mouseOver, changeMouseOver] = useState(false)\n  return (\n    <div\n      onClick={onClick}\n      onMouseEnter={() => changeMouseOver(true)}\n      onMouseLeave={() => changeMouseOver(false)}\n      className={classnames(classes.row, { header, highlighted })}\n    >\n      <Grid container alignItems=\"center\">\n        <Grid item xs={2}>\n          <div style={{ textAlign: \"right\", paddingRight: 10 }}>{order}</div>\n        </Grid>\n        <Grid item xs={5}>\n          {classification}\n        </Grid>\n        <Grid item xs={2}>\n          <div style={{ textAlign: \"right\", paddingRight: 6 }}>{area}</div>\n        </Grid>\n        <Grid item xs={1}>\n          {trash}\n        </Grid>\n        <Grid item xs={1}>\n          {lock}\n        </Grid>\n        <Grid item xs={1}>\n          {visible}\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nconst RowHeader = () => {\n  return (\n    <RowLayout\n      header\n      highlighted={false}\n      order={<ReorderIcon className=\"icon\" />}\n      classification={<div style={{ paddingLeft: 10 }}>Class</div>}\n      area={<PieChartIcon className=\"icon\" />}\n      trash={<TrashIcon className=\"icon\" />}\n      lock={<LockIcon className=\"icon\" />}\n      visible={<VisibleIcon className=\"icon\" />}\n    />\n  )\n}\n\nconst MemoRowHeader = memo(RowHeader)\n\nconst Row = ({\n  region: r,\n  highlighted,\n  onSelectRegion,\n  onDeleteRegion,\n  onChangeRegion,\n  visible,\n  locked,\n  color,\n  cls,\n  index,\n}) => {\n  return (\n    <RowLayout\n      header={false}\n      highlighted={highlighted}\n      onClick={() => onSelectRegion(r)}\n      order={`#${index + 1}`}\n      classification={<Chip text={cls || \"\"} color={color || \"#ddd\"} />}\n      area=\"\"\n      trash={<TrashIcon onClick={() => onDeleteRegion(r)} className=\"icon2\" />}\n      lock={\n        r.locked ? (\n          <LockIcon\n            onClick={() => onChangeRegion({ ...r, locked: false })}\n            className=\"icon2\"\n          />\n        ) : (\n          <UnlockIcon\n            onClick={() => onChangeRegion({ ...r, locked: true })}\n            className=\"icon2\"\n          />\n        )\n      }\n      visible={\n        r.visible || r.visible === undefined ? (\n          <VisibleIcon\n            onClick={() => onChangeRegion({ ...r, visible: false })}\n            className=\"icon2\"\n          />\n        ) : (\n          <VisibleOffIcon\n            onClick={() => onChangeRegion({ ...r, visible: true })}\n            className=\"icon2\"\n          />\n        )\n      }\n    />\n  )\n}\n\nconst MemoRow = memo(\n  Row,\n  (prevProps, nextProps) =>\n    prevProps.highlighted === nextProps.highlighted &&\n    prevProps.visible === nextProps.visible &&\n    prevProps.locked === nextProps.locked &&\n    prevProps.id === nextProps.id &&\n    prevProps.index === nextProps.index &&\n    prevProps.cls === nextProps.cls &&\n    prevProps.color === nextProps.color\n)\n\nconst emptyArr = []\n\nexport const RegionSelectorSidebarBox = ({\n  regions = emptyArr,\n  onDeleteRegion,\n  onChangeRegion,\n  onSelectRegion,\n}) => {\n  const classes = useStyles()\n  return (\n    <SidebarBoxContainer\n      title=\"Regions\"\n      subTitle=\"\"\n      icon={<RegionIcon style={{ color: grey[700] }} />}\n      expandedByDefault\n    >\n      <div className={classes.container}>\n        <MemoRowHeader />\n        <HeaderSep />\n        {regions.map((r, i) => (\n          <MemoRow\n            key={r.id}\n            {...r}\n            region={r}\n            index={i}\n            onSelectRegion={onSelectRegion}\n            onDeleteRegion={onDeleteRegion}\n            onChangeRegion={onChangeRegion}\n          />\n        ))}\n      </div>\n    </SidebarBoxContainer>\n  )\n}\n\nconst mapUsedRegionProperties = (r) => [\n  r.id,\n  r.color,\n  r.locked,\n  r.visible,\n  r.highlighted,\n]\n\nexport default memo(RegionSelectorSidebarBox, (prevProps, nextProps) =>\n  isEqual(\n    (prevProps.regions || emptyArr).map(mapUsedRegionProperties),\n    (nextProps.regions || emptyArr).map(mapUsedRegionProperties)\n  )\n)\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/get-time-string.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/general-reducer.js",["478","479","480","481","482","483","484","485","486","487","488","489","490","491","492"],"/Users/shahn/dev/annotator/custom_annotator/src/reportWebVitals.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/history-handler.js",["493","494"],"// @flow\n\nimport type { MainLayoutState, Action } from \"../../MainLayout/types\"\nimport { setIn, updateIn, asMutable, without } from \"seamless-immutable\"\nimport moment from \"moment\"\n\nconst typesToSaveWithHistory = {\n  BEGIN_BOX_TRANSFORM: \"Transform/Move Box\",\n  BEGIN_MOVE_POINT: \"Move Point\",\n  DELETE_REGION: \"Delete Region\",\n}\n\nexport const saveToHistory = (state: MainLayoutState, name: string) =>\n  updateIn(state, [\"history\"], (h) =>\n    [\n      {\n        time: moment().toDate(),\n        state: without(state, \"history\"),\n        name,\n      },\n    ].concat((h || []).slice(0, 9))\n  )\n\nexport default (reducer) => {\n  return (state: MainLayoutState, action: Action) => {\n    const prevState = state\n    const nextState = reducer(state, action)\n\n    if (action.type === \"RESTORE_HISTORY\") {\n      if (state.history.length > 0) {\n        return setIn(\n          nextState.history[0].state,\n          [\"history\"],\n          nextState.history.slice(1)\n        )\n      }\n    } else {\n      if (\n        prevState !== nextState &&\n        Object.keys(typesToSaveWithHistory).includes(action.type)\n      ) {\n        return setIn(\n          nextState,\n          [\"history\"],\n          [\n            {\n              time: moment().toDate(),\n              state: without(prevState, \"history\"),\n              name: typesToSaveWithHistory[action.type] || action.type,\n            },\n          ]\n            .concat(nextState.history || [])\n            .slice(0, 9)\n        )\n      }\n    }\n\n    return nextState\n  }\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SidebarBoxContainer/index.js",["495","496","497","498","499","500"],"// @flow\n\nimport React, { useState, memo } from \"react\"\nimport Paper from \"@material-ui/core/Paper\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ExpandIcon from \"@material-ui/icons/ExpandMore\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport { grey } from \"@material-ui/core/colors\"\nimport classnames from \"classnames\"\nimport useEventCallback from \"use-event-callback\"\n// import SidebarBox from \"react-material-workspace-layout/SidebarBox\"\nimport SidebarBox from \"@rediminds/react-material-workspace-layout/SidebarBox\"\n\n\nconst useStyles = makeStyles({\n  container: { margin: 8 },\n  header: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 8,\n    paddingLeft: 16,\n    paddingRight: 16,\n  },\n  title: {\n    fontSize: 14,\n    fontWeight: \"bold\",\n    flexGrow: 1,\n    paddingLeft: 8,\n    color: grey[800],\n    \"& span\": {\n      color: grey[600],\n      fontSize: 12,\n    },\n  },\n  expandButton: {\n    padding: 0,\n    width: 30,\n    height: 30,\n    \"& .icon\": {\n      marginTop: -6,\n      width: 20,\n      height: 20,\n      transition: \"500ms transform\",\n      \"&.expanded\": {\n        transform: \"rotate(180deg)\",\n      },\n    },\n  },\n  expandedContent: {\n    maxHeight: 300,\n    overflowY: \"auto\",\n    \"&.noScroll\": {\n      overflowY: \"visible\",\n      overflow: \"visible\",\n    },\n  },\n})\n\nexport const SidebarBoxContainer = ({\n  icon,\n  title,\n  subTitle,\n  children,\n  noScroll = false,\n  expandedByDefault = false,\n}) => {\n  const classes = useStyles()\n  const content = (\n    <div\n      className={classnames(classes.expandedContent, noScroll && \"noScroll\")}\n    >\n      {children}\n    </div>\n  )\n\n  const [expanded, changeExpanded] = useState(expandedByDefault)\n  const toggleExpanded = useEventCallback(() => changeExpanded(!expanded))\n\n  return (\n    <SidebarBox icon={icon} title={title}>\n      {children}\n    </SidebarBox>\n  )\n\n  return (\n    <Paper className={classes.container}>\n      <div className={classes.header}>\n        {icon}\n        <div className={classes.title}>\n          {title} <span>{subTitle}</span>\n        </div>\n        {/* <IconButton onClick={toggleExpanded} className={classes.expandButton}>\n          <ExpandIcon className={classnames(\"icon\", expanded && \"expanded\")} />\n        </IconButton> */}\n      </div>\n      {/* {noScroll ? (\n        expanded ? (\n          content\n        ) : null\n      ) : (\n        <Collapse in={expanded}>{content}</Collapse>\n      )} */}\n    </Paper>\n  )\n}\n\nexport default memo(\n  SidebarBoxContainer,\n  (prev, next) => prev.title === next.title && prev.children === next.children\n)\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionShapes/index.js",["501","502"],"// @flow\n\nimport React, { memo,useEffect } from \"react\"\nimport colorAlpha from \"color-alpha\"\n\nfunction clamp(num, min, max) {\n  return num <= min ? min : num >= max ? max : num\n}\n\nconst RegionComponents = {\n  point: memo(({ region, iw, ih }) => (\n    <g transform={`translate(${region.x * iw} ${region.y * ih})`}>\n      <path\n        d={\"M0 8L8 0L0 -8L-8 0Z\"}\n        strokeWidth={2}\n        stroke={region.color}\n        fill=\"transparent\"\n      />\n    </g>\n  )),\n  box: memo(({ region, iw, ih }) => (\n    <g transform={`translate(${region.x * iw} ${region.y * ih})`}>\n      <rect\n        strokeWidth={2}\n        x={0}\n        y={0}\n        width={Math.max(region.w * iw, 0)}\n        height={Math.max(region.h * ih, 0)}\n        stroke={colorAlpha(region.color, 0.75)}\n        fill={colorAlpha(region.color, 0.25)}\n      />\n    </g>\n  )),\n  polygon: memo(({ region, iw, ih, fullSegmentationMode }) => {\n    const Component = region.open ? \"polyline\" : \"polygon\"\n    const alphaBase = fullSegmentationMode ? 0.5 : 1\n    return (\n      <Component\n        points={region.points\n          .map(([x, y]) => [x * iw, y * ih])\n          .map((a) => a.join(\" \"))\n          .join(\" \")}\n        strokeWidth={2}\n        stroke={colorAlpha(region.color, 0.75)}\n        fill={colorAlpha(region.color, 0.25)}\n      />\n    )\n  }),\n  keypoints: ({ region, iw, ih, keypointDefinitions }) => {\n    const { points, keypointsDefinitionId } = region\n    if (!keypointDefinitions[keypointsDefinitionId]) {\n      throw new Error(\n        `No definition for keypoint configuration \"${keypointsDefinitionId}\"`\n      )\n    }\n    const { landmarks, connections } = keypointDefinitions[\n      keypointsDefinitionId\n    ]\n    return (\n      <g>\n        {Object.entries(points).map(([keypointId, { x, y }], i) => (\n          <g key={i} transform={`translate(${x * iw} ${y * ih})`}>\n            <path\n              d={\"M0 8L8 0L0 -8L-8 0Z\"}\n              strokeWidth={2}\n              stroke={landmarks[keypointId].color}\n              fill=\"transparent\"\n            />\n          </g>\n        ))}\n        {connections.map(([kp1Id, kp2Id]) => {\n          const kp1 = points[kp1Id]\n          const kp2 = points[kp2Id]\n          const midPoint = { x: (kp1.x + kp2.x) / 2, y: (kp1.y + kp2.y) / 2 }\n\n          return (\n            <g key={`${kp1}.${kp2}`}>\n              <line\n                x1={kp1.x * iw}\n                y1={kp1.y * ih}\n                x2={midPoint.x * iw}\n                y2={midPoint.y * ih}\n                strokeWidth={2}\n                stroke={landmarks[kp1Id].color}\n              />\n              <line\n                x1={kp2.x * iw}\n                y1={kp2.y * ih}\n                x2={midPoint.x * iw}\n                y2={midPoint.y * ih}\n                strokeWidth={2}\n                stroke={landmarks[kp2Id].color}\n              />\n            </g>\n          )\n        })}\n      </g>\n    )\n  },\n  \"expanding-line\": memo(({ region, iw, ih }) => {\n    let { expandingWidth = 0.005, points } = region\n    expandingWidth = points.slice(-1)[0].width || expandingWidth\n    const pointPairs = points.map(({ x, y, angle, width }, i) => {\n      if (!angle) {\n        const n = points[clamp(i + 1, 0, points.length - 1)]\n        const p = points[clamp(i - 1, 0, points.length - 1)]\n        angle = Math.atan2(p.x - n.x, p.y - n.y) + Math.PI / 2\n      }\n      const dx = (Math.sin(angle) * (width || expandingWidth)) / 2\n      const dy = (Math.cos(angle) * (width || expandingWidth)) / 2\n      return [\n        { x: x + dx, y: y + dy },\n        { x: x - dx, y: y - dy },\n      ]\n    })\n    const firstSection = pointPairs.map(([p1, p2]) => p1)\n    const secondSection = pointPairs.map(([p1, p2]) => p2).asMutable()\n    secondSection.reverse()\n    const lastPoint = points.slice(-1)[0]\n    return (\n      <>\n        <polygon\n          points={firstSection\n            .concat(region.candidatePoint ? [region.candidatePoint] : [])\n            .concat(secondSection)\n            .map((p) => `${p.x * iw} ${p.y * ih}`)\n            .join(\" \")}\n          strokeWidth={2}\n          stroke={colorAlpha(region.color, 0.75)}\n          fill={colorAlpha(region.color, 0.25)}\n        />\n        {points.map(({ x, y, angle }, i) => (\n          <g\n            key={i}\n            transform={`translate(${x * iw} ${y * ih}) rotate(${\n              (-(angle || 0) * 180) / Math.PI\n            })`}\n          >\n            <g>\n              <rect\n                x={-5}\n                y={-5}\n                width={10}\n                height={10}\n                strokeWidth={2}\n                stroke={colorAlpha(region.color, 0.75)}\n                fill={colorAlpha(region.color, 0.25)}\n              />\n            </g>\n          </g>\n        ))}\n        <rect\n          x={lastPoint.x * iw - 8}\n          y={lastPoint.y * ih - 8}\n          width={16}\n          height={16}\n          strokeWidth={4}\n          stroke={colorAlpha(region.color, 0.5)}\n          fill={\"transparent\"}\n        />\n      </>\n    )\n  }),\n  pixel: () => null,\n}\n\nexport const WrappedRegionList = memo(\n  ({ regions, keypointDefinitions, iw, ih, fullSegmentationMode }) => {\n    return regions\n      .filter((r) => r.visible !== false)\n      .map((r) => {\n        const Component = RegionComponents[r.type]\n        return (\n          <Component\n            key={r.regionId}\n            region={r}\n            iw={iw}\n            ih={ih}\n            keypointDefinitions={keypointDefinitions}\n            fullSegmentationMode={fullSegmentationMode}\n          />\n        )\n      })\n  },\n  (n, p) => n.regions === p.regions && n.iw === p.iw && n.ih === p.ih\n)\n\nexport const RegionShapes = ({\n  mat,\n  imagePosition,\n  regions = [],\n  keypointDefinitions,\n  fullSegmentationMode,\n  onRegionChange,\n}) => {\n  const svgRef = React.useRef(null);\n  const svg = svgRef.current;\n  const iw = imagePosition.bottomRight.x - imagePosition.topLeft.x\n  const ih = imagePosition.bottomRight.y - imagePosition.topLeft.y\n  useEffect(() => {\n    if (svg) {\n      var s = new XMLSerializer().serializeToString(svg); \n      var encodedData = window.btoa(s);\n      onRegionChange(encodedData,{width:iw,height:ih});          \n    }\n  },[regions]);\n  \n  if (isNaN(iw) || isNaN(ih)) return null\n  \n \n\n  return (\n    <svg\n      ref={svgRef}\n      width={iw}\n      height={ih}\n      style={{\n        position: \"absolute\",\n        zIndex: 2,\n        left: imagePosition.topLeft.x,\n        top: imagePosition.topLeft.y,\n        pointerEvents: \"none\",\n        width: iw,\n        height: ih,\n      }}\n    >\n      <WrappedRegionList\n        key=\"wrapped-region-list\"\n        regions={regions}\n        iw={iw}\n        ih={ih}\n        keypointDefinitions={keypointDefinitions}\n        fullSegmentationMode={fullSegmentationMode}\n      />\n    </svg>\n  )\n}\n\nexport default RegionShapes\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/VideoOrImageCanvasBackground/index.js",["503","504","505","506"],"// @flow weak\n\nimport React, { useRef, useEffect, useMemo, useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport { useSettings } from \"../SettingsProvider\"\n\nconst Video = styled(\"video\")({\n  zIndex: 0,\n  position: \"absolute\",\n})\n\nconst StyledImage = styled(\"img\")({\n  zIndex: 0,\n  position: \"absolute\",\n})\n\nconst Error = styled(\"div\")({\n  zIndex: 0,\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  bottom: 0,\n  top: 0,\n  backgroundColor: \"rgba(255,0,0,0.2)\",\n  color: \"#ff0000\",\n  fontWeight: \"bold\",\n  whiteSpace: \"pre-wrap\",\n  padding: 50,\n})\n\nexport default ({\n  imagePosition,\n  mouseEvents,\n  videoTime,\n  activeImage,\n  videoSrc,\n  imageSrc,\n  onLoad,\n  useCrossOrigin = false,\n  videoPlaying,\n  onChangeVideoTime,\n  onChangeVideoPlaying,\n}) => {\n  const settings = useSettings()\n  const videoRef = useRef()\n  const imageRef = useRef()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    if (!videoPlaying && videoRef.current) {\n      videoRef.current.currentTime = (videoTime || 0) / 1000\n    }\n  }, [videoTime])\n\n  useEffect(() => {\n    let renderLoopRunning = false\n    if (videoRef.current) {\n      if (videoPlaying) {\n        videoRef.current.play()\n        renderLoopRunning = true\n        if (settings.videoPlaybackSpeed) {\n          videoRef.current.playbackRate = parseFloat(\n            settings.videoPlaybackSpeed\n          )\n        }\n      } else {\n        videoRef.current.pause()\n      }\n    }\n\n    function checkForNewFrame() {\n      if (!renderLoopRunning) return\n      if (!videoRef.current) return\n      const newVideoTime = Math.floor(videoRef.current.currentTime * 1000)\n      if (videoTime !== newVideoTime) {\n        onChangeVideoTime(newVideoTime)\n      }\n      if (videoRef.current.paused) {\n        renderLoopRunning = false\n        onChangeVideoPlaying(false)\n      }\n      requestAnimationFrame(checkForNewFrame)\n    }\n    checkForNewFrame()\n\n    return () => {\n      renderLoopRunning = false\n    }\n  }, [videoPlaying])\n\n  const onLoadedVideoMetadata = useEventCallback((event) => {\n    const videoElm = event.currentTarget\n    videoElm.currentTime = (videoTime || 0) / 1000\n    if (onLoad)\n      onLoad({\n        naturalWidth: videoElm.videoWidth,\n        naturalHeight: videoElm.videoHeight,\n        videoElm: videoElm,\n        duration: videoElm.duration,\n      })\n  })\n  const onImageLoaded = useEventCallback((event) => {\n    const imageElm = event.currentTarget\n    // debugger;\n    if (onLoad)\n      onLoad({\n        naturalWidth: imageElm.naturalWidth,\n        naturalHeight: imageElm.naturalHeight,\n        imageElm,\n      })\n  })\n  const onImageError = useEventCallback((event) => {\n    setError(\n      `Could not load image\\n\\nMake sure your image works by visiting ${\n        imageSrc || videoSrc\n      } in a web browser. If that URL works, the server hosting the URL may be not allowing you to access the image from your current domain. Adjust server settings to enable the image to be viewed.${\n        !useCrossOrigin\n          ? \"\"\n          : `\\n\\nYour image may be blocked because it's not being sent with CORs headers. To do pixel segmentation, browser web security requires CORs headers in order for the algorithm to read the pixel data from the image. CORs headers are easy to add if you're using an S3 bucket or own the server hosting your images.`\n      }\\n\\n If you need a hand, reach out to the community at universaldatatool.slack.com`\n    )\n  })\n\n  const stylePosition = useMemo(() => {\n    console.log(\"Stylee\");\n    let width = imagePosition.bottomRight.x - imagePosition.topLeft.x\n    let height = imagePosition.bottomRight.y - imagePosition.topLeft.y\n    return {\n      imageRendering: \"pixelated\",\n      left: imagePosition.topLeft.x,\n      top: imagePosition.topLeft.y,\n      width: isNaN(width) ? 0 : width,\n      height: isNaN(height) ? 0 : height,\n    }\n  }, [\n    imagePosition.topLeft.x,\n    imagePosition.topLeft.y,\n    imagePosition.bottomRight.x,\n      imagePosition.bottomRight.y,\n      activeImage.filter\n  ])\n  const filter = activeImage.filter;\n\n\n\n  if (!videoSrc && !imageSrc)\n    return <Error>No imageSrc or videoSrc provided</Error>\n\n  if (error) return <Error>{error}</Error>\n  return imageSrc && videoTime === undefined ? (\n    <StyledImage\n      {...mouseEvents}\n      src={imageSrc}\n      ref={imageRef}\n      style={{\n        ...stylePosition, filter: filter ? `contrast(${filter['contrast'] || 1}) brightness(${filter[\"brightness\"] || 100}%) invert(${filter['inverse'] || 0})` :''\n      }}\n      onLoad={onImageLoaded}\n      onError={onImageError}\n      crossOrigin={useCrossOrigin ? \"anonymous\" : undefined}\n    />\n  ) : (\n    <Video\n      {...mouseEvents}\n      ref={videoRef}\n      style={stylePosition}\n      onLoadedMetadata={onLoadedVideoMetadata}\n      src={videoSrc || imageSrc}\n    />\n  )\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/fix-twisted.js",["507"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/DebugSidebarBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Footer/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TaskDescriptionSidebarBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/index.js",["508","509","510","511","512","513","514","515","516","517","518","519","520"],{"ruleId":"521","severity":1,"message":"522","line":12,"column":6,"nodeType":"523","endLine":12,"endColumn":8,"suggestions":"524"},{"ruleId":"525","replacedBy":"526"},{"ruleId":"527","replacedBy":"528"},{"ruleId":"525","replacedBy":"529"},{"ruleId":"527","replacedBy":"530"},{"ruleId":"531","severity":1,"message":"532","line":1,"column":1,"nodeType":"533","endLine":6,"endColumn":2},{"ruleId":"531","severity":1,"message":"532","line":10,"column":1,"nodeType":"533","endLine":24,"endColumn":2},{"ruleId":"534","severity":1,"message":"535","line":11,"column":30,"nodeType":"536","messageId":"537","endLine":11,"endColumn":47},{"ruleId":"534","severity":1,"message":"538","line":11,"column":49,"nodeType":"536","messageId":"537","endLine":11,"endColumn":60},{"ruleId":"539","severity":1,"message":"540","line":15,"column":3,"nodeType":"541","messageId":"542","endLine":22,"endColumn":4},{"ruleId":"525","replacedBy":"543"},{"ruleId":"527","replacedBy":"544"},{"ruleId":null,"fatal":true,"severity":2,"message":"545","line":298,"column":13},{"ruleId":"531","severity":1,"message":"532","line":155,"column":1,"nodeType":"533","endLine":162,"endColumn":2},{"ruleId":"525","replacedBy":"546"},{"ruleId":"527","replacedBy":"547"},{"ruleId":"534","severity":1,"message":"548","line":3,"column":17,"nodeType":"536","messageId":"537","endLine":3,"endColumn":25},{"ruleId":"534","severity":1,"message":"549","line":16,"column":8,"nodeType":"536","messageId":"537","endLine":16,"endColumn":11},{"ruleId":"525","replacedBy":"550"},{"ruleId":"527","replacedBy":"551"},{"ruleId":"534","severity":1,"message":"552","line":19,"column":3,"nodeType":"536","messageId":"537","endLine":19,"endColumn":22},{"ruleId":"534","severity":1,"message":"553","line":30,"column":8,"nodeType":"536","messageId":"537","endLine":30,"endColumn":18},{"ruleId":"534","severity":1,"message":"554","line":152,"column":10,"nodeType":"536","messageId":"537","endLine":152,"endColumn":26},{"ruleId":"534","severity":1,"message":"555","line":152,"column":28,"nodeType":"536","messageId":"537","endLine":152,"endColumn":50},{"ruleId":"534","severity":1,"message":"556","line":156,"column":9,"nodeType":"536","messageId":"537","endLine":156,"endColumn":19},{"ruleId":"534","severity":1,"message":"557","line":162,"column":38,"nodeType":"536","messageId":"537","endLine":162,"endColumn":44},{"ruleId":"521","severity":1,"message":"558","line":181,"column":49,"nodeType":"523","endLine":181,"endColumn":61,"suggestions":"559"},{"ruleId":"534","severity":1,"message":"560","line":183,"column":9,"nodeType":"536","messageId":"537","endLine":183,"endColumn":22},{"ruleId":"534","severity":1,"message":"561","line":248,"column":13,"nodeType":"536","messageId":"537","endLine":248,"endColumn":24},{"ruleId":"534","severity":1,"message":"562","line":248,"column":26,"nodeType":"536","messageId":"537","endLine":248,"endColumn":38},{"ruleId":"531","severity":1,"message":"532","line":7,"column":1,"nodeType":"533","endLine":53,"endColumn":2},{"ruleId":"525","replacedBy":"563"},{"ruleId":"527","replacedBy":"564"},{"ruleId":"531","severity":1,"message":"532","line":12,"column":1,"nodeType":"533","endLine":23,"endColumn":2},{"ruleId":"525","replacedBy":"565"},{"ruleId":"527","replacedBy":"566"},{"ruleId":"534","severity":1,"message":"567","line":3,"column":47,"nodeType":"536","messageId":"537","endLine":3,"endColumn":53},{"ruleId":"534","severity":1,"message":"568","line":4,"column":10,"nodeType":"536","messageId":"537","endLine":4,"endColumn":19},{"ruleId":"521","severity":1,"message":"569","line":72,"column":6,"nodeType":"523","endLine":72,"endColumn":16,"suggestions":"570"},{"ruleId":"534","severity":1,"message":"571","line":16,"column":7,"nodeType":"536","messageId":"537","endLine":16,"endColumn":15},{"ruleId":"534","severity":1,"message":"572","line":21,"column":7,"nodeType":"536","messageId":"537","endLine":21,"endColumn":14},{"ruleId":"534","severity":1,"message":"573","line":38,"column":7,"nodeType":"536","messageId":"537","endLine":38,"endColumn":20},{"ruleId":"539","severity":1,"message":"540","line":48,"column":3,"nodeType":"541","messageId":"542","endLine":58,"endColumn":4},{"ruleId":"534","severity":1,"message":"574","line":63,"column":9,"nodeType":"536","messageId":"537","endLine":63,"endColumn":26},{"ruleId":"534","severity":1,"message":"575","line":2,"column":8,"nodeType":"536","messageId":"537","endLine":2,"endColumn":18},{"ruleId":"534","severity":1,"message":"576","line":3,"column":8,"nodeType":"536","messageId":"537","endLine":3,"endColumn":18},{"ruleId":"534","severity":1,"message":"577","line":4,"column":8,"nodeType":"536","messageId":"537","endLine":4,"endColumn":20},{"ruleId":"534","severity":1,"message":"578","line":5,"column":10,"nodeType":"536","messageId":"537","endLine":5,"endColumn":14},{"ruleId":"534","severity":1,"message":"579","line":7,"column":8,"nodeType":"536","messageId":"537","endLine":7,"endColumn":18},{"ruleId":"534","severity":1,"message":"580","line":10,"column":8,"nodeType":"536","messageId":"537","endLine":10,"endColumn":20},{"ruleId":"534","severity":1,"message":"581","line":20,"column":7,"nodeType":"536","messageId":"537","endLine":20,"endColumn":13},{"ruleId":"534","severity":1,"message":"582","line":48,"column":10,"nodeType":"536","messageId":"537","endLine":48,"endColumn":19},{"ruleId":"534","severity":1,"message":"583","line":92,"column":7,"nodeType":"536","messageId":"537","endLine":92,"endColumn":20},{"ruleId":"534","severity":1,"message":"584","line":180,"column":7,"nodeType":"536","messageId":"537","endLine":180,"endColumn":16},{"ruleId":"534","severity":1,"message":"585","line":196,"column":7,"nodeType":"536","messageId":"537","endLine":196,"endColumn":25},{"ruleId":"534","severity":1,"message":"586","line":205,"column":7,"nodeType":"536","messageId":"537","endLine":205,"endColumn":14},{"ruleId":"534","severity":1,"message":"587","line":228,"column":20,"nodeType":"536","messageId":"537","endLine":228,"endColumn":34},{"ruleId":"534","severity":1,"message":"588","line":241,"column":9,"nodeType":"536","messageId":"537","endLine":241,"endColumn":23},{"ruleId":"589","severity":1,"message":"590","line":248,"column":13,"nodeType":"591","messageId":"592","endLine":248,"endColumn":48},{"ruleId":"534","severity":1,"message":"578","line":1,"column":10,"nodeType":"536","messageId":"537","endLine":1,"endColumn":14},{"ruleId":"531","severity":1,"message":"593","line":3,"column":1,"nodeType":"533","endLine":27,"endColumn":2},{"ruleId":"531","severity":1,"message":"532","line":6,"column":1,"nodeType":"533","endLine":27,"endColumn":2},{"ruleId":"525","replacedBy":"594"},{"ruleId":"527","replacedBy":"595"},{"ruleId":"534","severity":1,"message":"596","line":14,"column":10,"nodeType":"536","messageId":"537","endLine":14,"endColumn":26},{"ruleId":"525","replacedBy":"597"},{"ruleId":"527","replacedBy":"598"},{"ruleId":"531","severity":1,"message":"532","line":11,"column":1,"nodeType":"533","endLine":83,"endColumn":2},{"ruleId":"599","severity":1,"message":"600","line":32,"column":5,"nodeType":"601","messageId":"602","endLine":39,"endColumn":6},{"ruleId":"539","severity":1,"message":"540","line":33,"column":7,"nodeType":"541","messageId":"542","endLine":38,"endColumn":8},{"ruleId":"599","severity":1,"message":"600","line":40,"column":5,"nodeType":"601","messageId":"602","endLine":42,"endColumn":6},{"ruleId":"531","severity":1,"message":"532","line":7,"column":1,"nodeType":"533","endLine":99,"endColumn":2},{"ruleId":"531","severity":1,"message":"593","line":3,"column":1,"nodeType":"533","endLine":26,"endColumn":2},{"ruleId":"534","severity":1,"message":"578","line":7,"column":10,"nodeType":"536","messageId":"537","endLine":7,"endColumn":14},{"ruleId":"534","severity":1,"message":"603","line":11,"column":8,"nodeType":"536","messageId":"537","endLine":11,"endColumn":14},{"ruleId":"534","severity":1,"message":"604","line":19,"column":9,"nodeType":"536","messageId":"537","endLine":19,"endColumn":16},{"ruleId":"605","severity":1,"message":"606","line":33,"column":36,"nodeType":"607","messageId":"608","endLine":33,"endColumn":38},{"ruleId":"534","severity":1,"message":"609","line":12,"column":7,"nodeType":"536","messageId":"537","endLine":12,"endColumn":16},{"ruleId":"534","severity":1,"message":"578","line":3,"column":10,"nodeType":"536","messageId":"537","endLine":3,"endColumn":14},{"ruleId":"534","severity":1,"message":"610","line":1,"column":22,"nodeType":"536","messageId":"537","endLine":1,"endColumn":28},{"ruleId":"534","severity":1,"message":"611","line":1,"column":30,"nodeType":"536","messageId":"537","endLine":1,"endColumn":36},{"ruleId":"531","severity":1,"message":"593","line":3,"column":1,"nodeType":"533","endLine":54,"endColumn":2},{"ruleId":"531","severity":1,"message":"532","line":4,"column":1,"nodeType":"533","endLine":50,"endColumn":2},{"ruleId":"521","severity":1,"message":"612","line":49,"column":6,"nodeType":"523","endLine":49,"endColumn":16,"suggestions":"613"},{"ruleId":"525","replacedBy":"614"},{"ruleId":"527","replacedBy":"615"},{"ruleId":"525","replacedBy":"616"},{"ruleId":"527","replacedBy":"617"},{"ruleId":"534","severity":1,"message":"618","line":1,"column":16,"nodeType":"536","messageId":"537","endLine":1,"endColumn":20},{"ruleId":"534","severity":1,"message":"610","line":1,"column":22,"nodeType":"536","messageId":"537","endLine":1,"endColumn":28},{"ruleId":"534","severity":1,"message":"611","line":1,"column":30,"nodeType":"536","messageId":"537","endLine":1,"endColumn":36},{"ruleId":"531","severity":1,"message":"593","line":3,"column":1,"nodeType":"533","endLine":57,"endColumn":2},{"ruleId":"531","severity":1,"message":"532","line":5,"column":1,"nodeType":"533","endLine":23,"endColumn":2},{"ruleId":"521","severity":1,"message":"619","line":28,"column":6,"nodeType":"523","endLine":28,"endColumn":8,"suggestions":"620"},{"ruleId":"534","severity":1,"message":"621","line":37,"column":15,"nodeType":"536","messageId":"537","endLine":37,"endColumn":17},{"ruleId":"534","severity":1,"message":"622","line":37,"column":19,"nodeType":"536","messageId":"537","endLine":37,"endColumn":21},{"ruleId":"531","severity":1,"message":"532","line":8,"column":1,"nodeType":"533","endLine":170,"endColumn":2},{"ruleId":"534","severity":1,"message":"623","line":7,"column":3,"nodeType":"536","messageId":"537","endLine":7,"endColumn":11},{"ruleId":"534","severity":1,"message":"624","line":9,"column":3,"nodeType":"536","messageId":"537","endLine":9,"endColumn":7},{"ruleId":"521","severity":1,"message":"625","line":187,"column":6,"nodeType":"523","endLine":187,"endColumn":21,"suggestions":"626"},{"ruleId":"531","severity":1,"message":"532","line":3,"column":1,"nodeType":"533","endLine":21,"endColumn":2},{"ruleId":"531","severity":1,"message":"532","line":9,"column":1,"nodeType":"533","endLine":17,"endColumn":2},{"ruleId":"627","severity":1,"message":"628","line":83,"column":3,"nodeType":"629","messageId":"608","endLine":83,"endColumn":13},{"ruleId":"531","severity":1,"message":"532","line":126,"column":1,"nodeType":"533","endLine":218,"endColumn":2},{"ruleId":"521","severity":1,"message":"630","line":144,"column":6,"nodeType":"523","endLine":144,"endColumn":19,"suggestions":"631"},{"ruleId":"632","severity":1,"message":"633","line":145,"column":3,"nodeType":"634","messageId":"635","endLine":145,"endColumn":36},{"ruleId":"539","severity":1,"message":"540","line":149,"column":3,"nodeType":"541","messageId":"542","endLine":156,"endColumn":4},{"ruleId":"531","severity":1,"message":"636","line":1,"column":1,"nodeType":"533","endLine":1,"endColumn":280},{"ruleId":"531","severity":1,"message":"593","line":5,"column":1,"nodeType":"533","endLine":47,"endColumn":2},{"ruleId":"534","severity":1,"message":"637","line":3,"column":17,"nodeType":"536","messageId":"537","endLine":3,"endColumn":25},{"ruleId":"534","severity":1,"message":"638","line":13,"column":8,"nodeType":"536","messageId":"537","endLine":13,"endColumn":16},{"ruleId":"605","severity":1,"message":"606","line":110,"column":41,"nodeType":"607","messageId":"608","endLine":110,"endColumn":43},{"ruleId":"534","severity":1,"message":"639","line":2,"column":10,"nodeType":"536","messageId":"537","endLine":2,"endColumn":20},{"ruleId":"534","severity":1,"message":"640","line":3,"column":8,"nodeType":"536","messageId":"537","endLine":3,"endColumn":14},{"ruleId":"605","severity":1,"message":"606","line":15,"column":19,"nodeType":"607","messageId":"608","endLine":15,"endColumn":21},{"ruleId":"605","severity":1,"message":"606","line":18,"column":19,"nodeType":"607","messageId":"608","endLine":18,"endColumn":21},{"ruleId":"605","severity":1,"message":"606","line":23,"column":19,"nodeType":"607","messageId":"608","endLine":23,"endColumn":21},{"ruleId":"605","severity":1,"message":"606","line":26,"column":19,"nodeType":"607","messageId":"608","endLine":26,"endColumn":21},{"ruleId":"605","severity":1,"message":"606","line":31,"column":19,"nodeType":"607","messageId":"608","endLine":31,"endColumn":21},{"ruleId":"605","severity":1,"message":"606","line":34,"column":19,"nodeType":"607","messageId":"608","endLine":34,"endColumn":21},{"ruleId":"534","severity":1,"message":"575","line":2,"column":8,"nodeType":"536","messageId":"537","endLine":2,"endColumn":18},{"ruleId":"534","severity":1,"message":"576","line":3,"column":8,"nodeType":"536","messageId":"537","endLine":3,"endColumn":18},{"ruleId":"534","severity":1,"message":"577","line":4,"column":8,"nodeType":"536","messageId":"537","endLine":4,"endColumn":20},{"ruleId":"534","severity":1,"message":"578","line":5,"column":10,"nodeType":"536","messageId":"537","endLine":5,"endColumn":14},{"ruleId":"534","severity":1,"message":"579","line":7,"column":8,"nodeType":"536","messageId":"537","endLine":7,"endColumn":18},{"ruleId":"534","severity":1,"message":"580","line":10,"column":8,"nodeType":"536","messageId":"537","endLine":10,"endColumn":20},{"ruleId":"534","severity":1,"message":"641","line":11,"column":8,"nodeType":"536","messageId":"537","endLine":11,"endColumn":17},{"ruleId":"534","severity":1,"message":"581","line":20,"column":7,"nodeType":"536","messageId":"537","endLine":20,"endColumn":13},{"ruleId":"534","severity":1,"message":"582","line":47,"column":10,"nodeType":"536","messageId":"537","endLine":47,"endColumn":19},{"ruleId":"534","severity":1,"message":"583","line":87,"column":7,"nodeType":"536","messageId":"537","endLine":87,"endColumn":20},{"ruleId":"534","severity":1,"message":"584","line":163,"column":7,"nodeType":"536","messageId":"537","endLine":163,"endColumn":16},{"ruleId":"534","severity":1,"message":"585","line":179,"column":7,"nodeType":"536","messageId":"537","endLine":179,"endColumn":25},{"ruleId":"534","severity":1,"message":"587","line":209,"column":20,"nodeType":"536","messageId":"537","endLine":209,"endColumn":34},{"ruleId":"534","severity":1,"message":"588","line":222,"column":9,"nodeType":"536","messageId":"537","endLine":222,"endColumn":23},{"ruleId":"534","severity":1,"message":"642","line":3,"column":17,"nodeType":"536","messageId":"537","endLine":3,"endColumn":25},{"ruleId":"534","severity":1,"message":"582","line":51,"column":10,"nodeType":"536","messageId":"537","endLine":51,"endColumn":19},{"ruleId":"534","severity":1,"message":"643","line":2,"column":32,"nodeType":"536","messageId":"537","endLine":2,"endColumn":38},{"ruleId":"534","severity":1,"message":"644","line":4,"column":34,"nodeType":"536","messageId":"537","endLine":4,"endColumn":42},{"ruleId":"534","severity":1,"message":"645","line":5,"column":8,"nodeType":"536","messageId":"537","endLine":5,"endColumn":14},{"ruleId":"534","severity":1,"message":"646","line":87,"column":9,"nodeType":"536","messageId":"537","endLine":87,"endColumn":24},{"ruleId":"534","severity":1,"message":"647","line":112,"column":11,"nodeType":"536","messageId":"537","endLine":112,"endColumn":14},{"ruleId":"534","severity":1,"message":"648","line":315,"column":15,"nodeType":"536","messageId":"537","endLine":315,"endColumn":26},{"ruleId":"632","severity":1,"message":"633","line":489,"column":11,"nodeType":"649","messageId":"635","endLine":489,"endColumn":23},{"ruleId":"534","severity":1,"message":"648","line":496,"column":19,"nodeType":"536","messageId":"537","endLine":496,"endColumn":30},{"ruleId":"534","severity":1,"message":"650","line":673,"column":50,"nodeType":"536","messageId":"537","endLine":673,"endColumn":61},{"ruleId":"599","severity":1,"message":"600","line":737,"column":9,"nodeType":"601","messageId":"602","endLine":737,"endColumn":28},{"ruleId":"534","severity":1,"message":"651","line":762,"column":13,"nodeType":"536","messageId":"537","endLine":762,"endColumn":23},{"ruleId":"534","severity":1,"message":"652","line":804,"column":15,"nodeType":"536","messageId":"537","endLine":804,"endColumn":21},{"ruleId":"534","severity":1,"message":"652","line":823,"column":15,"nodeType":"536","messageId":"537","endLine":823,"endColumn":21},{"ruleId":"632","severity":1,"message":"633","line":1018,"column":7,"nodeType":"653","messageId":"635","endLine":1018,"endColumn":13},{"ruleId":"605","severity":1,"message":"606","line":1054,"column":44,"nodeType":"607","messageId":"608","endLine":1054,"endColumn":46},{"ruleId":"534","severity":1,"message":"654","line":4,"column":27,"nodeType":"536","messageId":"537","endLine":4,"endColumn":36},{"ruleId":"531","severity":1,"message":"532","line":24,"column":1,"nodeType":"533","endLine":60,"endColumn":2},{"ruleId":"534","severity":1,"message":"576","line":6,"column":8,"nodeType":"536","messageId":"537","endLine":6,"endColumn":18},{"ruleId":"534","severity":1,"message":"655","line":7,"column":8,"nodeType":"536","messageId":"537","endLine":7,"endColumn":18},{"ruleId":"534","severity":1,"message":"656","line":8,"column":8,"nodeType":"536","messageId":"537","endLine":8,"endColumn":16},{"ruleId":"534","severity":1,"message":"657","line":70,"column":9,"nodeType":"536","messageId":"537","endLine":70,"endColumn":16},{"ruleId":"534","severity":1,"message":"587","line":79,"column":9,"nodeType":"536","messageId":"537","endLine":79,"endColumn":23},{"ruleId":"632","severity":1,"message":"633","line":87,"column":3,"nodeType":"649","messageId":"635","endLine":106,"endColumn":4},{"ruleId":"534","severity":1,"message":"658","line":36,"column":11,"nodeType":"536","messageId":"537","endLine":36,"endColumn":20},{"ruleId":"521","severity":1,"message":"659","line":206,"column":5,"nodeType":"523","endLine":206,"endColumn":14,"suggestions":"660"},{"ruleId":"531","severity":1,"message":"532","line":32,"column":1,"nodeType":"533","endLine":172,"endColumn":2},{"ruleId":"521","severity":1,"message":"661","line":54,"column":6,"nodeType":"523","endLine":54,"endColumn":17,"suggestions":"662"},{"ruleId":"521","severity":1,"message":"663","line":90,"column":6,"nodeType":"523","endLine":90,"endColumn":20,"suggestions":"664"},{"ruleId":"521","severity":1,"message":"665","line":136,"column":6,"nodeType":"523","endLine":142,"endColumn":4,"suggestions":"666"},{"ruleId":"531","severity":1,"message":"532","line":3,"column":1,"nodeType":"533","endLine":6,"endColumn":2},{"ruleId":"534","severity":1,"message":"575","line":2,"column":8,"nodeType":"536","messageId":"537","endLine":2,"endColumn":18},{"ruleId":"534","severity":1,"message":"576","line":3,"column":8,"nodeType":"536","messageId":"537","endLine":3,"endColumn":18},{"ruleId":"534","severity":1,"message":"577","line":4,"column":8,"nodeType":"536","messageId":"537","endLine":4,"endColumn":20},{"ruleId":"534","severity":1,"message":"578","line":5,"column":10,"nodeType":"536","messageId":"537","endLine":5,"endColumn":14},{"ruleId":"534","severity":1,"message":"579","line":7,"column":8,"nodeType":"536","messageId":"537","endLine":7,"endColumn":18},{"ruleId":"534","severity":1,"message":"580","line":10,"column":8,"nodeType":"536","messageId":"537","endLine":10,"endColumn":20},{"ruleId":"534","severity":1,"message":"641","line":11,"column":8,"nodeType":"536","messageId":"537","endLine":11,"endColumn":17},{"ruleId":"534","severity":1,"message":"581","line":22,"column":7,"nodeType":"536","messageId":"537","endLine":22,"endColumn":13},{"ruleId":"534","severity":1,"message":"582","line":49,"column":10,"nodeType":"536","messageId":"537","endLine":49,"endColumn":19},{"ruleId":"534","severity":1,"message":"583","line":89,"column":7,"nodeType":"536","messageId":"537","endLine":89,"endColumn":20},{"ruleId":"534","severity":1,"message":"586","line":195,"column":7,"nodeType":"536","messageId":"537","endLine":195,"endColumn":14},{"ruleId":"534","severity":1,"message":"587","line":218,"column":20,"nodeType":"536","messageId":"537","endLine":218,"endColumn":34},{"ruleId":"534","severity":1,"message":"588","line":231,"column":9,"nodeType":"536","messageId":"537","endLine":231,"endColumn":23},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.enqueueSnackbar'. Either include it or remove the dependency array.","ArrayExpression",["667"],"no-native-reassign",["668"],"no-negated-in-lhs",["669"],["668"],["669"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'pathToActiveImage' is assigned a value but never used.","Identifier","unusedVar","'activeImage' is assigned a value but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase",["668"],["669"],"Parsing error: Unexpected token\n\n\u001b[0m \u001b[90m 296 | \u001b[39m            selectedTools\u001b[33m=\u001b[39m{\u001b[0m\n\u001b[0m \u001b[90m 297 | \u001b[39m              state\u001b[33m.\u001b[39mselectedTool\u001b[33m,\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 298 | \u001b[39m            }\u001b[0m\n\u001b[0m \u001b[90m     | \u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 299 | \u001b[39m        toolbarItems\u001b[33m=\u001b[39m{[\u001b[0m\n\u001b[0m \u001b[90m 300 | \u001b[39m         \u001b[0m\n\u001b[0m \u001b[90m 301 | \u001b[39m            {\u001b[0m",["668"],["669"],"'setState' is defined but never used.","'Box' is defined but never used.",["668"],["669"],"'KeypointsDefinition' is defined but never used.","'RegionTags' is defined but never used.","'maskImagesLoaded' is assigned a value but never used.","'changeMaskImagesLoaded' is assigned a value but never used.","'maskImages' is assigned a value but never used.","'zoomIn' is assigned a value but never used.","React Hook useLayoutEffect has missing dependencies: 'changeMat' and 'mat'. Either include them or remove the dependency array.",["670"],"'innerMousePos' is assigned a value but never used.","'clientWidth' is assigned a value but never used.","'clientHeight' is assigned a value but never used.",["668"],["669"],["668"],["669"],"'useRef' is defined but never used.","'colorInts' is defined but never used.","React Hook useEffect has missing dependencies: 'autoSegmentationOptions' and 'regionClsList'. Either include them or remove the dependency array.",["671"],"'emptyObj' is assigned a value but never used.","'getIcon' is assigned a value but never used.","'IconContainer' is assigned a value but never used.","'customIconMapping' is assigned a value but never used.","'ButtonBase' is defined but never used.","'ExpandIcon' is defined but never used.","'ContractIcon' is defined but never used.","'grey' is defined but never used.","'RegionIcon' is defined but never used.","'PieChartIcon' is defined but never used.","'colors' is assigned a value but never used.","'mouseOver' is assigned a value but never used.","'MemoRowHeader' is assigned a value but never used.","'Container' is assigned a value but never used.","'InnerSliderContent' is assigned a value but never used.","'MemoRow' is assigned a value but never used.","'toggleExpanded' is assigned a value but never used.","'containerStyle' is assigned a value but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","Assign object to a variable before exporting as module default",["668"],["669"],"'forceRenderState' is assigned a value but never used.",["668"],["669"],"no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","'Avatar' is defined but never used.","'classes' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useStyles' is assigned a value but never used.","'orange' is defined but never used.","'purple' is defined but never used.","React Hook useEffect has missing dependencies: 'changeMat' and 'getLatestMat'. Either include them or remove the dependency array. If 'getLatestMat' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["672"],["668"],["669"],["668"],["669"],"'blue' is defined but never used.","React Hook useEffect has missing dependencies: 'isClient' and 'setState'. Either include them or remove the dependency array.",["673"],"'iw' is assigned a value but never used.","'ih' is assigned a value but never used.","'ToolEnum' is defined but never used.","'Mode' is defined but never used.","React Hook useEffect has a missing dependency: 'state.images'. Either include it or remove the dependency array.",["674"],"no-dupe-keys","Duplicate key 'marginLeft'.","ObjectExpression","React Hook useEffect has a missing dependency: 'instantCurrentTime'. Either include it or remove the dependency array.",["675"],"no-unreachable","Unreachable code.","ThrowStatement","unreachableCode","Assign literal to a variable before exporting as module default","'useState' is defined but never used.","'UndoIcon' is defined but never used.","'withStyles' is defined but never used.","'Slider' is defined but never used.","'TrashIcon' is defined but never used.","'Fragment' is defined but never used.","'Action' is defined but never used.","'updateIn' is defined but never used.","'moment' is defined but never used.","'unselectRegions' is assigned a value but never used.","'src' is assigned a value but never used.","'mouseDownAt' is assigned a value but never used.","ReturnStatement","'connections' is assigned a value but never used.","'jointStart' is assigned a value but never used.","'region' is assigned a value but never used.","BreakStatement","'asMutable' is defined but never used.","'IconButton' is defined but never used.","'Collapse' is defined but never used.","'content' is assigned a value but never used.","'alphaBase' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'ih', 'iw', 'onRegionChange', and 'svg'. Either include them or remove the dependency array. If 'onRegionChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["676"],"React Hook useEffect has a missing dependency: 'videoPlaying'. Either include it or remove the dependency array.",["677"],"React Hook useEffect has missing dependencies: 'onChangeVideoPlaying', 'onChangeVideoTime', 'settings.videoPlaybackSpeed', and 'videoTime'. Either include them or remove the dependency array. If 'onChangeVideoTime' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["678"],"React Hook useMemo has an unnecessary dependency: 'activeImage.filter'. Either exclude it or remove the dependency array.",["679"],{"desc":"680","fix":"681"},"no-global-assign","no-unsafe-negation",{"desc":"682","fix":"683"},{"desc":"684","fix":"685"},{"desc":"686","fix":"687"},{"desc":"688","fix":"689"},{"desc":"690","fix":"691"},{"desc":"692","fix":"693"},{"desc":"694","fix":"695"},{"desc":"696","fix":"697"},{"desc":"698","fix":"699"},{"desc":"700","fix":"701"},"Update the dependencies array to be: [props.enqueueSnackbar]",{"range":"702","text":"703"},"Update the dependencies array to be: [changeMat, mat, windowSize]",{"range":"704","text":"705"},"Update the dependencies array to be: [autoSegmentationOptions, imageSrc, regionClsList]",{"range":"706","text":"707"},"Update the dependencies array to be: [changeMat, getLatestMat, wasdMode]",{"range":"708","text":"709"},"Update the dependencies array to be: [isClient, setState]",{"range":"710","text":"711"},"Update the dependencies array to be: [selectedImage, state.images]",{"range":"712","text":"713"},"Update the dependencies array to be: [currentTime, instantCurrentTime]",{"range":"714","text":"715"},"Update the dependencies array to be: [ih, iw, onRegionChange, regions, svg]",{"range":"716","text":"717"},"Update the dependencies array to be: [videoPlaying, videoTime]",{"range":"718","text":"719"},"Update the dependencies array to be: [onChangeVideoPlaying, onChangeVideoTime, settings.videoPlaybackSpeed, videoPlaying, videoTime]",{"range":"720","text":"721"},"Update the dependencies array to be: [imagePosition.topLeft.x, imagePosition.topLeft.y, imagePosition.bottomRight.x, imagePosition.bottomRight.y]",{"range":"722","text":"723"},[340,342],"[props.enqueueSnackbar]",[5085,5097],"[changeMat, mat, windowSize]",[1694,1704],"[autoSegmentationOptions, imageSrc, regionClsList]",[1368,1378],"[changeMat, getLatestMat, wasdMode]",[697,699],"[isClient, setState]",[5406,5421],"[selectedImage, state.images]",[3214,3227],"[currentTime, instantCurrentTime]",[6159,6168],"[ih, iw, onRegionChange, regions, svg]",[1097,1108],"[videoPlaying, videoTime]",[2029,2043],"[onChangeVideoPlaying, onChangeVideoTime, settings.videoPlaybackSpeed, videoPlaying, videoTime]",[3921,4077],"[imagePosition.topLeft.x, imagePosition.topLeft.y, imagePosition.bottomRight.x, imagePosition.bottomRight.y]"]