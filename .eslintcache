[{"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/index.js":"1","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionShapes/index.js":"2","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageSelectorSidebarBox/index.js":"3","/Users/shahn/dev/annotator/custom_annotator/src/components/Annotator.js":"4","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/ImageSwitcher/index.js":"5","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/index.js":"6","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/index.js":"7","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/combine-reducers.js":"8","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/video-reducer.js":"9","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-active-image.js":"10","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/styles.js":"11","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/use-implied-video-regions.js":"12","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/DebugSidebarBox/index.js":"13","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TagsSidebarBox/index.js":"14","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HistorySidebarBox/index.js":"15","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Workspace/index.js":"16","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectorSidebarBox/index.js":"17","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/get-time-string.js":"18","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/colors.js":"19","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/fix-twisted.js":"20","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/convert-expanding-line-to-polygon.js":"21","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/region-tools.js":"22","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-dictionary.js":"23","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/styles.js":"24","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-window-size.js":"25","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PreventScrollToParents/index.js":"26","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionTags/index.js":"27","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/index.js":"28","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-mapping.js":"29","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/styles.js":"30","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/LabelSelector.js":"31","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/image-reducer.js":"32","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TaskDescriptionSidebarBox/index.js":"33","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ShortcutsManager/index.js":"34","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/index.js":"35","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SidebarBoxContainer/index.js":"36","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Footer/index.js":"37","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/index.js":"38","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/VideoOrImageCanvasBackground/index.js":"39","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/ObjectSelector.js":"40","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageMask/load-image.js":"41","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-exclude-pattern.js":"42","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-mouse.js":"43","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/history-handler.js":"44","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-implied-video-regions.js":"45","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SettingsDialog/index.js":"46","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/index.js":"47","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/utils/get-landmarks-with-transform.js":"48","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-project-box.js":"49","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PointDistances/index.js":"50","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/Slider.js":"51","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/xpattern.js":"52","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/styles.js":"53","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HighlightBox/index.js":"54","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/WorkContainer/index.js":"55","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/FooterButton/index.js":"56","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Crosshairs/index.js":"57","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/icon-dictionary.js":"58","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/general-reducer.js":"59"},{"size":6384,"mtime":1607674805749,"results":"60","hashOfConfig":"61"},{"size":6790,"mtime":1607666795318,"results":"62","hashOfConfig":"61"},{"size":4020,"mtime":1607676244606,"results":"63","hashOfConfig":"61"},{"size":1071,"mtime":1607678706744,"results":"64","hashOfConfig":"61"},{"size":1459,"mtime":1607675449638,"results":"65","hashOfConfig":"61"},{"size":12399,"mtime":1607669933761,"results":"66","hashOfConfig":"61"},{"size":2303,"mtime":1607671339284,"results":"67","hashOfConfig":"61"},{"size":151,"mtime":1607516108705,"results":"68","hashOfConfig":"61"},{"size":2331,"mtime":1607516108712,"results":"69","hashOfConfig":"61"},{"size":712,"mtime":1607516108709,"results":"70","hashOfConfig":"61"},{"size":507,"mtime":1607516108738,"results":"71","hashOfConfig":"61"},{"size":550,"mtime":1607516108740,"results":"72","hashOfConfig":"61"},{"size":1014,"mtime":1607516108714,"results":"73","hashOfConfig":"61"},{"size":2765,"mtime":1607516108755,"results":"74","hashOfConfig":"61"},{"size":2202,"mtime":1607516108723,"results":"75","hashOfConfig":"61"},{"size":3404,"mtime":1607630724400,"results":"76","hashOfConfig":"61"},{"size":5511,"mtime":1607516108745,"results":"77","hashOfConfig":"61"},{"size":525,"mtime":1607516108731,"results":"78","hashOfConfig":"61"},{"size":766,"mtime":1607516108759,"results":"79","hashOfConfig":"61"},{"size":161,"mtime":1607516108707,"results":"80","hashOfConfig":"61"},{"size":1624,"mtime":1607516108706,"results":"81","hashOfConfig":"61"},{"size":3609,"mtime":1607516108725,"results":"82","hashOfConfig":"61"},{"size":235,"mtime":1607516108783,"results":"83","hashOfConfig":"61"},{"size":634,"mtime":1607577653942,"results":"84","hashOfConfig":"61"},{"size":1058,"mtime":1607516108764,"results":"85","hashOfConfig":"61"},{"size":1078,"mtime":1607516108741,"results":"86","hashOfConfig":"61"},{"size":3678,"mtime":1607516108747,"results":"87","hashOfConfig":"61"},{"size":5077,"mtime":1607516108743,"results":"88","hashOfConfig":"61"},{"size":3440,"mtime":1607595839870,"results":"89","hashOfConfig":"61"},{"size":953,"mtime":1607516108743,"results":"90","hashOfConfig":"61"},{"size":6338,"mtime":1607538107579,"results":"91","hashOfConfig":"61"},{"size":639,"mtime":1607516108711,"results":"92","hashOfConfig":"61"},{"size":1129,"mtime":1607516108755,"results":"93","hashOfConfig":"61"},{"size":3626,"mtime":1607516108752,"results":"94","hashOfConfig":"61"},{"size":5486,"mtime":1607516108732,"results":"95","hashOfConfig":"61"},{"size":2624,"mtime":1607521058504,"results":"96","hashOfConfig":"61"},{"size":3093,"mtime":1607663241477,"results":"97","hashOfConfig":"61"},{"size":6240,"mtime":1607516108773,"results":"98","hashOfConfig":"61"},{"size":4855,"mtime":1607578792880,"results":"99","hashOfConfig":"61"},{"size":6678,"mtime":1607516108772,"results":"100","hashOfConfig":"61"},{"size":810,"mtime":1607516108730,"results":"101","hashOfConfig":"61"},{"size":734,"mtime":1607516108761,"results":"102","hashOfConfig":"61"},{"size":4753,"mtime":1607516108727,"results":"103","hashOfConfig":"61"},{"size":1572,"mtime":1607516108710,"results":"104","hashOfConfig":"61"},{"size":2803,"mtime":1607516108709,"results":"105","hashOfConfig":"61"},{"size":1820,"mtime":1607516108748,"results":"106","hashOfConfig":"61"},{"size":14575,"mtime":1607601359014,"results":"107","hashOfConfig":"61"},{"size":561,"mtime":1607516108768,"results":"108","hashOfConfig":"61"},{"size":662,"mtime":1607516108727,"results":"109","hashOfConfig":"61"},{"size":2417,"mtime":1607516108740,"results":"110","hashOfConfig":"61"},{"size":1407,"mtime":1607516108777,"results":"111","hashOfConfig":"61"},{"size":281,"mtime":1607516108765,"results":"112","hashOfConfig":"61"},{"size":1010,"mtime":1607516108774,"results":"113","hashOfConfig":"61"},{"size":3476,"mtime":1607516108722,"results":"114","hashOfConfig":"61"},{"size":687,"mtime":1607516108779,"results":"115","hashOfConfig":"61"},{"size":306,"mtime":1607590320269,"results":"116","hashOfConfig":"61"},{"size":1375,"mtime":1607516108713,"results":"117","hashOfConfig":"61"},{"size":2733,"mtime":1607516108736,"results":"118","hashOfConfig":"61"},{"size":35172,"mtime":1607663261245,"results":"119","hashOfConfig":"61"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"18saq4t",{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"137"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"140"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"125"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"149","usedDeprecatedRules":"125"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"125"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"159","usedDeprecatedRules":"125"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"162","usedDeprecatedRules":"125"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167","usedDeprecatedRules":"125"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174","usedDeprecatedRules":"175"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"140"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"185","messages":"186","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191","usedDeprecatedRules":"192"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"195","usedDeprecatedRules":"125"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"125"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201","usedDeprecatedRules":"192"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"204","messages":"205","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"125"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"211","usedDeprecatedRules":"125"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"125"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"221","usedDeprecatedRules":"140"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"175"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"231","usedDeprecatedRules":"140"},{"filePath":"232","messages":"233","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"234","usedDeprecatedRules":"140"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"237","usedDeprecatedRules":"125"},{"filePath":"238","messages":"239","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"240","messages":"241","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"242","messages":"243","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"244","usedDeprecatedRules":"137"},{"filePath":"245","messages":"246","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"247","usedDeprecatedRules":"140"},{"filePath":"248","messages":"249","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"250","usedDeprecatedRules":"140"},{"filePath":"251","messages":"252","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"253","messages":"254","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"255","usedDeprecatedRules":"137"},{"filePath":"256","messages":"257","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"258"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"261","usedDeprecatedRules":"140"},{"filePath":"262","messages":"263","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"264","messages":"265","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"266","usedDeprecatedRules":"140"},{"filePath":"267","messages":"268","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"140"},{"filePath":"269","messages":"270","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"271","messages":"272","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"273","messages":"274","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/index.js",["275","276"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionShapes/index.js",["277","278"],"// @flow\n\nimport React, { memo,useEffect } from \"react\"\nimport colorAlpha from \"color-alpha\"\n\nfunction clamp(num, min, max) {\n  return num <= min ? min : num >= max ? max : num\n}\n\nconst RegionComponents = {\n  point: memo(({ region, iw, ih }) => (\n    <g transform={`translate(${region.x * iw} ${region.y * ih})`}>\n      <path\n        d={\"M0 8L8 0L0 -8L-8 0Z\"}\n        strokeWidth={2}\n        stroke={region.color}\n        fill=\"transparent\"\n      />\n    </g>\n  )),\n  box: memo(({ region, iw, ih }) => (\n    <g transform={`translate(${region.x * iw} ${region.y * ih})`}>\n      <rect\n        strokeWidth={2}\n        x={0}\n        y={0}\n        width={Math.max(region.w * iw, 0)}\n        height={Math.max(region.h * ih, 0)}\n        stroke={colorAlpha(region.color, 0.75)}\n        fill={colorAlpha(region.color, 0.25)}\n      />\n    </g>\n  )),\n  polygon: memo(({ region, iw, ih, fullSegmentationMode }) => {\n    const Component = region.open ? \"polyline\" : \"polygon\"\n    const alphaBase = fullSegmentationMode ? 0.5 : 1\n    return (\n      <Component\n        points={region.points\n          .map(([x, y]) => [x * iw, y * ih])\n          .map((a) => a.join(\" \"))\n          .join(\" \")}\n        strokeWidth={0}\n        stroke={colorAlpha(region.color, 0.75)}\n        fill={colorAlpha(region.color, 0.25)}\n      />\n    )\n  }),\n  keypoints: ({ region, iw, ih, keypointDefinitions }) => {\n    const { points, keypointsDefinitionId } = region\n    if (!keypointDefinitions[keypointsDefinitionId]) {\n      throw new Error(\n        `No definition for keypoint configuration \"${keypointsDefinitionId}\"`\n      )\n    }\n    const { landmarks, connections } = keypointDefinitions[\n      keypointsDefinitionId\n    ]\n    return (\n      <g>\n        {Object.entries(points).map(([keypointId, { x, y }], i) => (\n          <g key={i} transform={`translate(${x * iw} ${y * ih})`}>\n            <path\n              d={\"M0 8L8 0L0 -8L-8 0Z\"}\n              strokeWidth={2}\n              stroke={landmarks[keypointId].color}\n              fill=\"transparent\"\n            />\n          </g>\n        ))}\n        {connections.map(([kp1Id, kp2Id]) => {\n          const kp1 = points[kp1Id]\n          const kp2 = points[kp2Id]\n          const midPoint = { x: (kp1.x + kp2.x) / 2, y: (kp1.y + kp2.y) / 2 }\n\n          return (\n            <g key={`${kp1}.${kp2}`}>\n              <line\n                x1={kp1.x * iw}\n                y1={kp1.y * ih}\n                x2={midPoint.x * iw}\n                y2={midPoint.y * ih}\n                strokeWidth={2}\n                stroke={landmarks[kp1Id].color}\n              />\n              <line\n                x1={kp2.x * iw}\n                y1={kp2.y * ih}\n                x2={midPoint.x * iw}\n                y2={midPoint.y * ih}\n                strokeWidth={2}\n                stroke={landmarks[kp2Id].color}\n              />\n            </g>\n          )\n        })}\n      </g>\n    )\n  },\n  \"expanding-line\": memo(({ region, iw, ih }) => {\n    let { expandingWidth = 0.005, points } = region\n    expandingWidth = points.slice(-1)[0].width || expandingWidth\n    const pointPairs = points.map(({ x, y, angle, width }, i) => {\n      if (!angle) {\n        const n = points[clamp(i + 1, 0, points.length - 1)]\n        const p = points[clamp(i - 1, 0, points.length - 1)]\n        angle = Math.atan2(p.x - n.x, p.y - n.y) + Math.PI / 2\n      }\n      const dx = (Math.sin(angle) * (width || expandingWidth)) / 2\n      const dy = (Math.cos(angle) * (width || expandingWidth)) / 2\n      return [\n        { x: x + dx, y: y + dy },\n        { x: x - dx, y: y - dy },\n      ]\n    })\n    const firstSection = pointPairs.map(([p1, p2]) => p1)\n    const secondSection = pointPairs.map(([p1, p2]) => p2).asMutable()\n    secondSection.reverse()\n    const lastPoint = points.slice(-1)[0]\n    return (\n      <>\n        <polygon\n          points={firstSection\n            .concat(region.candidatePoint ? [region.candidatePoint] : [])\n            .concat(secondSection)\n            .map((p) => `${p.x * iw} ${p.y * ih}`)\n            .join(\" \")}\n          strokeWidth={2}\n          stroke={colorAlpha(region.color, 0.75)}\n          fill={colorAlpha(region.color, 0.25)}\n        />\n        {points.map(({ x, y, angle }, i) => (\n          <g\n            key={i}\n            transform={`translate(${x * iw} ${y * ih}) rotate(${\n              (-(angle || 0) * 180) / Math.PI\n            })`}\n          >\n            <g>\n              <rect\n                x={-5}\n                y={-5}\n                width={10}\n                height={10}\n                strokeWidth={2}\n                stroke={colorAlpha(region.color, 0.75)}\n                fill={colorAlpha(region.color, 0.25)}\n              />\n            </g>\n          </g>\n        ))}\n        <rect\n          x={lastPoint.x * iw - 8}\n          y={lastPoint.y * ih - 8}\n          width={16}\n          height={16}\n          strokeWidth={4}\n          stroke={colorAlpha(region.color, 0.5)}\n          fill={\"transparent\"}\n        />\n      </>\n    )\n  }),\n  pixel: () => null,\n}\n\nexport const WrappedRegionList = memo(\n  ({ regions, keypointDefinitions, iw, ih, fullSegmentationMode }) => {\n    return regions\n      .filter((r) => r.visible !== false)\n      .map((r) => {\n        const Component = RegionComponents[r.type]\n        return (\n          <Component\n            key={r.id}\n            region={r}\n            iw={iw}\n            ih={ih}\n            keypointDefinitions={keypointDefinitions}\n            fullSegmentationMode={fullSegmentationMode}\n          />\n        )\n      })\n  },\n  (n, p) => n.regions === p.regions && n.iw === p.iw && n.ih === p.ih\n)\n\nexport const RegionShapes = ({\n  mat,\n  imagePosition,\n  regions = [],\n  keypointDefinitions,\n  fullSegmentationMode,\n  onRegionChange,\n}) => {\n  const svgRef = React.useRef(null);\n  const svg = svgRef.current;\n  const iw = imagePosition.bottomRight.x - imagePosition.topLeft.x\n  const ih = imagePosition.bottomRight.y - imagePosition.topLeft.y\n  useEffect(() => {\n    if (svg) {\n      var s = new XMLSerializer().serializeToString(svg); \n      var encodedData = window.btoa(s);\n      onRegionChange(encodedData,{width:iw,height:ih});          \n    }\n  },[regions]);\n  \n  if (isNaN(iw) || isNaN(ih)) return null\n  \n \n\n  return (\n    <svg\n      ref={svgRef}\n      width={iw}\n      height={ih}\n      style={{\n        position: \"absolute\",\n        zIndex: 2,\n        left: imagePosition.topLeft.x,\n        top: imagePosition.topLeft.y,\n        pointerEvents: \"none\",\n        width: iw,\n        height: ih,\n      }}\n    >\n      <WrappedRegionList\n        key=\"wrapped-region-list\"\n        regions={regions}\n        iw={iw}\n        ih={ih}\n        keypointDefinitions={keypointDefinitions}\n        fullSegmentationMode={fullSegmentationMode}\n      />\n    </svg>\n  )\n}\n\nexport default RegionShapes\n",["279","280"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageSelectorSidebarBox/index.js",["281","282","283","284","285","286","287","288"],"// @flow\n\nimport React, { memo,useEffect,useLayoutEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\nimport CollectionsIcon from \"@material-ui/icons/Folder\"\nimport { grey,red } from \"@material-ui/core/colors\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport isEqual from \"lodash/isEqual\"\nimport {Link } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n  img: { width: 170, height: 40, marginLeft:30, borderRadius: 8 },\n})\n\nexport const ImageSelectorSidebarBox = ({ images, onSelect,state,history }) => {\n  const classes = useStyles()\n  // console.log(\"Selected\", images);\n  const jobName = state.jobName;\n  // console.log(\"history: \", history);\n\n\n\n  useLayoutEffect(() => {\n    const { location: { pathname } } = history;\n    // console.log(\"history: \", history);\n    if (pathname) {\n      let imageName = pathname.split('/')[2];\n      if (imageName) {\n        let imageIndex = images.findIndex(image => image.name === imageName);\n\n        if (imageIndex > 0) {\n          setTimeout(() => {\n            onSelect(images[imageIndex], imageIndex)\n          }, 2);\n        } else {\n          // Invalid image\n          history.push(images[0].name)\n        }\n      }\n      else {\n        const job = pathname.split('/')[1];\n        // console.log('JOb',job)\n        if (job) {\n          history.push(images[0].name)\n        } else {\n          history.push(`${jobName}/${images[0].name}`)\n        }\n      }\n    }\n  },[])\n  \n  useEffect(() => {\n\n    const { location: { pathname } } = history;\n   \n    // console.log(\"History: \", history.location);\n    history.listen(() => {\n      // console.log(\"Listeningg\",history.location.key);\n      // console.log(\"Listeningg\", history.location);\n      const { location: { pathname } } = history;\n      // console.log(\"Path: \", pathname);\n      if (pathname) {\n        let imageName = pathname.split('/')[2];\n        if (imageName) {\n          // Check if we have image of given name\n          let imageIndex = images.findIndex(image => image.name === imageName);\n          // console.log('INdex: ', imageIndex);\n          if (imageIndex > 0) {\n          // console.log(\"Exis:\", imageIndex);\n           onSelect(images[imageIndex], imageIndex)\n          }\n      \n        } else {\n          const job = pathname.split('/')[1];\n          if (job) {\n            history.push(images[0].name)\n            onSelect(images[0], 0)\n          }else{\n          history.push(`${jobName}/${images[0].name}`)\n\n          }\n        }\n      }\n\n    })\n  }, []);\n\n\n  // useEffect(() => {\n  //   console.log('> Router', history.action, history.location)\n  // }, [history.location.key])\n\n  return (\n    <SidebarBoxContainer\n      title={jobName || 'Job Name'}\n      subTitle={`(${images.length})`}\n      icon={<CollectionsIcon style={{ color: red[700] }} />}\n    >\n      <div>\n        <ul className=\"dpfSidelist\">\n          {images.map((img, i) => (\n            <Link\n          \n              to={`/${jobName}/${img.name}`}\n              className={\n                `imageListItem ${i === state.selectedImage ? 'imageSelectItem' : ''}`\n              }\n              onClick={() => onSelect(img, i)}\n              key={i}>\n              {/* <img className={classes.img} src={img.src} /> */}\n              <ListItemText\n                primary={img.name}\n              />\n            </Link>\n          ))}\n        </ul>\n      </div>\n    </SidebarBoxContainer>\n  )\n}\n\nconst mapUsedImageProps = (a) => [a.name, (a.regions || []).length, a.src]\n\n// export default ImageSelectorSidebarBox;\nexport default memo(ImageSelectorSidebarBox, (prevProps, nextProps) => {\n\n  return isEqual(\n    prevProps.images.map(mapUsedImageProps),\n    nextProps.images.map(mapUsedImageProps),\n  ) && isEqual(\n    prevProps.state.selectedImage,\n    nextProps.state.selectedImage,\n  )\n }\n  \n)\n","/Users/shahn/dev/annotator/custom_annotator/src/components/Annotator.js",["289"],"import React from 'react'\n// import Annotator from '@rediminds/image-video-annotator'\nimport Annotator from '../Annotator/src/Annotator'; \nimport { images, labels } from './images'\nimport { Route,useHistory,useParams } from 'react-router-dom';\nconst AppAnnotator = (props) => {\n    const history = useHistory();\n    const params = useParams();\n    // console.log(\"Props:\", params);\n\n    return (\n        <Route path={`/:job/:asset/`} exact >\n\n        <div>\n            <Annotator images={images}\n                regionClsList={labels}\n                jobName=\"Dr-John-De\"\n                renderError={(error) => {\n                    // Message.error(error)\n                }}\n                history={history}\n                onSave={(selectedImage, encodedData) => {\n                    // console.log('Encoded data', encodedData);\n                    // alert('Changes saved successfully.')\n\n                }}\n                onSubmit={(state) => console.log('Submit: ',state)} />\n            </div>\n        </Route>\n            \n    )\n}\n\nexport default AppAnnotator\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/ImageSwitcher/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/index.js",["290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308"],"// @flow\n\nimport React, { useRef, useCallback,useState } from \"react\"\nimport type { Node } from \"react\"\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\nimport ImageCanvas from \"../ImageCanvas\"\nimport styles from \"./styles\"\nimport type { MainLayoutState, Action } from \"./types\"\nimport useKey from \"use-key-hook\"\nimport classnames from \"classnames\"\nimport { useSettings } from \"../SettingsProvider\"\nimport SettingsDialog from \"../SettingsDialog\"\n// import Fullscreen from \"../Fullscreen\"\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\"\nimport getActiveImage from \"../Annotator/reducers/get-active-image\"\nimport useImpliedVideoRegions from \"./use-implied-video-regions\"\nimport { useDispatchHotkeyHandlers } from \"../ShortcutsManager\"\nimport { withHotKeys } from \"react-hotkeys\"\nimport iconDictionary from \"./icon-dictionary\"\nimport KeyframeTimeline from \"../KeyframeTimeline\"\nimport Workspace from \"../../../Workspace/src/Workspace/index\"\nimport DebugBox from \"../DebugSidebarBox\"\nimport TagsSidebarBox from \"../TagsSidebarBox\"\nimport KeyframesSelector from \"../KeyframesSelectorSidebarBox\"\nimport TaskDescription from \"../TaskDescriptionSidebarBox\"\nimport RegionSelector from \"../RegionSelectorSidebarBox\"\nimport ImageSelector from \"../ImageSelectorSidebarBox\"\nimport HistorySidebarBox from \"../HistorySidebarBox\"\nimport useEventCallback from \"use-event-callback\"\n\nconst emptyArr = []\nconst useStyles = makeStyles(styles)\n\nconst HotkeyDiv = withHotKeys(({ hotKeys, children, divRef, ...props }) => (\n  <div {...{ ...hotKeys, ...props }} ref={divRef}>\n    {children}\n  </div>\n))\n\nconst FullScreenContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n  \"& .fullscreen\": {\n    width: \"100%\",\n    height: \"100%\",\n  },\n})\n\ntype Props = {\n  state: MainLayoutState,\n  RegionEditLabel?: Node,\n  dispatch: (Action) => any,\n  alwaysShowNextButton?: boolean,\n  alwaysShowPrevButton?: boolean,\n  onRegionClassAdded: () => {},\n}\n\nexport const MainLayout = ({\n  state,\n  dispatch,\n  alwaysShowNextButton = false,\n  alwaysShowPrevButton = false,\n  RegionEditLabel,\n  history,\n  renderError,\n  onRegionClassAdded,\n}: Props) => {\n  const classes = useStyles()\n  const settings = useSettings()\n  const fullScreenHandle = useFullScreenHandle()\n  const [mouseEvents, setMouseEvents] = useState();\n\n  const memoizedActionFns = useRef({})\n  const action = (type: string, ...params: Array<string>) => {\n    const fnKey = `${type}(${params.join(\",\")})`\n    if (memoizedActionFns.current[fnKey])\n      return memoizedActionFns.current[fnKey]\n\n    const fn = (...args: any) =>\n      params.length > 0\n        ? dispatch(\n            ({\n              type,\n              ...params.reduce((acc, p, i) => ((acc[p] = args[i]), acc), {}),\n            }: any)\n          )\n        : dispatch({ type, ...args[0] })\n    memoizedActionFns.current[fnKey] = fn\n    return fn\n  }\n\n  const { currentImageIndex, activeImage } = getActiveImage(state)\n  let nextImage\n  if (currentImageIndex !== null) {\n    nextImage = state.images[currentImageIndex + 1]\n  }\n  // console.log('ActiveImage: ',activeImage)\n  useKey(() => dispatch({ type: \"CANCEL\" }), {\n    detectKeys: [27],\n  })\n\n\n  const onRegionChange = useEventCallback((regionData,imageDimen) => {\n    // console.log('R: ', r);\n    dispatch({ type: \"CHANGE_REGION_DATA\",payload: {regionData,imageDimen}})\n  })\n\n  const isAVideoFrame = activeImage && activeImage.frameTime !== undefined\n  const innerContainerRef = useRef()\n  const hotkeyHandlers = useDispatchHotkeyHandlers({ dispatch })\n\n  let impliedVideoRegions = useImpliedVideoRegions(state)\n\n  const refocusOnMouseEvent = useCallback((e) => {\n    if (!innerContainerRef.current) return\n    if (innerContainerRef.current.contains(document.activeElement)) return\n    if (innerContainerRef.current.contains(e.target)) {\n      innerContainerRef.current.focus()\n      e.target.focus()\n    }\n  }, [])\n\n  const canvas = (\n    <ImageCanvas\n      {...settings}\n      showCrosshairs={\n        settings.showCrosshairs &&\n        ![\"select\", \"pan\", \"zoom\"].includes(state.selectedTool)\n      }\n      onRegionChange={onRegionChange}\n      key={state.selectedImage}\n      showMask={state.showMask}\n      fullImageSegmentationMode={state.fullImageSegmentationMode}\n      autoSegmentationOptions={state.autoSegmentationOptions}\n      showTags={state.showTags}\n      allowedArea={state.allowedArea}\n      modifyingAllowedArea={state.selectedTool === \"modify-allowed-area\"}\n      regionClsList={state.regionClsList}\n      regionTagList={state.regionTagList}\n      regions={\n        state.annotationType === \"image\"\n          ? activeImage.regions || []\n          : impliedVideoRegions\n      }\n      activeImage={activeImage}\n      realSize={activeImage ? activeImage.realSize : undefined}\n      videoPlaying={state.videoPlaying}\n      onNewImageLoaded={(events) =>setMouseEvents(events)}\n      imageSrc={state.annotationType === \"image\" ? activeImage.src : null}\n      videoSrc={state.annotationType === \"video\" ? state.videoSrc : null}\n      pointDistancePrecision={state.pointDistancePrecision}\n      createWithPrimary={state.selectedTool.includes(\"create\")}\n      dragWithPrimary={state.selectedTool === \"pan\"}\n      zoomWithPrimary={state.selectedTool === \"zoom\"}\n      showPointDistances={state.showPointDistances}\n      videoTime={\n        state.annotationType === \"image\"\n          ? state.selectedImageFrameTime\n          : state.currentVideoTime\n      }\n      selectedTool={state.selectedTool}\n      keypointDefinitions={state.keypointDefinitions}\n      onMouseMove={action(\"MOUSE_MOVE\")}\n      onMouseDown={action(\"MOUSE_DOWN\")}\n      onMouseUp={action(\"MOUSE_UP\")}\n      onChangeRegion={action(\"CHANGE_REGION\", \"region\")}\n      onBeginRegionEdit={action(\"OPEN_REGION_EDITOR\", \"region\")}\n      onCloseRegionEdit={action(\"CLOSE_REGION_EDITOR\", \"region\")}\n      onDeleteRegion={action(\"DELETE_REGION\", \"region\")}\n      onBeginBoxTransform={action(\"BEGIN_BOX_TRANSFORM\", \"box\", \"directions\")}\n      onBeginMovePolygonPoint={action(\n        \"BEGIN_MOVE_POLYGON_POINT\",\n        \"polygon\",\n        \"pointIndex\"\n      )}\n      onBeginMoveKeypoint={action(\n        \"BEGIN_MOVE_KEYPOINT\",\n        \"region\",\n        \"keypointId\"\n      )}\n      onAddPolygonPoint={action(\n        \"ADD_POLYGON_POINT\",\n        \"polygon\",\n        \"point\",\n        \"pointIndex\"\n      )}\n      onSelectRegion={action(\"SELECT_REGION\", \"region\")}\n      onBeginMovePoint={action(\"BEGIN_MOVE_POINT\", \"point\")}\n      onImageLoaded={action(\"IMAGE_LOADED\", \"image\")}\n      RegionEditLabel={RegionEditLabel}\n      onImageOrVideoLoaded={action(\"IMAGE_OR_VIDEO_LOADED\", \"metadata\")}\n      onChangeVideoTime={action(\"CHANGE_VIDEO_TIME\", \"newTime\")}\n      onChangeVideoPlaying={action(\"CHANGE_VIDEO_PLAYING\", \"isPlaying\")}\n      onRegionClassAdded={onRegionClassAdded}\n    />\n  )\n\nconst onClickToolbarItem = useEventCallback((item) => {\n  // console.log('item ', state,item);\n  if (mouseEvents) {\n    if (item.name === 'zoom-in') {\n      mouseEvents.onWheel({deltaY:-0.25},{x:165, y: 237})\n    } else if(item.name === 'zoom-out'){\n      mouseEvents.onWheel({deltaY:0.25},{x:165, y: 237})\n    }\n    else if (item.name === 'polygon') {\n      const image = state.images[currentImageIndex];\n      if (!image.label) {\n        // alert(\"Please select any label\");\n        renderError('Please select any label')\n        return;\n      } \n      console.log(\"Poly\",image);\n    }\n  }\n  \n    dispatch({ type: \"SELECT_TOOL\", selectedTool: item.name })\n  })\n\n\nconst onSelectLabel = useEventCallback((r) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"SELECT_LABEL\", selectedLabel: r })\n})\nconst onChangeObject = useEventCallback((r) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"CHANGE_REGION\", region: r })\n})\n\nconst onSelectObject = useEventCallback((r) => {\n    // console.log('R: ', r);\n    dispatch({ type: \"SELECT_REGION\", region: r })\n})\nconst onDeleteObject = useEventCallback((r) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"DELETE_REGION\", region: r })\n})\nconst onChangeLabel = useEventCallback((l) => {\n  // console.log('R: ', r);\n  dispatch({ type: \"CHANGE_LABEL\", label: l })\n})\n\nconst onClickLabel = useEventCallback(() => {\n  // console.log('R: ', r);\n  dispatch({ type: \"CLICK_LABEL\"})\n})\n\n\nconst onSubmit = useEventCallback(() => {\n  // console.log('R: ', r);\n  dispatch({ type: \"SUBMIT\"})\n})\n\n\n\nconst onClickFooterItem = useEventCallback((item) => {\n\n    console.log(item);\n    dispatch({ type: \"FOOTER_BUTTON_CLICKED\", buttonName: item.name })\n  })\n\n  const debugModeOn = Boolean(window.localStorage.$ANNOTATE_DEBUG_MODE && state)\n  const nextImageHasRegions =\n    !nextImage || (nextImage.regions && nextImage.regions.length > 0)\n\n  return (\n    <FullScreenContainer>    \n          <Workspace\n        iconDictionary={iconDictionary}\n        history={history}\n      \n        activeImage={activeImage}\n        dispatch={dispatch}\n        onSelectLabel={onSelectLabel}\n        onDeleteObject={onDeleteObject}\n                onChangeLabel={onChangeLabel}\n                onChangeObject={onChangeObject}\n        onSelectObject={onSelectObject}\n        onClickLabel={onClickLabel}\n            state={state}\n            footerItems={[\n              { name: \"Prev\" },\n              { name: \"Next\" },\n              { name: \"Undo\" },\n              { name: \"Redo\" },\n              // state.annotationType !== \"video\"\n              //   ? null\n              //   : !state.videoPlaying\n              //   ? { name: \"Play\" }\n              //   : { name: \"Pause\" },\n              // !nextImageHasRegions && activeImage.regions && { name: \"Clone\" },\n              // { name: \"Settings\" },\n              // state.fullScreen ? { name: \"Window\" } : { name: \"Fullscreen\" },\n              // { name: \"Save\" },\n            ].filter(Boolean)}\n        onClickFooterItem={onClickFooterItem}\n        onSubmit={onSubmit}\n        onClickToolbarItem={onClickToolbarItem}\n        onFilterValueUpdate={(filter)=>dispatch({type:'UPDATE_FILTER',payload:filter})}\n            selectedTools={\n              state.selectedTool\n            }\n        toolbarItems={[\n         \n            {\n                name: \"pan\",\n                helperText: \"Drag/Pan\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"zoom-in\",\n                helperText: \"Zoom In\",\n                alwaysShowing: true,\n              },\n              \n              {\n                name: \"zoom-out\",\n                helperText: \"Zoom Out\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"brightness\",\n                helperText: \"Brightness\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"contrast\",\n                helperText: \"Contrast\",\n                alwaysShowing: true,\n             },\n             {\n                name: \"inverse\",\n                helperText: \"Inverse\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"polygon\",\n                helperText: \"Polygon\",\n                alwaysShowing: true,\n              },\n              {\n                name: \"draw\",\n                helperText: \"Free Hand\",\n                alwaysShowing: true,\n              },\n              \n            ]\n              .filter(Boolean)\n              .filter(\n                (a) => a.alwaysShowing || state.enabledTools.includes(a.name)\n              )}\n              imageSelector={[\n             \n          ((state.images && state.images.length) || 0) > 1 && (\n                  <ImageSelector\n                  history={history}\n                key={3}\n                  state={state}\n                  onSelect={(img, position) => {\n                    dispatch({\n                      type: \"UPDATE_IMAGE_CANVAS\",\n                      payload: { img, position },\n                    })\n                  }}\n                  images={state.images}\n                />\n              ),\n              \n            ].filter(Boolean)}\n          >\n            {canvas}\n          </Workspace>\n          <SettingsDialog\n            open={state.settingsOpen}\n            onClose={() =>\n              dispatch({\n                type: \"FOOTER_BUTTON_CLICKED\",\n                buttonName: \"Settings\",\n              })\n            }\n          />\n    </FullScreenContainer>\n  )\n}\n\nexport default MainLayout\n",["309","310"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/index.js",[],["311","312"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/combine-reducers.js",["313"],"export default (...reducers) => (state, action) => {\r\n  for (const reducer of reducers) {\r\n    state = reducer(state, action)\r\n  }\r\n  return state\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/video-reducer.js",["314","315","316","317"],"// @flow\r\n\r\nimport type {\r\n  MainLayoutVideoAnnotationState,\r\n  Action,\r\n} from \"../../MainLayout/types\"\r\nimport { setIn, without } from \"seamless-immutable\"\r\nimport getImpliedVideoRegions from \"./get-implied-video-regions\"\r\nimport { saveToHistory } from \"./history-handler.js\"\r\n\r\nexport default (state: MainLayoutVideoAnnotationState, action: Action) => {\r\n  const copyImpliedRegions = () => {\r\n    return setIn(\r\n      saveToHistory(state, \"Add Keyframe\"),\r\n      [\"keyframes\", state.currentVideoTime || 0],\r\n      {\r\n        regions: getImpliedVideoRegions(\r\n          state.keyframes,\r\n          state.currentVideoTime\r\n        ),\r\n      }\r\n    )\r\n  }\r\n\r\n  switch (action.type) {\r\n    case \"IMAGE_OR_VIDEO_LOADED\": {\r\n      const { duration } = action.metadata\r\n      if (typeof duration === \"number\") {\r\n        return setIn(state, [\"videoDuration\"], duration * 1000)\r\n      }\r\n    }\r\n    case \"FOOTER_BUTTON_CLICKED\": {\r\n      switch (action.buttonName.toLowerCase()) {\r\n        case \"play\":\r\n          return setIn(state, [\"videoPlaying\"], true)\r\n        case \"pause\":\r\n          return setIn(state, [\"videoPlaying\"], false)\r\n      }\r\n    }\r\n    case \"CHANGE_VIDEO_TIME\": {\r\n      return setIn(state, [\"currentVideoTime\"], action.newTime)\r\n    }\r\n    case \"CHANGE_VIDEO_PLAYING\": {\r\n      return setIn(state, [\"videoPlaying\"], action.isPlaying)\r\n    }\r\n    case \"DELETE_KEYFRAME\": {\r\n      return setIn(state, [\"keyframes\"], without(state.keyframes, action.time))\r\n    }\r\n    default:\r\n      break\r\n  }\r\n\r\n  // Before the user modifies regions, copy the interpolated regions over to a\r\n  // new keyframe\r\n  if (!state.keyframes[state.currentVideoTime]) {\r\n    switch (action.type) {\r\n      case \"BEGIN_BOX_TRANSFORM\":\r\n      case \"BEGIN_MOVE_POINT\":\r\n      case \"BEGIN_MOVE_POLYGON_POINT\":\r\n      case \"ADD_POLYGON_POINT\":\r\n      case \"SELECT_REGION\":\r\n      case \"CHANGE_REGION\":\r\n      case \"DELETE_REGION\":\r\n      case \"OPEN_REGION_EDITOR\":\r\n        return copyImpliedRegions()\r\n      case \"MOUSE_DOWN\": {\r\n        switch (state.selectedTool) {\r\n          case \"create-point\":\r\n          case \"create-polygon\":\r\n          case \"create-box\":\r\n            return copyImpliedRegions()\r\n          default:\r\n            break\r\n        }\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return state\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-active-image.js",["318"],"import { getIn } from \"seamless-immutable\"\r\n\r\nexport default (state) => {\r\n  let currentImageIndex = null,\r\n    pathToActiveImage,\r\n    activeImage\r\n  if (state.annotationType === \"image\") {\r\n    currentImageIndex = state.selectedImage\r\n    if (currentImageIndex === -1) {\r\n      currentImageIndex = null\r\n      activeImage = null\r\n    } else {\r\n      pathToActiveImage = [\"images\", currentImageIndex]\r\n      activeImage = getIn(state, pathToActiveImage)\r\n    }\r\n  } else if (state.annotationType === \"video\") {\r\n    pathToActiveImage = [\"keyframes\", state.currentVideoTime || 0]\r\n    activeImage = getIn(state, pathToActiveImage) || null\r\n  }\r\n  return { currentImageIndex, pathToActiveImage, activeImage }\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/styles.js",["319"],"import { grey } from \"@material-ui/core/colors\"\r\n\r\nexport default {\r\n  container: {\r\n    display: \"flex\",\r\n    flexGrow: 1,\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    maxHeight: \"100vh\",\r\n    backgroundColor: \"#fff\",\r\n    overflow: \"hidden\",\r\n    \"&.fullscreen\": {\r\n      position: \"absolute\",\r\n      zIndex: 99999,\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0,\r\n    },\r\n  },\r\n  headerTitle: {\r\n    fontWeight: \"bold\",\r\n    color: grey[700],\r\n    paddingLeft: 16,\r\n  },\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/use-implied-video-regions.js",["320"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/DebugSidebarBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TagsSidebarBox/index.js",["321"],"// @flow\r\n\r\nimport React, { useMemo, memo } from \"react\"\r\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport StyleIcon from \"@material-ui/icons/Style\"\r\nimport { grey } from \"@material-ui/core/colors\"\r\nimport Select from \"react-select\"\r\nimport useEventCallback from \"use-event-callback\"\r\nimport { asMutable } from \"seamless-immutable\"\r\n\r\nconst useStyles = makeStyles({})\r\n\r\ntype Props = {\r\n  tags: Array<string>,\r\n  currentImage: { cls?: string, tags?: Array<string> },\r\n  imageClsList?: Array<string>,\r\n  imageTagList?: Array<string>,\r\n  onChangeImage: (Array<string>) => any,\r\n}\r\n\r\nconst emptyArr = []\r\nconst noop = () => null\r\n\r\nexport const TagsSidebarBox = ({\r\n  currentImage,\r\n  imageClsList = emptyArr,\r\n  imageTagList = emptyArr,\r\n  onChangeImage = noop,\r\n}: Props) => {\r\n  const { tags = [], cls = null } = currentImage || {}\r\n  const onChangeClassification = useEventCallback((o) =>\r\n    onChangeImage({ cls: o.value })\r\n  )\r\n  const onChangeTags = useEventCallback((o) =>\r\n    onChangeImage({ tags: o.map((a) => a.value) })\r\n  )\r\n  const selectValue = useMemo(() => (cls ? { value: cls, label: cls } : null), [\r\n    cls,\r\n  ])\r\n  const memoImgClsList = useMemo(\r\n    () => asMutable(imageClsList.map((c) => ({ value: c, label: c }))),\r\n    [imageClsList]\r\n  )\r\n  const memoImgTagList = useMemo(\r\n    () => asMutable(imageTagList.map((c) => ({ value: c, label: c }))),\r\n    [imageTagList]\r\n  )\r\n  const memoCurrentTags = useMemo(\r\n    () => tags.map((r) => ({ value: r, label: r })),\r\n    [tags]\r\n  )\r\n\r\n  if (!currentImage) return null\r\n\r\n  return (\r\n    <SidebarBoxContainer\r\n      title=\"Image Tags\"\r\n      expandedByDefault\r\n      noScroll\r\n      icon={<StyleIcon style={{ color: grey[700] }} />}\r\n    >\r\n      {imageClsList.length > 0 && (\r\n        <div style={{ padding: 8 }}>\r\n          <Select\r\n            placeholder=\"Image Classification\"\r\n            onChange={onChangeClassification}\r\n            value={selectValue}\r\n            options={memoImgClsList}\r\n          />\r\n        </div>\r\n      )}\r\n      {imageTagList.length > 0 && (\r\n        <div style={{ padding: 8, paddingTop: 0 }}>\r\n          <Select\r\n            isMulti\r\n            placeholder=\"Image Tags\"\r\n            onChange={onChangeTags}\r\n            value={memoCurrentTags}\r\n            options={memoImgTagList}\r\n          />\r\n        </div>\r\n      )}\r\n    </SidebarBoxContainer>\r\n  )\r\n}\r\n\r\nexport default memo(\r\n  TagsSidebarBox,\r\n  (prevProps, nextProps) =>\r\n    prevProps.currentImage.cls === nextProps.currentImage.cls &&\r\n    prevProps.currentImage.tags === nextProps.currentImage.tags &&\r\n    prevProps.imageClsList === nextProps.imageClsList &&\r\n    prevProps.imageTagList === nextProps.imageTagList\r\n)\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HistorySidebarBox/index.js",["322","323"],"// @flow\r\n\r\nimport React, { setState, memo } from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\r\nimport HistoryIcon from \"@material-ui/icons/History\"\r\nimport List from \"@material-ui/core/List\"\r\nimport ListItem from \"@material-ui/core/ListItem\"\r\nimport ListItemText from \"@material-ui/core/ListItemText\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\"\r\nimport UndoIcon from \"@material-ui/icons/Undo\"\r\nimport moment from \"moment\"\r\nimport { grey } from \"@material-ui/core/colors\"\r\nimport isEqual from \"lodash/isEqual\"\r\nimport Box from \"@material-ui/core/Box\"\r\n\r\nconst useStyles = makeStyles({\r\n  emptyText: {\r\n    fontSize: 14,\r\n    fontWeight: \"bold\",\r\n    color: grey[500],\r\n    textAlign: \"center\",\r\n    padding: 20,\r\n  },\r\n})\r\n\r\nconst listItemTextStyle = { paddingLeft: 16 }\r\n\r\nexport const HistorySidebarBox = ({\r\n  history,\r\n  onRestoreHistory,\r\n}: {\r\n  history: Array<{ name: string, time: Date }>,\r\n}) => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <SidebarBoxContainer\r\n      title=\"History\"\r\n      icon={<HistoryIcon style={{ color: grey[700] }} />}\r\n      expandedByDefault\r\n    >\r\n      <List className=\"testList\">\r\n        {history.length === 0 && (\r\n          <div className={classes.emptyText}>No History Yet</div>\r\n        )}\r\n        {history.map(({ name, time }, i) => (\r\n          <ListItem button dense key={i}>\r\n            <ListItemText\r\n              style={listItemTextStyle}\r\n              primary={name}\r\n              secondary={moment(time).format(\"LT\")}\r\n            />\r\n            {i === 0 && (\r\n              <ListItemSecondaryAction onClick={() => onRestoreHistory()}>\r\n                <IconButton>\r\n                  <UndoIcon />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            )}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </SidebarBoxContainer>\r\n  )\r\n}\r\n\r\nexport default memo(HistorySidebarBox, (prevProps, nextProps) =>\r\n  isEqual(\r\n    prevProps.history.map((a) => [a.name, a.time]),\r\n    nextProps.history.map((a) => [a.name, a.time])\r\n  )\r\n)\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Workspace/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionSelectorSidebarBox/index.js",["324","325"],"// @flow\r\n\r\nimport React, { Fragment, useState, memo } from \"react\"\r\nimport SidebarBoxContainer from \"../SidebarBoxContainer\"\r\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\r\nimport { grey } from \"@material-ui/core/colors\"\r\nimport RegionIcon from \"@material-ui/icons/PictureInPicture\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport ReorderIcon from \"@material-ui/icons/SwapVert\"\r\nimport PieChartIcon from \"@material-ui/icons/PieChart\"\r\nimport TrashIcon from \"@material-ui/icons/Delete\"\r\nimport LockIcon from \"@material-ui/icons/Lock\"\r\nimport UnlockIcon from \"@material-ui/icons/LockOpen\"\r\nimport VisibleIcon from \"@material-ui/icons/Visibility\"\r\nimport VisibleOffIcon from \"@material-ui/icons/VisibilityOff\"\r\nimport styles from \"./styles\"\r\nimport classnames from \"classnames\"\r\nimport isEqual from \"lodash/isEqual\"\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst HeaderSep = styled(\"div\")({\r\n  borderTop: `1px solid ${grey[200]}`,\r\n  marginTop: 2,\r\n  marginBottom: 2,\r\n})\r\n\r\nconst Chip = ({ color, text }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <span className={classes.chip}>\r\n      <div className=\"color\" style={{ backgroundColor: color }} />\r\n      <div className=\"text\">{text}</div>\r\n    </span>\r\n  )\r\n}\r\n\r\nconst RowLayout = ({\r\n  header,\r\n  highlighted,\r\n  order,\r\n  classification,\r\n  area,\r\n  tags,\r\n  trash,\r\n  lock,\r\n  visible,\r\n  onClick,\r\n}) => {\r\n  const classes = useStyles()\r\n  const [mouseOver, changeMouseOver] = useState(false)\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      onMouseEnter={() => changeMouseOver(true)}\r\n      onMouseLeave={() => changeMouseOver(false)}\r\n      className={classnames(classes.row, { header, highlighted })}\r\n    >\r\n      <Grid container alignItems=\"center\">\r\n        <Grid item xs={2}>\r\n          <div style={{ textAlign: \"right\", paddingRight: 10 }}>{order}</div>\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          {classification}\r\n        </Grid>\r\n        <Grid item xs={2}>\r\n          <div style={{ textAlign: \"right\", paddingRight: 6 }}>{area}</div>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          {trash}\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          {lock}\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          {visible}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst RowHeader = () => {\r\n  return (\r\n    <RowLayout\r\n      header\r\n      highlighted={false}\r\n      order={<ReorderIcon className=\"icon\" />}\r\n      classification={<div style={{ paddingLeft: 10 }}>Class</div>}\r\n      area={<PieChartIcon className=\"icon\" />}\r\n      trash={<TrashIcon className=\"icon\" />}\r\n      lock={<LockIcon className=\"icon\" />}\r\n      visible={<VisibleIcon className=\"icon\" />}\r\n    />\r\n  )\r\n}\r\n\r\nconst MemoRowHeader = memo(RowHeader)\r\n\r\nconst Row = ({\r\n  region: r,\r\n  highlighted,\r\n  onSelectRegion,\r\n  onDeleteRegion,\r\n  onChangeRegion,\r\n  visible,\r\n  locked,\r\n  color,\r\n  cls,\r\n  index,\r\n}) => {\r\n  return (\r\n    <RowLayout\r\n      header={false}\r\n      highlighted={highlighted}\r\n      onClick={() => onSelectRegion(r)}\r\n      order={`#${index + 1}`}\r\n      classification={<Chip text={cls || \"\"} color={color || \"#ddd\"} />}\r\n      area=\"\"\r\n      trash={<TrashIcon onClick={() => onDeleteRegion(r)} className=\"icon2\" />}\r\n      lock={\r\n        r.locked ? (\r\n          <LockIcon\r\n            onClick={() => onChangeRegion({ ...r, locked: false })}\r\n            className=\"icon2\"\r\n          />\r\n        ) : (\r\n          <UnlockIcon\r\n            onClick={() => onChangeRegion({ ...r, locked: true })}\r\n            className=\"icon2\"\r\n          />\r\n        )\r\n      }\r\n      visible={\r\n        r.visible || r.visible === undefined ? (\r\n          <VisibleIcon\r\n            onClick={() => onChangeRegion({ ...r, visible: false })}\r\n            className=\"icon2\"\r\n          />\r\n        ) : (\r\n          <VisibleOffIcon\r\n            onClick={() => onChangeRegion({ ...r, visible: true })}\r\n            className=\"icon2\"\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst MemoRow = memo(\r\n  Row,\r\n  (prevProps, nextProps) =>\r\n    prevProps.highlighted === nextProps.highlighted &&\r\n    prevProps.visible === nextProps.visible &&\r\n    prevProps.locked === nextProps.locked &&\r\n    prevProps.id === nextProps.id &&\r\n    prevProps.index === nextProps.index &&\r\n    prevProps.cls === nextProps.cls &&\r\n    prevProps.color === nextProps.color\r\n)\r\n\r\nconst emptyArr = []\r\n\r\nexport const RegionSelectorSidebarBox = ({\r\n  regions = emptyArr,\r\n  onDeleteRegion,\r\n  onChangeRegion,\r\n  onSelectRegion,\r\n}) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <SidebarBoxContainer\r\n      title=\"Regions\"\r\n      subTitle=\"\"\r\n      icon={<RegionIcon style={{ color: grey[700] }} />}\r\n      expandedByDefault\r\n    >\r\n      <div className={classes.container}>\r\n        <MemoRowHeader />\r\n        <HeaderSep />\r\n        {regions.map((r, i) => (\r\n          <MemoRow\r\n            key={r.id}\r\n            {...r}\r\n            region={r}\r\n            index={i}\r\n            onSelectRegion={onSelectRegion}\r\n            onDeleteRegion={onDeleteRegion}\r\n            onChangeRegion={onChangeRegion}\r\n          />\r\n        ))}\r\n      </div>\r\n    </SidebarBoxContainer>\r\n  )\r\n}\r\n\r\nconst mapUsedRegionProperties = (r) => [\r\n  r.id,\r\n  r.color,\r\n  r.locked,\r\n  r.visible,\r\n  r.highlighted,\r\n]\r\n\r\nexport default memo(RegionSelectorSidebarBox, (prevProps, nextProps) =>\r\n  isEqual(\r\n    (prevProps.regions || emptyArr).map(mapUsedRegionProperties),\r\n    (nextProps.regions || emptyArr).map(mapUsedRegionProperties)\r\n  )\r\n)\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/get-time-string.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/colors.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/fix-twisted.js",["326"],"// @flow\r\n\r\nexport default (pointsWithAngles) => {\r\n  // Adjacent angles should not have an angular distance of more than Math.PI\r\n  return pointsWithAngles\r\n}\r\n",["327","328"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/convert-expanding-line-to-polygon.js",["329"],"// @flow\r\n\r\nfunction clamp(num, min, max) {\r\n  return num <= min ? min : num >= max ? max : num\r\n}\r\n\r\nexport default (expandingLine) => {\r\n  const expandingWidth = expandingLine.expandingWidth || 0.005\r\n  const pointPairs = expandingLine.points.map(({ x, y, angle, width }, i) => {\r\n    if (!angle) {\r\n      const n =\r\n        expandingLine.points[clamp(i + 1, 0, expandingLine.points.length - 1)]\r\n      const p =\r\n        expandingLine.points[clamp(i - 1, 0, expandingLine.points.length - 1)]\r\n      angle = Math.atan2(p.x - n.x, p.y - n.y) + Math.PI / 2\r\n    }\r\n    const dx = (Math.sin(angle) * (width || expandingWidth)) / 2\r\n    const dy = (Math.cos(angle) * (width || expandingWidth)) / 2\r\n    return [\r\n      { x: x + dx, y: y + dy },\r\n      { x: x - dx, y: y - dy },\r\n    ]\r\n  })\r\n  const firstSection = pointPairs.map(([p1, p2]) => p1)\r\n  const secondSection = pointPairs.map(([p1, p2]) => p2).asMutable()\r\n  secondSection.reverse()\r\n\r\n  const newPoints = firstSection.concat(secondSection).map(({ x, y }) => [x, y])\r\n\r\n  return {\r\n    ...expandingLine,\r\n    type: \"polygon\",\r\n    open: false,\r\n    points: newPoints,\r\n    unfinished: undefined,\r\n    candidatePoint: undefined,\r\n  }\r\n\r\n  // let { expandingWidth = 0.005, points } = region\r\n  // expandingWidth = points.slice(-1)[0].width || expandingWidth\r\n  // const lastPoint = points.slice(-1)[0]\r\n  // return (\r\n  //   <>\r\n  //     <polygon\r\n  //       points={\r\n  //         .map((p) => `${p.x * iw} ${p.y * ih}`)\r\n  //         .join(\" \")}\r\n  // return {\r\n  //   ...expandingLine,\r\n  //   unfinished: undefined,\r\n  //   candidatePoint: undefined,\r\n  // }\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/region-tools.js",["330","331"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-dictionary.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/styles.js",["332","333"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-window-size.js",["334"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PreventScrollToParents/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionTags/index.js",["335","336"],"// @flow weak\r\n\r\nimport React from \"react\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport DefaultRegionLabel from \"../RegionLabel\"\r\nimport LockIcon from \"@material-ui/icons/Lock\"\r\n\r\nconst copyWithout = (obj, ...args) => {\r\n  const newObj = { ...obj }\r\n  for (const arg of args) {\r\n    delete newObj[arg]\r\n  }\r\n  return newObj\r\n}\r\n\r\nexport const RegionTags = ({\r\n  regions,\r\n  projectRegionBox,\r\n  mouseEvents,\r\n  regionClsList,\r\n  regionTagList,\r\n  onBeginRegionEdit,\r\n  onChangeRegion,\r\n  onCloseRegionEdit,\r\n  onDeleteRegion,\r\n  layoutParams,\r\n  imageSrc,\r\n  RegionEditLabel,\r\n  onRegionClassAdded,\r\n}) => {\r\n  const RegionLabel =\r\n    RegionEditLabel != null ? RegionEditLabel : DefaultRegionLabel\r\n  return regions\r\n    .filter((r) => r.visible || r.visible === undefined)\r\n    .map((region) => {\r\n      const pbox = projectRegionBox(region)\r\n      const { iw, ih } = layoutParams.current\r\n      let margin = 8\r\n      if (region.highlighted && region.type === \"box\") margin += 6\r\n      const labelBoxHeight =\r\n        region.editingLabels && !region.locked ? 170 : region.tags ? 60 : 50\r\n      const displayOnTop = pbox.y > labelBoxHeight\r\n\r\n      const coords = displayOnTop\r\n        ? {\r\n            left: pbox.x,\r\n            top: pbox.y - margin / 2,\r\n          }\r\n        : { left: pbox.x, top: pbox.y + pbox.h + margin / 2 }\r\n      if (region.locked) {\r\n        return (\r\n          <div\r\n            key={region.id}\r\n            style={{\r\n              position: \"absolute\",\r\n              ...coords,\r\n              zIndex: 10 + (region.editingLabels ? 5 : 0),\r\n            }}\r\n          >\r\n            <Paper\r\n              style={{\r\n                position: \"absolute\",\r\n                left: 0,\r\n                ...(displayOnTop ? { bottom: 0 } : { top: 0 }),\r\n                zIndex: 10,\r\n                backgroundColor: \"#fff\",\r\n                borderRadius: 4,\r\n                padding: 2,\r\n                paddingBottom: 0,\r\n                opacity: 0.5,\r\n                pointerEvents: \"none\",\r\n              }}\r\n            >\r\n              <LockIcon style={{ width: 16, height: 16, color: \"#333\" }} />\r\n            </Paper>\r\n          </div>\r\n        )\r\n      }\r\n      return (\r\n        <div\r\n          key={region.id}\r\n          style={{\r\n            position: \"absolute\",\r\n            ...coords,\r\n            zIndex: 10 + (region.editingLabels ? 5 : 0),\r\n            width: 200,\r\n          }}\r\n          onMouseDown={(e) => e.preventDefault()}\r\n          onMouseUp={(e) => e.preventDefault()}\r\n          onMouseEnter={(e) => {\r\n            if (region.editingLabels) {\r\n              mouseEvents.onMouseUp(e)\r\n              e.button = 1\r\n              mouseEvents.onMouseUp(e)\r\n            }\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 20,\r\n              left: 0,\r\n              ...(displayOnTop ? { bottom: 0 } : { top: 0 }),\r\n            }}\r\n            {...(!region.editingLabels\r\n              ? copyWithout(mouseEvents, \"onMouseDown\", \"onMouseUp\")\r\n              : {})}\r\n          >\r\n            <RegionLabel\r\n              allowedClasses={regionClsList}\r\n              allowedTags={regionTagList}\r\n              onOpen={onBeginRegionEdit}\r\n              onChange={onChangeRegion}\r\n              onClose={onCloseRegionEdit}\r\n              onDelete={onDeleteRegion}\r\n              editing={region.editingLabels}\r\n              region={region}\r\n              regions={regions}\r\n              imageSrc={imageSrc}\r\n              onRegionClassAdded={onRegionClassAdded}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n}\r\n\r\nexport default RegionTags\r\n",["337","338"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/index.js",["339","340","341"],"// @flow\r\n\r\nimport React, { useState, memo } from \"react\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport styles from \"./styles\"\r\nimport classnames from \"classnames\"\r\nimport type { Region } from \"../ImageCanvas/region-tools.js\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport TrashIcon from \"@material-ui/icons/Delete\"\r\nimport CheckIcon from \"@material-ui/icons/Check\"\r\nimport UndoIcon from \"@material-ui/icons/Undo\"\r\nimport Select from \"react-select\"\r\nimport CreatableSelect from \"react-select/creatable\"\r\n\r\nimport { asMutable } from \"seamless-immutable\"\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\ntype Props = {\r\n  region: Region,\r\n  editing?: boolean,\r\n  allowedClasses?: Array<string>,\r\n  allowedTags?: Array<string>,\r\n  cls?: string,\r\n  tags?: Array<string>,\r\n  onDelete: (Region) => null,\r\n  onChange: (Region) => null,\r\n  onClose: (Region) => null,\r\n  onOpen: (Region) => null,\r\n  onRegionClassAdded: () => {},\r\n}\r\n\r\nexport const RegionLabel = ({\r\n  region,\r\n  editing,\r\n  allowedClasses,\r\n  allowedTags,\r\n  onDelete,\r\n  onChange,\r\n  onClose,\r\n  onOpen,\r\n  onRegionClassAdded,\r\n}: Props) => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Paper\r\n      onClick={() => (!editing ? onOpen(region) : null)}\r\n      className={classnames(classes.regionInfo, {\r\n        highlighted: region.highlighted,\r\n      })}\r\n    >\r\n      {!editing ? (\r\n        <div>\r\n          {region.cls && (\r\n            <div className=\"name\">\r\n              <div\r\n                className=\"circle\"\r\n                style={{ backgroundColor: region.color }}\r\n              />\r\n              {region.cls}\r\n            </div>\r\n          )}\r\n          {region.tags && (\r\n            <div className=\"tags\">\r\n              {region.tags.map((t) => (\r\n                <div key={t} className=\"tag\">\r\n                  {t}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div style={{ width: 200 }}>\r\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                backgroundColor: region.color || \"#888\",\r\n                color: \"#fff\",\r\n                padding: 4,\r\n                paddingLeft: 8,\r\n                paddingRight: 8,\r\n                borderRadius: 4,\r\n                fontWeight: \"bold\",\r\n                textShadow: \"0px 0px 5px rgba(0,0,0,0.4)\",\r\n              }}\r\n            >\r\n              {region.type}\r\n            </div>\r\n            <div style={{ flexGrow: 1 }} />\r\n            <IconButton\r\n              onClick={() => onDelete(region)}\r\n              tabIndex={-1}\r\n              style={{ width: 22, height: 22 }}\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n            >\r\n              <TrashIcon style={{ marginTop: -8, width: 16, height: 16 }} />\r\n            </IconButton>\r\n          </div>\r\n          {(allowedClasses || []).length > 0 && (\r\n            <div style={{ marginTop: 6 }}>\r\n              <CreatableSelect\r\n                placeholder=\"Classification\"\r\n                onChange={(o, actionMeta) => {\r\n                  if (actionMeta.action == \"create-option\") {\r\n                    onRegionClassAdded(o.value)\r\n                  }\r\n                  return onChange({\r\n                    ...(region: any),\r\n                    cls: o.value,\r\n                  })\r\n                }}\r\n                value={\r\n                  region.cls ? { label: region.cls, value: region.cls } : null\r\n                }\r\n                options={asMutable(\r\n                  allowedClasses.map((c) => ({ value: c, label: c }))\r\n                )}\r\n              />\r\n            </div>\r\n          )}\r\n          {(allowedTags || []).length > 0 && (\r\n            <div style={{ marginTop: 4 }}>\r\n              <Select\r\n                onChange={(newTags) =>\r\n                  onChange({\r\n                    ...(region: any),\r\n                    tags: newTags.map((t) => t.value),\r\n                  })\r\n                }\r\n                placeholder=\"Tags\"\r\n                value={(region.tags || []).map((c) => ({ label: c, value: c }))}\r\n                isMulti\r\n                options={asMutable(\r\n                  allowedTags.map((c) => ({ value: c, label: c }))\r\n                )}\r\n              />\r\n            </div>\r\n          )}\r\n          {onClose && (\r\n            <div style={{ marginTop: 4, display: \"flex\" }}>\r\n              <div style={{ flexGrow: 1 }} />\r\n              <Button\r\n                onClick={() => onClose(region)}\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                <CheckIcon />\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default memo(\r\n  RegionLabel,\r\n  (prevProps, nextProps) =>\r\n    prevProps.editing === nextProps.editing &&\r\n    prevProps.region === nextProps.region\r\n)\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/icon-mapping.js",["342"],"import React from 'react';\r\nimport BackIcon from \"@material-ui/icons/KeyboardArrowLeft\"\r\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\"\r\nimport UndoIcon from \"@material-ui/icons/Undo\"\r\nimport RedoIcon from \"@material-ui/icons/Redo\"\r\nimport PlayIcon from \"@material-ui/icons/PlayArrow\"\r\nimport PauseIcon from \"@material-ui/icons/Pause\"\r\nimport SettingsIcon from \"@material-ui/icons/Settings\"\r\nimport HelpIcon from \"@material-ui/icons/Help\"\r\nimport FullscreenIcon from \"@material-ui/icons/Fullscreen\"\r\nimport ExitIcon from \"@material-ui/icons/ExitToApp\"\r\nimport QueuePlayNextIcon from \"@material-ui/icons/QueuePlayNext\"\r\nimport HotkeysIcon from \"@material-ui/icons/Keyboard\"\r\n\r\n\r\n\r\nimport { ReactComponent as Pan } from './icons/Pan.svg';\r\nimport { ReactComponent as ZoomIn } from './icons/Zoom_In.svg';\r\nimport { ReactComponent as ZoomOut } from './icons/Zoom_Out.svg';\r\nimport { ReactComponent as Invert } from './icons/Invert.svg';\r\nimport { ReactComponent as Polygon } from './icons/Polygon.svg';\r\nimport { ReactComponent as Draw } from './icons/Draw.svg';\r\nimport { ReactComponent as Brightness } from './icons/Brightness.svg';\r\nimport { ReactComponent as Contrast } from './icons/Contrast.svg';\r\nimport { ReactComponent as Next } from './icons/Next.svg';\r\nimport { ReactComponent as Previous } from './icons/Previous.svg';\r\nimport { ReactComponent as Redo } from './icons/Redo.svg';\r\nimport { ReactComponent as Undo } from './icons/Undo.svg';\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const iconMapping = {\r\n  back: BackIcon,\r\n  prev: BackIcon,\r\n  undo: UndoIcon,\r\n  redo: RedoIcon,\r\n  previous: BackIcon,\r\n  next: NextIcon,\r\n  forward: NextIcon,\r\n  play: PlayIcon,\r\n  pause: PauseIcon,\r\n  settings: SettingsIcon,\r\n  options: SettingsIcon,\r\n  help: HelpIcon,\r\n  fullscreen: FullscreenIcon,\r\n  exit: ExitIcon,\r\n  quit: ExitIcon,\r\n  save: ExitIcon,\r\n  done: ExitIcon,\r\n  clone: QueuePlayNextIcon,\r\n  hotkeys: HotkeysIcon,\r\n  shortcuts: HotkeysIcon,\r\n  pan: Pan,\r\n  'zoom-in': ZoomIn,\r\n  'zoom-out': ZoomOut,\r\n  inverse: Invert,\r\n  polygon: Polygon,\r\n  draw: Draw,\r\n  brightness: Brightness,\r\n  contrast: Contrast,\r\n}\r\n\r\nexport default iconMapping\r\n\r\n\r\nexport const getIcon = (name, selected) => {\r\n  switch (name) {\r\n    case 'brightness':\r\n      return <Brightness\r\n        className={selected ? 'selected' : ''}\r\n        alt=\"close bubble\"\r\n      />;\r\n    case 'pan':\r\n      return <Pan\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n    case 'zoom-in':\r\n      return <ZoomIn\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n    case 'zoom-out':\r\n      return <ZoomOut\r\n        className={selected ? 'selected' : ''}\r\n      />\r\n    case 'contrast':\r\n      return <Contrast\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n    case 'inverse':\r\n      return <Invert\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n    case 'draw':\r\n      return <Draw\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n    case 'polygon':\r\n      return <Polygon\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n    case 'Undo':\r\n      return <Undo\r\n        className={selected ? 'selected' : ''} />;\r\n\r\n    case 'Redo':\r\n      return <Redo\r\n        className={selected ? 'selected' : ''} />;\r\n\r\n    case 'Prev':\r\n      return <Previous\r\n        className={selected ? 'selected' : ''} />;\r\n\r\n\r\n    case 'Next':\r\n      return <Next\r\n        className={selected ? 'selected' : ''}\r\n      />;\r\n  }\r\n}","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/RegionLabel/styles.js",["343"],"// @flow\r\n\r\nimport { grey } from \"@material-ui/core/colors\"\r\n\r\nexport default {\r\n  regionInfo: {\r\n    fontSize: 12,\r\n    cursor: \"default\",\r\n    transition: \"opacity 200ms\",\r\n    opacity: 0.5,\r\n    \"&:hover\": {\r\n      opacity: 0.9,\r\n      cursor: \"pointer\",\r\n    },\r\n    \"&.highlighted\": {\r\n      opacity: 0.9,\r\n      \"&:hover\": {\r\n        opacity: 1,\r\n      },\r\n    },\r\n    // pointerEvents: \"none\",\r\n    fontWeight: 600,\r\n    color: grey[900],\r\n    padding: 8,\r\n    \"& .name\": {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      \"& .circle\": {\r\n        marginRight: 4,\r\n        boxShadow: \"0px 0px 2px rgba(0,0,0,0.4)\",\r\n        width: 10,\r\n        height: 10,\r\n        borderRadius: 5,\r\n      },\r\n    },\r\n    \"& .tags\": {\r\n      \"& .tag\": {\r\n        color: grey[700],\r\n        display: \"inline-block\",\r\n        margin: 1,\r\n        fontSize: 10,\r\n        textDecoration: \"underline\",\r\n      },\r\n    },\r\n  },\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/LabelSelector.js",["344","345","346","347","348","349","350","351","352","353","354","355","356","357"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/image-reducer.js",["358","359","360","361"],"// @flow\r\n\r\nimport type {\r\n  MainLayoutImageAnnotationState,\r\n  Action,\r\n} from \"../../MainLayout/types\"\r\nimport { setIn } from \"seamless-immutable\"\r\nimport getActiveImage from \"./get-active-image\"\r\n\r\nexport default (state: MainLayoutImageAnnotationState, action: Action) => {\r\n  const { currentImageIndex, pathToActiveImage, activeImage } = getActiveImage(\r\n    state\r\n  )\r\n\r\n  switch (action.type) {\r\n    case \"IMAGE_OR_VIDEO_LOADED\": {\r\n      return setIn(state, [\"images\", currentImageIndex, \"pixelSize\"], {\r\n        w: action.metadata.naturalWidth,\r\n        h: action.metadata.naturalHeight,\r\n      })\r\n    }\r\n  }\r\n  return state\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/TaskDescriptionSidebarBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ShortcutsManager/index.js",["362"],"import React, { useMemo } from \"react\"\r\nimport { HotKeys } from \"react-hotkeys\"\r\n\r\nexport const defaultHotkeys = [\r\n  {\r\n    id: \"select_tool\",\r\n    description: \"Switch to the Select Tool\",\r\n    binding: \"escape\",\r\n  },\r\n  {\r\n    id: \"zoom_tool\",\r\n    description: \"Select the Zoom Tool\",\r\n    binding: \"z\",\r\n  },\r\n  {\r\n    id: \"create_point\",\r\n    description: \"Create a point\",\r\n  },\r\n  {\r\n    id: \"create_bounding_box\",\r\n    description: \"Create a bounding box\",\r\n    binding: \"b\",\r\n  },\r\n  {\r\n    id: \"pan_tool\",\r\n    description: \"Select the Pan Tool\",\r\n    binding: \"m\",\r\n  },\r\n  {\r\n    id: \"create_polygon\",\r\n    description: \"Create a Polygon\",\r\n    binding: \"p\",\r\n  },\r\n  {\r\n    id: \"create_pixel\",\r\n    description: \"Create a Pixel Mask\",\r\n  },\r\n  {\r\n    id: \"save_and_previous_sample\",\r\n    description: \"Save and go to previous sample\",\r\n    binding: \"ArrowLeft\",\r\n  },\r\n  {\r\n    id: \"save_and_next_sample\",\r\n    description: \"Save and go to next sample\",\r\n    binding: \"ArrowRight\",\r\n  },\r\n  {\r\n    id: \"save_and_exit_sample\",\r\n    description: \"Save and exit current sample\",\r\n  },\r\n  {\r\n    id: \"exit_sample\",\r\n    description: \"Exit sample without saving\",\r\n  },\r\n  {\r\n    id: \"delete_region\",\r\n    description: \"Delete selected region\",\r\n    binding: \"d\",\r\n  },\r\n  {\r\n    id: \"undo\",\r\n    description: \"Undo latest change\",\r\n    binding: \"Ctrl+z\",\r\n  },\r\n]\r\nexport const defaultKeyMap = {}\r\nfor (const { id, binding } of defaultHotkeys) defaultKeyMap[id] = binding\r\n\r\nexport const useDispatchHotkeyHandlers = ({ dispatch }) => {\r\n  const handlers = useMemo(\r\n    () => ({\r\n      select_tool: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"select\",\r\n        })\r\n      },\r\n      zoom_tool: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"zoom\",\r\n        })\r\n      },\r\n      create_point: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"create-point\",\r\n        })\r\n      },\r\n      create_bounding_box: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"create-box\",\r\n        })\r\n      },\r\n      pan_tool: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"pan\",\r\n        })\r\n      },\r\n      create_polygon: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"polygon\",\r\n        })\r\n      },\r\n      create_pixel: () => {\r\n        dispatch({\r\n          type: \"SELECT_TOOL\",\r\n          selectedTool: \"create-pixel\",\r\n        })\r\n      },\r\n      save_and_previous_sample: () => {\r\n        dispatch({\r\n          type: \"FOOTER_BUTTON_CLICKED\",\r\n          buttonName: \"Prev\",\r\n        })\r\n      },\r\n      save_and_next_sample: () => {\r\n        dispatch({\r\n          type: \"FOOTER_BUTTON_CLICKED\",\r\n          buttonName: \"Next\",\r\n        })\r\n      },\r\n      save_and_exit_sample: () => {\r\n        dispatch({\r\n          type: \"FOOTER_BUTTON_CLICKED\",\r\n          buttonName: \"Save\",\r\n        })\r\n      },\r\n      delete_region: () => {\r\n        dispatch({\r\n          type: \"DELETE_SELECTED_REGION\",\r\n        })\r\n      },\r\n      undo: () => {\r\n        dispatch({\r\n          type: \"RESTORE_HISTORY\",\r\n        })\r\n      },\r\n      // TODO\r\n      // exit_sample: () => {\r\n      //   dispatch({\r\n      //     type: \"\",\r\n      //   })\r\n      // }\r\n    }),\r\n    [dispatch]\r\n  )\r\n  return handlers\r\n}\r\n\r\nexport default ({ children, dispatch }) => {\r\n  const handlers = useDispatchHotkeyHandlers({ dispatch })\r\n  return (\r\n    <HotKeys allowChanges handlers={handlers}>\r\n      {children}\r\n    </HotKeys>\r\n  )\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/KeyframeTimeline/index.js",["363","364","365"],"// @flow weak\r\n\r\nimport React, { useMemo, useState, useEffect } from \"react\"\r\nimport { styled } from \"@material-ui/core/styles\"\r\nimport range from \"lodash/range\"\r\nimport * as colors from \"@material-ui/core/colors\"\r\nimport useMeasure from \"react-use-measure\"\r\nimport useEventCallback from \"use-event-callback\"\r\nimport { useRafState } from \"react-use\"\r\nimport getTimeString from \"./get-time-string\"\r\n\r\nconst Container = styled(\"div\")({\r\n  position: \"relative\",\r\n  display: \"flex\",\r\n  flexGrow: 1,\r\n  minWidth: 240,\r\n  height: 64,\r\n  marginLeft: 16,\r\n  marginRight: 16,\r\n})\r\n\r\nconst Tick = styled(\"div\")({\r\n  position: \"absolute\",\r\n  width: 2,\r\n  marginLeft: -1,\r\n  height: \"100%\",\r\n  backgroundColor: colors.grey[300],\r\n  bottom: 0,\r\n})\r\nconst TickText = styled(\"div\")({\r\n  position: \"absolute\",\r\n  userSelect: \"none\",\r\n  fontSize: 10,\r\n  color: colors.grey[600],\r\n  fontWeight: \"bold\",\r\n  bottom: 0,\r\n})\r\n\r\nconst PositionCursor = styled(\"div\")({\r\n  position: \"absolute\",\r\n  bottom: \"calc(50% + 6px)\",\r\n  fontSize: 10,\r\n  fontWeight: \"bold\",\r\n  color: \"#fff\",\r\n  display: \"grid\",\r\n  placeItems: \"center\",\r\n  width: 48,\r\n  marginLeft: -24,\r\n  borderRadius: 2,\r\n  height: 24,\r\n  backgroundColor: colors.blue[500],\r\n  userSelect: \"none\",\r\n  fontVariantNumeric: \"tabular-nums\",\r\n\r\n  \"&::before\": {\r\n    position: \"absolute\",\r\n    bottom: -6,\r\n    left: 24 - 8,\r\n    content: '\"\"',\r\n    width: 0,\r\n    height: 0,\r\n    borderTop: `8px solid ${colors.blue[500]}`,\r\n    borderLeft: \"8px solid transparent\",\r\n    borderRight: \"8px solid transparent\",\r\n  },\r\n})\r\n\r\nconst KeyframeMarker = styled(\"div\")({\r\n  position: \"absolute\",\r\n  bottom: 8,\r\n  cursor: \"pointer\",\r\n  opacity: 0.75,\r\n  fontSize: 10,\r\n  fontWeight: \"bold\",\r\n  color: \"#fff\",\r\n  display: \"grid\",\r\n  placeItems: \"center\",\r\n  width: 16,\r\n  marginLeft: 0,\r\n  borderTopLeftRadius: 2,\r\n  borderTopRightRadius: 2,\r\n  height: 12,\r\n  marginLeft: -8,\r\n  backgroundColor: colors.red[500],\r\n  userSelect: \"none\",\r\n  fontVariantNumeric: \"tabular-nums\",\r\n\r\n  \"&::before\": {\r\n    position: \"absolute\",\r\n    bottom: -8,\r\n    left: 0,\r\n    content: '\"\"',\r\n    width: 0,\r\n    height: 0,\r\n    borderTop: `8px solid ${colors.red[500]}`,\r\n    borderLeft: \"8px solid transparent\",\r\n    borderRight: \"8px solid transparent\",\r\n  },\r\n})\r\n\r\nconst min = 60000\r\nconst displayIntervalPairs = [\r\n  [50, 250],\r\n  [100, 500],\r\n  [250, 1000],\r\n  [1000, 5000],\r\n  [5000, 30000],\r\n  [10000, min],\r\n  [30000, min * 2],\r\n  [min, min * 5],\r\n  [min * 5, min * 30],\r\n  [min * 10, min * 60],\r\n  [min * 30, min * 60 * 3],\r\n  [min * 60, min * 60 * 5],\r\n]\r\n\r\nconst getMajorInterval = (duration) => {\r\n  for (const [minor, major] of displayIntervalPairs) {\r\n    if (duration / major < 6 && duration / major > 2) {\r\n      return [minor, major]\r\n    }\r\n  }\r\n  return [duration / 4, duration]\r\n}\r\n\r\nexport default ({\r\n  currentTime = 0,\r\n  duration,\r\n  onChangeCurrentTime,\r\n  keyframes,\r\n}) => {\r\n  const [ref, bounds] = useMeasure()\r\n  const [instantCurrentTime, changeInstantCurrentTime] = useState(currentTime)\r\n  const [draggingTime, changeDraggingTime] = useRafState(false)\r\n  const keyframeTimes = Object.keys(keyframes || {})\r\n    .map((t) => parseInt(t))\r\n    .filter((t) => !isNaN(t))\r\n    .sort((a, b) => a - b)\r\n\r\n  useEffect(() => {\r\n    if (currentTime !== instantCurrentTime) {\r\n      changeInstantCurrentTime(currentTime)\r\n    }\r\n  }, [currentTime])\r\n\r\n  const [minorInterval, majorInterval] = useMemo(\r\n    () => getMajorInterval(duration),\r\n    [duration]\r\n  )\r\n\r\n  const onMouseMove = useEventCallback((e) => {\r\n    if (draggingTime) {\r\n      const px = (e.clientX - bounds.left) / bounds.width\r\n      changeInstantCurrentTime(\r\n        Math.min(duration, Math.max(0, Math.floor(px * duration)))\r\n      )\r\n    }\r\n  })\r\n\r\n  const onMouseUp = useEventCallback((e) => {\r\n    changeDraggingTime(false)\r\n    const px = (e.clientX - bounds.left) / bounds.width\r\n    const newTime = Math.min(duration, Math.max(0, Math.floor(px * duration)))\r\n    changeInstantCurrentTime(newTime)\r\n    onChangeCurrentTime(newTime)\r\n  })\r\n\r\n  // TODO skeleton\r\n  if (!duration) return null\r\n\r\n  return (\r\n    <Container onMouseMove={onMouseMove} onMouseUp={onMouseUp} ref={ref}>\r\n      {range(0, duration, majorInterval).map((a) => (\r\n        <>\r\n          <Tick\r\n            key={a}\r\n            style={{ left: (a / duration) * bounds.width, height: \"50%\" }}\r\n          />\r\n          <TickText\r\n            style={{\r\n              left: (a / duration) * bounds.width + 8,\r\n              bottom: \"calc(50% - 12px)\",\r\n            }}\r\n          >\r\n            {getTimeString(a)}\r\n          </TickText>\r\n        </>\r\n      ))}\r\n      {range(0, duration, minorInterval)\r\n        .filter((a) => !Number.isInteger(a / majorInterval))\r\n        .map((a) => (\r\n          <Tick\r\n            key={a}\r\n            style={{\r\n              left: (a / duration) * bounds.width,\r\n              height: \"25%\",\r\n            }}\r\n          />\r\n        ))}\r\n      {keyframeTimes.map((kt) => (\r\n        <KeyframeMarker\r\n          onClick={() => onChangeCurrentTime(kt)}\r\n          key={kt}\r\n          style={{ left: (kt / duration) * bounds.width }}\r\n        />\r\n      ))}\r\n      <PositionCursor\r\n        onMouseDown={(e) => changeDraggingTime(true)}\r\n        style={{\r\n          cursor: draggingTime ? \"grabbing\" : \"grab\",\r\n          left: (instantCurrentTime / duration) * bounds.width,\r\n        }}\r\n      >\r\n        {getTimeString(instantCurrentTime)}\r\n      </PositionCursor>\r\n    </Container>\r\n  )\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SidebarBoxContainer/index.js",["366","367","368","369","370","371","372"],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Footer/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/index.js",["373","374","375","376","377","378","379","380","381","382","383","384","385"],"import React, { useReducer, useEffect,useState, useMemo,memo } from \"react\"\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\r\nimport ExpandIcon from \"@material-ui/icons/KeyboardArrowLeft\"\r\nimport ContractIcon from \"@material-ui/icons/KeyboardArrowRight\"\r\nimport { grey } from \"@material-ui/core/colors\"\r\nimport { makeStyles, styled } from \"@material-ui/core/styles\"\r\nimport RegionIcon from \"@material-ui/icons/PictureInPicture\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport ReorderIcon from \"@material-ui/icons/SwapVert\"\r\nimport PieChartIcon from \"@material-ui/icons/PieChart\"\r\nimport TrashIcon from \"@material-ui/icons/Delete\"\r\nimport LockIcon from \"@material-ui/icons/Lock\"\r\nimport UnlockIcon from \"@material-ui/icons/LockOpen\"\r\nimport VisibleIcon from \"@material-ui/icons/Visibility\"\r\nimport VisibleOffIcon from \"@material-ui/icons/VisibilityOff\"\r\nimport styles from \"./styles\"\r\nimport LabelSelector from './LabelSelector';\r\nimport ObjectSelector from './ObjectSelector';\r\n\r\nimport classnames from \"classnames\"\r\nconst useStyles = makeStyles(styles)\r\nconst colors = ['red','green','blue','pink','violet','indigo','black']\r\n\r\nconst Chip = ({ color, text }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <span className={classes.chip}>\r\n      <div className=\"color\" style={{ backgroundColor: color }} />\r\n      <div className=\"text\">{text}</div>\r\n    </span>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst RowLayout = ({\r\n  header,\r\n  highlighted,\r\n  order,\r\n  classification,\r\n  area,\r\n  tags,\r\n  lock,\r\n  visible,\r\n  onClick,\r\n}) => {\r\n  const classes = useStyles()\r\n\r\n  const [mouseOver, changeMouseOver] = useState(false)\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      onMouseEnter={() => changeMouseOver(true)}\r\n      onMouseLeave={() => changeMouseOver(false)}\r\n      className={classnames(classes.row, { header, highlighted })}\r\n    >\r\n      <Grid container alignItems=\"center\">\r\n        <Grid item xs={5}>\r\n          {classification}\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <div style={{ textAlign: \"right\", paddingRight: 6 }}>{area}</div>\r\n        </Grid>\r\n        <Grid item sm={1}>\r\n          {visible}\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          {lock}\r\n        </Grid>\r\n       \r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst RowHeader = () => {\r\n  return (\r\n    <RowLayout\r\n      header\r\n      highlighted={false}\r\n      order={<ReorderIcon className=\"icon\" />}\r\n      classification={<div style={{ paddingLeft: 10 }}>Label</div>}\r\n      lock={<LockIcon className=\"icon\" />}\r\n      visible={<VisibleIcon className=\"icon\" />}\r\n    />\r\n  )\r\n}\r\n\r\nconst MemoRowHeader = memo(RowHeader)\r\n\r\n\r\n\r\nconst Row = ({\r\n  region: r,\r\n  highlighted,\r\n  onSelectRegion,\r\n  onDeleteRegion,\r\n  onChangeRegion,\r\n  visible,\r\n  selected,\r\n  locked,\r\n  color,\r\n  cls,\r\n  index,\r\n}) => {\r\n\r\n  return (\r\n    <RowLayout\r\n      header={true}\r\n      key={Math.random()}\r\n      highlighted={selected}\r\n      onClick={() => {\r\n        onSelectRegion(r)\r\n      }}\r\n\r\n      classification={<Chip text={r.cls || \"\"} color={r.color || \"#ddd\"} />}\r\n      area=\"\"\r\n      \r\n      lock={\r\n        r.locked ? (\r\n          <LockIcon\r\n            onClick={() =>\r\n              onChangeRegion({\r\n                ...r,\r\n                edit:true,\r\n                locked: r.shouldHideDeleteIcon\r\n                  ? r.createdByUser\r\n                    ? false\r\n                    : true\r\n                  : false,\r\n              })\r\n            }\r\n            className=\"icon2\"\r\n          />\r\n        ) : (\r\n          <UnlockIcon\r\n            onClick={() => onChangeRegion({ ...r, locked: true })}\r\n            className=\"icon2\"\r\n          />\r\n        )\r\n      }\r\n      visible={\r\n        r.visible || r.visible === undefined ? (\r\n          <VisibleIcon\r\n            // onClick={() =>\r\n            //   onChangeRegion({\r\n            //     ...r,\r\n            //     visible: false,\r\n            //   })\r\n            // }\r\n            className=\"icon2\"\r\n          />\r\n        ) : (\r\n          <VisibleOffIcon\r\n            // onClick={() => onChangeRegion({ ...r, visible: true })}\r\n            className=\"icon2\"\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Container = styled(\"div\")({\r\n\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  padding:'0 10px',\r\n  borderLeft: '2px solid #C4C4C4',\r\n  borderRight: '2px solid #C4C4C4',\r\n  transition: '0.3s',\r\n  \"&.expanded\": {\r\n    width: 300,\r\n  },\r\n})\r\n\r\n\r\nconst InnerSliderContent = styled(\"div\")({\r\n  width: 300,\r\n  height:'100%',\r\n})\r\n\r\nconst getInitialExpandedState = () => {\r\n  return Boolean(window.__REACT_WORKSPACE_LAYOUT_EXPANDED_STATE)\r\n}\r\n\r\n\r\nconst MemoRow = memo(\r\n  Row,\r\n  (prevProps, nextProps) =>\r\n    prevProps.highlighted === nextProps.highlighted &&\r\n    prevProps.visible === nextProps.visible &&\r\n    prevProps.locked === nextProps.locked &&\r\n    prevProps.id === nextProps.id &&\r\n    prevProps.index === nextProps.index &&\r\n    prevProps.cls === nextProps.cls &&\r\n    prevProps.color === nextProps.color &&\r\n    prevProps.isNew === nextProps.isNew &&\r\n    prevProps.selected === nextProps.selected\r\n\r\n)\r\n\r\n\r\nexport const LeftSidebar = ({ state,children, onDeleteObject,\r\n  onChangeLabel,\r\n  onSelectLabel,\r\n  onChangeObject,\r\n  onSelectObject,\r\n  expandedByDefault,\r\n   initialExpandedState, height }) => {\r\n  const [expanded, toggleExpanded] = useReducer(\r\n    (state) => !state,\r\n    initialExpandedState === undefined\r\n      ? getInitialExpandedState()\r\n      : initialExpandedState\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (initialExpandedState !== undefined) {\r\n      window.__REACT_WORKSPACE_LAYOUT_EXPANDED_STATE = expanded\r\n    }\r\n  }, [initialExpandedState, expanded])\r\n\r\n  const containerStyle = useMemo(() => ({ height: height || \"100%\" }), [height])\r\n\r\n  return (\r\n    <Container className=\"dpfLabelcol\">\r\n      <InnerSliderContent >\r\n        {/* Lables */}\r\n         <LabelSelector state={state} onChangeLabel={onChangeLabel}\r\n          onSelectLabel={onSelectLabel} />\r\n        <ObjectSelector state={state}  onSelectObject={onSelectObject}\r\n                onDeleteObject={onDeleteObject}\r\n                onChangeObject={onChangeObject}/>\r\n      \r\n        </InnerSliderContent>      \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default LeftSidebar\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/VideoOrImageCanvasBackground/index.js",["386","387","388","389"],"// @flow weak\n\nimport React, { useRef, useEffect, useMemo, useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport { useSettings } from \"../SettingsProvider\"\n\nconst Video = styled(\"video\")({\n  zIndex: 0,\n  position: \"absolute\",\n})\n\nconst StyledImage = styled(\"img\")({\n  zIndex: 0,\n  position: \"absolute\",\n})\n\nconst Error = styled(\"div\")({\n  zIndex: 0,\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  bottom: 0,\n  top: 0,\n  backgroundColor: \"rgba(255,0,0,0.2)\",\n  color: \"#ff0000\",\n  fontWeight: \"bold\",\n  whiteSpace: \"pre-wrap\",\n  padding: 50,\n})\n\nexport default ({\n  imagePosition,\n  mouseEvents,\n  videoTime,\n  activeImage,\n  videoSrc,\n  imageSrc,\n  onLoad,\n  useCrossOrigin = false,\n  videoPlaying,\n  onChangeVideoTime,\n  onChangeVideoPlaying,\n}) => {\n  const settings = useSettings()\n  const videoRef = useRef()\n  const imageRef = useRef()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    if (!videoPlaying && videoRef.current) {\n      videoRef.current.currentTime = (videoTime || 0) / 1000\n    }\n  }, [videoTime])\n\n  useEffect(() => {\n    let renderLoopRunning = false\n    if (videoRef.current) {\n      if (videoPlaying) {\n        videoRef.current.play()\n        renderLoopRunning = true\n        if (settings.videoPlaybackSpeed) {\n          videoRef.current.playbackRate = parseFloat(\n            settings.videoPlaybackSpeed\n          )\n        }\n      } else {\n        videoRef.current.pause()\n      }\n    }\n\n    function checkForNewFrame() {\n      if (!renderLoopRunning) return\n      if (!videoRef.current) return\n      const newVideoTime = Math.floor(videoRef.current.currentTime * 1000)\n      if (videoTime !== newVideoTime) {\n        onChangeVideoTime(newVideoTime)\n      }\n      if (videoRef.current.paused) {\n        renderLoopRunning = false\n        onChangeVideoPlaying(false)\n      }\n      requestAnimationFrame(checkForNewFrame)\n    }\n    checkForNewFrame()\n\n    return () => {\n      renderLoopRunning = false\n    }\n  }, [videoPlaying])\n\n  const onLoadedVideoMetadata = useEventCallback((event) => {\n    const videoElm = event.currentTarget\n    videoElm.currentTime = (videoTime || 0) / 1000\n    if (onLoad)\n      onLoad({\n        naturalWidth: videoElm.videoWidth,\n        naturalHeight: videoElm.videoHeight,\n        videoElm: videoElm,\n        duration: videoElm.duration,\n      })\n  })\n  const onImageLoaded = useEventCallback((event) => {\n    const imageElm = event.currentTarget\n    // debugger;\n    if (onLoad)\n      onLoad({\n        naturalWidth: imageElm.naturalWidth,\n        naturalHeight: imageElm.naturalHeight,\n        imageElm,\n      })\n  })\n  const onImageError = useEventCallback((event) => {\n    setError(\n      `Could not load image\\n\\nMake sure your image works by visiting ${\n        imageSrc || videoSrc\n      } in a web browser. If that URL works, the server hosting the URL may be not allowing you to access the image from your current domain. Adjust server settings to enable the image to be viewed.${\n        !useCrossOrigin\n          ? \"\"\n          : `\\n\\nYour image may be blocked because it's not being sent with CORs headers. To do pixel segmentation, browser web security requires CORs headers in order for the algorithm to read the pixel data from the image. CORs headers are easy to add if you're using an S3 bucket or own the server hosting your images.`\n      }\\n\\n If you need a hand, reach out to the community at universaldatatool.slack.com`\n    )\n  })\n\n  const stylePosition = useMemo(() => {\n\n    let width = imagePosition.bottomRight.x - imagePosition.topLeft.x\n    let height = imagePosition.bottomRight.y - imagePosition.topLeft.y\n    return {\n      imageRendering: \"pixelated\",\n      left: imagePosition.topLeft.x,\n      top: imagePosition.topLeft.y,\n      width: isNaN(width) ? 0 : width,\n      height: isNaN(height) ? 0 : height,\n    }\n  }, [\n    imagePosition.topLeft.x,\n    imagePosition.topLeft.y,\n    imagePosition.bottomRight.x,\n      imagePosition.bottomRight.y,\n      activeImage.filter\n  ])\n  const filter = activeImage.filter;\n\n\n\n  if (!videoSrc && !imageSrc)\n    return <Error>No imageSrc or videoSrc provided</Error>\n\n  if (error) return <Error>{error}</Error>\n  return imageSrc && videoTime === undefined ? (\n    <StyledImage\n      {...mouseEvents}\n      src={imageSrc}\n      ref={imageRef}\n      style={{\n        ...stylePosition, filter: filter ? `contrast(${filter['contrast'] || 1}) brightness(${filter[\"brightness\"] || 100}%) invert(${filter['inverse'] || 0})` :''\n      }}\n      onLoad={onImageLoaded}\n      onError={onImageError}\n      crossOrigin={useCrossOrigin ? \"anonymous\" : undefined}\n    />\n  ) : (\n    <Video\n      {...mouseEvents}\n      ref={videoRef}\n      style={stylePosition}\n      onLoadedMetadata={onLoadedVideoMetadata}\n      src={videoSrc || imageSrc}\n    />\n  )\n}\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/ObjectSelector.js",["390","391","392","393","394","395","396","397","398","399","400","401","402","403","404"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageMask/load-image.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/use-exclude-pattern.js",["405"],"// @flow weak\r\n\r\nimport { useRef } from \"react\"\r\nimport excludePatternSrc from \"./xpattern.js\"\r\n\r\nexport default () => {\r\n  const excludePattern = useRef(null)\r\n  if (excludePattern.current === null) {\r\n    excludePattern.current = {\r\n      image: new Image(),\r\n      pattern: null,\r\n    }\r\n    const canvas = document.createElement(\"canvas\")\r\n    canvas.width = 100\r\n    canvas.height = 100\r\n    const context = canvas.getContext(\"2d\")\r\n\r\n    excludePattern.current.image.onload = () => {\r\n      excludePattern.current.pattern = context.createPattern(\r\n        excludePattern.current.image,\r\n        \"repeat\"\r\n      )\r\n    }\r\n    excludePattern.current.image.src = excludePatternSrc\r\n  }\r\n  return excludePattern.current.pattern\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-mouse.js",["406"],"// @flow weak\r\n\r\nimport { useRef } from \"react\"\r\nimport { Matrix } from \"transformation-matrix-js\"\r\n\r\nconst getDefaultMat = () => Matrix.from(1, 0, 0, 1, -10, -10)\r\n\r\nexport default ({\r\n  canvasEl,\r\n  changeMat,\r\n  changeDragging,\r\n  zoomStart,\r\n  zoomEnd,\r\n  changeZoomStart,\r\n  changeZoomEnd,\r\n  layoutParams,\r\n  zoomWithPrimary,\r\n  dragWithPrimary,\r\n  mat,\r\n  onMouseMove,\r\n  onMouseUp,\r\n  onMouseDown,\r\n  dragging,\r\n}) => {\r\n  const mousePosition = useRef({ x: 0, y: 0 })\r\n  const prevMousePosition = useRef({ x: 0, y: 0 })\r\n\r\n  const zoomIn = (direction, point) => {\r\n    const [mx, my] = [point.x, point.y]\r\n    let scale =\r\n      typeof direction === \"object\" ? direction.to / mat.a : 1 + 0.2 * direction\r\n\r\n    // NOTE: We're mutating mat here\r\n    mat.translate(mx, my).scaleU(scale)\r\n    if (mat.a > 2) mat.scaleU(2 / mat.a)\r\n    if (mat.a < 0.05) mat.scaleU(0.05 / mat.a)\r\n    mat.translate(-mx, -my)\r\n\r\n    changeMat(mat.clone())\r\n  }\r\n\r\n  const mouseEvents = {\r\n    onMouseMove: (e) => {\r\n      const { left, top } = canvasEl.current.getBoundingClientRect()\r\n      prevMousePosition.current.x = mousePosition.current.x\r\n      prevMousePosition.current.y = mousePosition.current.y\r\n      mousePosition.current.x = e.clientX - left\r\n      mousePosition.current.y = e.clientY - top\r\n\r\n      const projMouse = mat.applyToPoint(\r\n        mousePosition.current.x,\r\n        mousePosition.current.y\r\n      )\r\n\r\n      if (zoomWithPrimary && zoomStart) {\r\n        changeZoomEnd(projMouse)\r\n      }\r\n\r\n      const { iw, ih } = layoutParams.current\r\n      onMouseMove({ x: projMouse.x / iw, y: projMouse.y / ih })\r\n\r\n      if (dragging) {\r\n        mat.translate(\r\n          prevMousePosition.current.x - mousePosition.current.x,\r\n          prevMousePosition.current.y - mousePosition.current.y\r\n        )\r\n\r\n        changeMat(mat.clone())\r\n      }\r\n      e.preventDefault()\r\n    },\r\n    onMouseDown: (e, specialEvent = {}) => {\r\n      e.preventDefault()\r\n\r\n      if (\r\n        e.button === 1 ||\r\n        e.button === 2 ||\r\n        (e.button === 0 && dragWithPrimary)\r\n      )\r\n        return changeDragging(true)\r\n\r\n      const projMouse = mat.applyToPoint(\r\n        mousePosition.current.x,\r\n        mousePosition.current.y\r\n      )\r\n      if (zoomWithPrimary && e.button === 0) {\r\n        changeZoomStart(projMouse)\r\n        changeZoomEnd(projMouse)\r\n        return\r\n      }\r\n      if (e.button === 0) {\r\n        if (specialEvent.type === \"resize-box\") {\r\n          // onResizeBox()\r\n        }\r\n        if (specialEvent.type === \"move-region\") {\r\n          // onResizeBox()\r\n        }\r\n        const { iw, ih } = layoutParams.current\r\n        onMouseDown({ x: projMouse.x / iw, y: projMouse.y / ih })\r\n      }\r\n    },\r\n    onMouseUp: (e) => {\r\n      e.preventDefault()\r\n      const projMouse = mat.applyToPoint(\r\n        mousePosition.current.x,\r\n        mousePosition.current.y\r\n      )\r\n      if (zoomStart) {\r\n        const zoomEnd = projMouse\r\n        if (\r\n          Math.abs(zoomStart.x - zoomEnd.x) < 10 &&\r\n          Math.abs(zoomStart.y - zoomEnd.y) < 10\r\n        ) {\r\n          if (mat.a < 1) {\r\n            zoomIn({ to: 1 }, mousePosition.current)\r\n          } else {\r\n            zoomIn({ to: 0.25 }, mousePosition.current)\r\n          }\r\n        } else {\r\n          const { iw, ih } = layoutParams.current\r\n\r\n          if (zoomStart.x > zoomEnd.x) {\r\n            ;[zoomStart.x, zoomEnd.x] = [zoomEnd.x, zoomStart.x]\r\n          }\r\n          if (zoomStart.y > zoomEnd.y) {\r\n            ;[zoomStart.y, zoomEnd.y] = [zoomEnd.y, zoomStart.y]\r\n          }\r\n\r\n          // The region defined by zoomStart and zoomEnd should be the new transform\r\n          let scale = Math.min(\r\n            (zoomEnd.x - zoomStart.x) / iw,\r\n            (zoomEnd.y - zoomStart.y) / ih\r\n          )\r\n          if (scale < 0.05) scale = 0.05\r\n          if (scale > 10) scale = 10\r\n\r\n          const newMat = getDefaultMat()\r\n            .translate(zoomStart.x, zoomStart.y)\r\n            .scaleU(scale)\r\n\r\n          changeMat(newMat.clone())\r\n        }\r\n\r\n        changeZoomStart(null)\r\n        changeZoomEnd(null)\r\n      }\r\n      if (\r\n        e.button === 1 ||\r\n        e.button === 2 ||\r\n        (e.button === 0 && dragWithPrimary)\r\n      )\r\n        return changeDragging(false)\r\n      if (e.button === 0) {\r\n        const { iw, ih } = layoutParams.current\r\n        onMouseUp({ x: projMouse.x / iw, y: projMouse.y / ih })\r\n      }\r\n    },\r\n    onWheel: (e, position) => {\r\n\r\n      const direction = e.deltaY > 0 ? 1 : e.deltaY < 0 ? -1 : 0\r\n      zoomIn(direction, position || prevMousePosition.current)\r\n      // e.preventDefault()\r\n\r\n    },\r\n    onContextMenu: (e) => {\r\n      e.preventDefault()\r\n    },\r\n  }\r\n  return { mouseEvents, mousePosition,zoomIn }\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/history-handler.js",["407","408"],"// @flow\r\n\r\nimport type { MainLayoutState, Action } from \"../../MainLayout/types\"\r\nimport { setIn, updateIn, asMutable, without } from \"seamless-immutable\"\r\nimport moment from \"moment\"\r\n\r\nconst typesToSaveWithHistory = {\r\n  BEGIN_BOX_TRANSFORM: \"Transform/Move Box\",\r\n  BEGIN_MOVE_POINT: \"Move Point\",\r\n  DELETE_REGION: \"Delete Region\",\r\n}\r\n\r\nexport const saveToHistory = (state: MainLayoutState, name: string) =>\r\n  updateIn(state, [\"history\"], (h) =>\r\n    [\r\n      {\r\n        time: moment().toDate(),\r\n        state: without(state, \"history\"),\r\n        name,\r\n      },\r\n    ].concat((h || []).slice(0, 9))\r\n  )\r\n\r\nexport default (reducer) => {\r\n  return (state: MainLayoutState, action: Action) => {\r\n    const prevState = state\r\n    const nextState = reducer(state, action)\r\n\r\n    if (action.type === \"RESTORE_HISTORY\") {\r\n      if (state.history.length > 0) {\r\n        return setIn(\r\n          nextState.history[0].state,\r\n          [\"history\"],\r\n          nextState.history.slice(1)\r\n        )\r\n      }\r\n    } else {\r\n      if (\r\n        prevState !== nextState &&\r\n        Object.keys(typesToSaveWithHistory).includes(action.type)\r\n      ) {\r\n        return setIn(\r\n          nextState,\r\n          [\"history\"],\r\n          [\r\n            {\r\n              time: moment().toDate(),\r\n              state: without(prevState, \"history\"),\r\n              name: typesToSaveWithHistory[action.type] || action.type,\r\n            },\r\n          ]\r\n            .concat(nextState.history || [])\r\n            .slice(0, 9)\r\n        )\r\n      }\r\n    }\r\n\r\n    return nextState\r\n  }\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/get-implied-video-regions.js",["409"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/SettingsDialog/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/index.js",["410","411","412","413","414","415","416","417","418","419"],"// @flow weak\r\n//working without pencil\r\nimport React, {\r\n  useRef,\r\n  useState,\r\n  useLayoutEffect,\r\n  useEffect,\r\n  useMemo,\r\n} from \"react\"\r\nimport type { Node } from \"react\"\r\nimport { Matrix } from \"transformation-matrix-js\"\r\nimport Crosshairs from \"../Crosshairs\"\r\nimport type {\r\n  Region,\r\n  Point,\r\n  Polygon,\r\n  Box,\r\n  Keypoints,\r\n  KeypointsDefinition,\r\n} from \"./region-tools.js\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport styles from \"./styles\"\r\nimport PreventScrollToParents from \"../PreventScrollToParents\"\r\nimport useWindowSize from \"../hooks/use-window-size.js\"\r\nimport useMouse from \"./use-mouse\"\r\nimport useProjectRegionBox from \"./use-project-box\"\r\nimport useExcludePattern from \"../hooks/use-exclude-pattern\"\r\nimport { useRafState } from \"react-use\"\r\nimport PointDistances from \"../PointDistances\"\r\nimport RegionTags from \"../RegionTags\"\r\nimport RegionLabel from \"../RegionLabel\"\r\nimport ImageMask from \"../ImageMask\"\r\nimport RegionSelectAndTransformBoxes from \"../RegionSelectAndTransformBoxes\"\r\nimport VideoOrImageCanvasBackground from \"../VideoOrImageCanvasBackground\"\r\nimport useEventCallback from \"use-event-callback\"\r\nimport RegionShapes from \"../RegionShapes\"\r\nimport useWasdMode from \"./use-wasd-mode\"\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\ntype Props = {\r\n  regions: Array<Region>,\r\n  imageSrc?: string,\r\n  videoSrc?: string,\r\n  videoTime?: number,\r\n  keypointDefinitions?: KeypointDefinitions,\r\n  onMouseMove?: ({ x: number, y: number }) => any,\r\n  onMouseDown?: ({ x: number, y: number }) => any,\r\n  onMouseUp?: ({ x: number, y: number }) => any,\r\n  dragWithPrimary?: boolean,\r\n  zoomWithPrimary?: boolean,\r\n  createWithPrimary?: boolean,\r\n  showTags?: boolean,\r\n  realSize?: { width: number, height: number, unitName: string },\r\n  showCrosshairs?: boolean,\r\n  showMask?: boolean,\r\n  showHighlightBox?: boolean,\r\n  showPointDistances?: boolean,\r\n  pointDistancePrecision?: number,\r\n  regionClsList?: Array<string>,\r\n  regionTagList?: Array<string>,\r\n  allowedArea?: { x: number, y: number, w: number, h: number },\r\n  RegionEditLabel?: Node,\r\n  videoPlaying?: boolean,\r\n  zoomOnAllowedArea?: boolean,\r\n  fullImageSegmentationMode?: boolean,\r\n  autoSegmentationOptions?: Object,\r\n  modifyingAllowedArea?: boolean,\r\n\r\n  onChangeRegion: (Region) => any,\r\n  onBeginRegionEdit: (Region) => any,\r\n  onCloseRegionEdit: (Region) => any,\r\n  onDeleteRegion: (Region) => any,\r\n  onBeginBoxTransform: (Box, [number, number]) => any,\r\n  onBeginMovePolygonPoint: (Polygon, index: number) => any,\r\n  onBeginMoveKeypoint: (Keypoints, index: number) => any,\r\n  onAddPolygonPoint: (Polygon, point: [number, number], index: number) => any,\r\n  onSelectRegion: (Region) => any,\r\n  onBeginMovePoint: (Point) => any,\r\n  onImageOrVideoLoaded: ({\r\n    naturalWidth: number,\r\n    naturalHeight: number,\r\n    duration?: number,\r\n  }) => any,\r\n  onChangeVideoTime: (number) => any,\r\n  onRegionClassAdded: () => {},\r\n  onChangeVideoPlaying?: Function,\r\n}\r\n\r\nconst getDefaultMat = (allowedArea = null, { iw, ih } = {}) => {\r\n  let mat = Matrix.from(1, 0, 0, 1, -10, -10)\r\n  if (allowedArea && iw) {\r\n    mat = mat\r\n      .translate(allowedArea.x * iw, allowedArea.y * ih)\r\n      .scaleU(allowedArea.w + 0.05)\r\n  }\r\n  return mat\r\n}\r\n\r\nexport const ImageCanvas = ({\r\n  regions,\r\n  imageSrc,\r\n  activeImage,\r\n  videoSrc,\r\n  videoTime,\r\n  realSize,\r\n  showTags,\r\n  onRegionChange,\r\n  onMouseMove = (p) => null,\r\n  onMouseDown = (p) => null,\r\n  onMouseUp = (p) => null,\r\n  dragWithPrimary = false,\r\n  zoomWithPrimary = false,\r\n  createWithPrimary = false,\r\n  pointDistancePrecision = 0,\r\n  onImageLoaded,\r\n  onNewImageLoaded,\r\n  regionClsList,\r\n  regionTagList,\r\n  showCrosshairs,\r\n  showHighlightBox = true,\r\n  showPointDistances,\r\n  allowedArea,\r\n  RegionEditLabel = null,\r\n  videoPlaying = false,\r\n  showMask = true,\r\n  fullImageSegmentationMode,\r\n  autoSegmentationOptions,\r\n  onImageOrVideoLoaded,\r\n  onChangeRegion,\r\n  onBeginRegionEdit,\r\n  onCloseRegionEdit,\r\n  onBeginBoxTransform,\r\n  onBeginMovePolygonPoint,\r\n  onAddPolygonPoint,\r\n  onBeginMoveKeypoint,\r\n  onSelectRegion,\r\n  onBeginMovePoint,\r\n  onDeleteRegion,\r\n  onChangeVideoTime,\r\n  onChangeVideoPlaying,\r\n  onRegionClassAdded,\r\n  zoomOnAllowedArea = true,\r\n  modifyingAllowedArea = false,\r\n  keypointDefinitions,\r\n}: Props) => {\r\n  const classes = useStyles()\r\n\r\n  const canvasEl = useRef(null)\r\n  const layoutParams = useRef({})\r\n  const [dragging, changeDragging] = useRafState(false)\r\n  const [maskImagesLoaded, changeMaskImagesLoaded] = useRafState(0)\r\n  const [zoomStart, changeZoomStart] = useRafState(null)\r\n  const [zoomEnd, changeZoomEnd] = useRafState(null)\r\n  const [mat, changeMat] = useRafState(getDefaultMat())\r\n  const maskImages = useRef({})\r\n  const windowSize = useWindowSize()\r\n\r\n  const getLatestMat = useEventCallback(() => mat)\r\n  useWasdMode({ getLatestMat, changeMat })\r\n\r\n  const { mouseEvents, mousePosition,zoomIn } = useMouse({\r\n    canvasEl,\r\n    dragging,\r\n    mat,\r\n    layoutParams,\r\n    changeMat,\r\n    zoomStart,\r\n    zoomEnd,\r\n    changeZoomStart,\r\n    changeZoomEnd,\r\n    changeDragging,\r\n    zoomWithPrimary,\r\n    dragWithPrimary,\r\n    onMouseMove,\r\n    onMouseDown,\r\n    onMouseUp,\r\n  })\r\n\r\n \r\n  useLayoutEffect(() => changeMat(mat.clone()), [windowSize])\r\n\r\n  const innerMousePos = mat.applyToPoint(\r\n    mousePosition.current.x,\r\n    mousePosition.current.y\r\n  )\r\n\r\n  const projectRegionBox = useProjectRegionBox({ layoutParams, mat })\r\n\r\n  const [imageDimensions, changeImageDimensions] = useState()\r\n  const imageLoaded = Boolean(imageDimensions && imageDimensions.naturalWidth)\r\n\r\n  const onVideoOrImageLoaded = useEventCallback(\r\n    ({ naturalWidth, naturalHeight, duration,width,height }) => {\r\n      const dims = { naturalWidth, naturalHeight, duration,width,height }\r\n      // console.log('DMS', dims);\r\n      if (onImageOrVideoLoaded) onImageOrVideoLoaded(dims)\r\n      changeImageDimensions(dims)\r\n      // Redundant update to fix rerendering issues\r\n      setTimeout(() => changeImageDimensions(dims), 10)\r\n    }\r\n  )\r\n\r\n  \r\n\r\n  \r\n\r\n  const excludePattern = useExcludePattern()\r\n\r\n  const canvas = canvasEl.current\r\n  if (canvas && imageLoaded) {\r\n    const { clientWidth, clientHeight } = canvas\r\n\r\n    const fitScale = Math.max(\r\n      imageDimensions.naturalWidth / (clientWidth - 20),\r\n      imageDimensions.naturalHeight / (clientHeight - 20)\r\n    )\r\n\r\n    const [iw, ih] = [\r\n      imageDimensions.naturalWidth / fitScale,\r\n      imageDimensions.naturalHeight / fitScale,\r\n    ]\r\n    // console.log('iwih',iw, ih)\r\n    layoutParams.current = {\r\n      iw,\r\n      ih,\r\n      fitScale,\r\n      canvasWidth: clientWidth,\r\n      canvasHeight: clientHeight,\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!imageLoaded) return\r\n    changeMat(\r\n      getDefaultMat(\r\n        zoomOnAllowedArea ? allowedArea : null,\r\n        layoutParams.current\r\n      )\r\n    )\r\n    onNewImageLoaded(mouseEvents)\r\n    \r\n    // eslint-disable-next-line\r\n  }, [imageLoaded])\r\n\r\n  useLayoutEffect(() => {\r\n    if (!imageDimensions) return\r\n    const { clientWidth, clientHeight } = canvas\r\n    \r\n    const context = canvas.getContext(\"2d\")\r\n\r\n    context.save()\r\n    context.transform(...mat.clone().inverse().toArray())\r\n\r\n    const { iw, ih } = layoutParams.current\r\n    \r\n    if (allowedArea) {\r\n      // Pattern to indicate the NOT allowed areas\r\n      const { x, y, w, h } = allowedArea\r\n      context.save()\r\n      context.globalAlpha = 1\r\n      const outer = [\r\n        [0, 0],\r\n        [iw, 0],\r\n        [iw, ih],\r\n        [0, ih],\r\n      ]\r\n      const inner = [\r\n        [x * iw, y * ih],\r\n        [x * iw + w * iw, y * ih],\r\n        [x * iw + w * iw, y * ih + h * ih],\r\n        [x * iw, y * ih + h * ih],\r\n      ]\r\n      context.moveTo(...outer[0])\r\n      outer.forEach((p) => context.lineTo(...p))\r\n      context.lineTo(...outer[0])\r\n      context.closePath()\r\n\r\n      inner.reverse()\r\n      context.moveTo(...inner[0])\r\n      inner.forEach((p) => context.lineTo(...p))\r\n      context.lineTo(...inner[0])\r\n\r\n      context.fillStyle = excludePattern || \"#f00\"\r\n      context.fill()\r\n\r\n      context.restore()\r\n    }\r\n\r\n    context.restore()\r\n  })\r\n\r\n  const { iw, ih } = layoutParams.current\r\n\r\n  let zoomBox =\r\n    !zoomStart || !zoomEnd\r\n      ? null\r\n      : {\r\n          ...mat.clone().inverse().applyToPoint(zoomStart.x, zoomStart.y),\r\n          w: (zoomEnd.x - zoomStart.x) / mat.a,\r\n          h: (zoomEnd.y - zoomStart.y) / mat.d,\r\n        }\r\n  if (zoomBox) {\r\n    if (zoomBox.w < 0) {\r\n      zoomBox.x += zoomBox.w\r\n      zoomBox.w *= -1\r\n    }\r\n    if (zoomBox.h < 0) {\r\n      zoomBox.y += zoomBox.h\r\n      zoomBox.h *= -1\r\n    }\r\n  }\r\n\r\n  const imagePosition = {\r\n    topLeft: mat.clone().inverse().applyToPoint(0, 0),\r\n    bottomRight: mat.clone().inverse().applyToPoint(iw, ih),\r\n  }\r\n  // console.log(\"img\",)\r\n\r\n  const highlightedRegion = useMemo(() => {\r\n    const highlightedRegions = regions.filter((r) => r.highlighted)\r\n    if (highlightedRegions.length !== 1) return null\r\n    return highlightedRegions[0]\r\n  }, [regions])\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        // maxHeight: \"calc(100vh - 68px)\",\r\n        position: \"relative\",\r\n        // overflow: \"hidden\",\r\n        cursor: createWithPrimary\r\n          ? \"crosshair\"\r\n          : dragging\r\n          ? \"grabbing\"\r\n          : dragWithPrimary\r\n          ? \"grab\"\r\n          : zoomWithPrimary\r\n          ? mat.a < 1\r\n            ? \"zoom-out\"\r\n            : \"zoom-in\"\r\n          : undefined,\r\n      }}\r\n    >\r\n      {showCrosshairs && (\r\n        <Crosshairs key=\"crossHairs\" mousePosition={mousePosition} />\r\n      )}\r\n      {imageLoaded && !dragging && (\r\n        <RegionSelectAndTransformBoxes\r\n          key=\"regionSelectAndTransformBoxes\"\r\n          regions={\r\n            !modifyingAllowedArea || !allowedArea\r\n              ? regions\r\n              : [\r\n                  {\r\n                    type: \"box\",\r\n                    id: \"$$allowed_area\",\r\n                    cls: \"allowed_area\",\r\n                    highlighted: true,\r\n                    x: allowedArea.x,\r\n                    y: allowedArea.y,\r\n                    w: allowedArea.w,\r\n                    h: allowedArea.h,\r\n                    visible: true,\r\n                    color: \"#ff0\",\r\n                  },\r\n                ]\r\n          }\r\n          mouseEvents={mouseEvents}\r\n          projectRegionBox={projectRegionBox}\r\n          dragWithPrimary={dragWithPrimary}\r\n          createWithPrimary={createWithPrimary}\r\n          zoomWithPrimary={zoomWithPrimary}\r\n          onBeginMovePoint={onBeginMovePoint}\r\n          onSelectRegion={onSelectRegion}\r\n          layoutParams={layoutParams}\r\n          mat={mat}\r\n          onBeginBoxTransform={onBeginBoxTransform}\r\n          onBeginMovePolygonPoint={onBeginMovePolygonPoint}\r\n          onBeginMoveKeypoint={onBeginMoveKeypoint}\r\n          onAddPolygonPoint={onAddPolygonPoint}\r\n          showHighlightBox={showHighlightBox}\r\n        />\r\n      )}\r\n      {/* {imageLoaded && showTags && !dragging && (\r\n        <PreventScrollToParents key=\"regionTags\">\r\n          <RegionTags\r\n            regions={regions}\r\n            projectRegionBox={projectRegionBox}\r\n            mouseEvents={mouseEvents}\r\n            regionClsList={regionClsList}\r\n            regionTagList={regionTagList}\r\n            onBeginRegionEdit={onBeginRegionEdit}\r\n            onChangeRegion={onChangeRegion}\r\n            onCloseRegionEdit={onCloseRegionEdit}\r\n            onDeleteRegion={onDeleteRegion}\r\n            layoutParams={layoutParams}\r\n            imageSrc={imageSrc}\r\n            RegionEditLabel={RegionEditLabel}\r\n            onRegionClassAdded={onRegionClassAdded}\r\n          />\r\n        </PreventScrollToParents>\r\n      )} */}\r\n      {!showTags && highlightedRegion && (\r\n        <div key=\"topLeftTag\" className={classes.fixedRegionLabel}>\r\n          <RegionLabel\r\n            disableClose\r\n            allowedClasses={regionClsList}\r\n            allowedTags={regionTagList}\r\n            onChange={onChangeRegion}\r\n            onDelete={onDeleteRegion}\r\n            editing\r\n            region={highlightedRegion}\r\n            imageSrc={imageSrc}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {zoomWithPrimary && zoomBox !== null && (\r\n        <div\r\n          key=\"zoomBox\"\r\n          style={{\r\n            position: \"absolute\",\r\n            zIndex: 1,\r\n            border: \"1px solid #fff\",\r\n            pointerEvents: \"none\",\r\n            left: zoomBox.x,\r\n            top: zoomBox.y,\r\n            width: zoomBox.w,\r\n            height: zoomBox.h,\r\n          }}\r\n        />\r\n      )}\r\n      {showPointDistances && (\r\n        <PointDistances\r\n          key=\"pointDistances\"\r\n          regions={regions}\r\n          realSize={realSize}\r\n          projectRegionBox={projectRegionBox}\r\n          pointDistancePrecision={pointDistancePrecision}\r\n        />\r\n      )}\r\n      <PreventScrollToParents\r\n        style={{ width: \"100%\", height: \"100%\" }}\r\n        {...mouseEvents}\r\n      >\r\n        <>\r\n          {fullImageSegmentationMode && (\r\n            <ImageMask\r\n              hide={!showMask}\r\n              autoSegmentationOptions={autoSegmentationOptions}\r\n              imagePosition={imagePosition}\r\n              regionClsList={regionClsList}\r\n              imageSrc={imageSrc}\r\n              regions={regions}\r\n            />\r\n          )}\r\n          <canvas\r\n            style={{ opacity: 0.25 }}\r\n            className={classes.canvas}\r\n            ref={canvasEl}\r\n          />\r\n          <RegionShapes\r\n            mat={mat}\r\n            keypointDefinitions={keypointDefinitions}\r\n            imagePosition={imagePosition}\r\n            regions={regions}\r\n            onRegionChange={onRegionChange}\r\n            fullSegmentationMode={fullImageSegmentationMode}\r\n          />\r\n          <VideoOrImageCanvasBackground\r\n            videoPlaying={videoPlaying}\r\n            imagePosition={imagePosition}\r\n            mouseEvents={mouseEvents}\r\n            onLoad={onVideoOrImageLoaded}\r\n            videoTime={videoTime}\r\n            videoSrc={videoSrc}\r\n            activeImage={activeImage}\r\n            imageSrc={imageSrc}\r\n            useCrossOrigin={fullImageSegmentationMode}\r\n            onChangeVideoTime={onChangeVideoTime}\r\n            onChangeVideoPlaying={onChangeVideoPlaying}\r\n          />\r\n        </>\r\n      </PreventScrollToParents>\r\n      <div className={classes.zoomIndicator}>\r\n        {((1 / mat.a) * 100).toFixed(0)}%\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageCanvas\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/utils/get-landmarks-with-transform.js",["420"],"// @flow\r\nimport type { KeypointDefinition } from \"../ImageCanvas/region-tools\"\r\n\r\ntype Parameters = {\r\n  center: { x: number, y: number },\r\n  scale: number,\r\n  landmarks: {\r\n    [string]: KeypointDefinition,\r\n  },\r\n}\r\n\r\nexport default ({ center, scale, landmarks }: Parameters) => {\r\n  const points = {}\r\n  for (const [keypointId, { defaultPosition }] of (Object.entries(\r\n    landmarks\r\n  ): any)) {\r\n    points[keypointId] = {\r\n      x: defaultPosition[0] * scale + center.x,\r\n      y: defaultPosition[1] * scale + center.y,\r\n    }\r\n  }\r\n  return points\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/ImageCanvas/use-project-box.js",["421"],"// @flow weak\r\nimport useEventCallback from \"use-event-callback\"\r\nimport { getEnclosingBox } from \"./region-tools.js\"\r\n\r\nexport default ({ layoutParams, mat }) => {\r\n  return useEventCallback((r) => {\r\n    const { iw, ih } = layoutParams.current\r\n    const bbox = getEnclosingBox(r)\r\n    const margin = r.type === \"point\" ? 15 : 2\r\n    const cbox = {\r\n      x: bbox.x * iw - margin,\r\n      y: bbox.y * ih - margin,\r\n      w: bbox.w * iw + margin * 2,\r\n      h: bbox.h * ih + margin * 2,\r\n    }\r\n    const pbox = {\r\n      ...mat.clone().inverse().applyToPoint(cbox.x, cbox.y),\r\n      w: cbox.w / mat.a,\r\n      h: cbox.h / mat.d,\r\n    }\r\n    return pbox\r\n  })\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/PointDistances/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/Toolbar/Slider.js",["422","423","424","425","426","427","428","429"],"import React from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n  }));\r\n\r\nconst FilterSlider = (props) => {\r\n    const filter = props.activeImage.filter;\r\n\r\n    const classes = useStyles();\r\n\r\n    const getDefaultValue = (label) => {\r\n        if (label == 'brightness') {\r\n            return 100;\r\n        }\r\n        if (label == 'contrast') {\r\n            return 1;\r\n        }\r\n    }\r\n    const getMaxValue = (label) => {\r\n        if (label == 'brightness') {\r\n            return 200;\r\n        }\r\n        if (label == 'contrast') {\r\n            return 10;\r\n        }\r\n    }\r\n    const getMinValue = (label) => {\r\n        if (label == 'brightness') {\r\n            return 10;\r\n        }\r\n        if (label == 'contrast') {\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            \r\n            <input type=\"range\" step={0} min={getMinValue(props.id)} max={getMaxValue(props.id)}\r\n                value={filter ? filter[props.id] : getDefaultValue(props.id)} aria-label={props.id} id={props.id} onChange={props.onChange} defaultValue={getDefaultValue(props.id)} />\r\n            {/* <span>{filter ? filter[props.id] : getDefaultValue(props.id) }</span>            */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilterSlider\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/hooks/xpattern.js",["430"],"export default `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wMSAxY5oG+lzgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAcSURBVAjXY/jPwPCfAQnA+TAGugLcAhhakRUAAK3lEe8m9qZhAAAAAElFTkSuQmCC`\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/LeftSidebar/styles.js",["431","432","433","434"],"import { grey, blue, orange, purple } from \"@material-ui/core/colors\"\r\n\r\nexport default {\r\n  container: {\r\n    fontSize: 11,\r\n    fontWeight: \"bold\",\r\n    color: grey[700],\r\n    \"& .icon\": {\r\n      marginTop: 4,\r\n      width: 10,\r\n      height: 10,\r\n      color:'green',\r\n\r\n    },\r\n    \"& .icon2\": {\r\n      opacity: 0.5,\r\n      width: 10,\r\n      color:'green',\r\n      height: 10,\r\n      transition: \"200ms opacity\",\r\n      \"&:hover\": {\r\n        cursor: \"pointer\",\r\n        opacity: 1,\r\n      },\r\n    },\r\n  },\r\n  row: {\r\n    // padding: 4,\r\n  \r\n    cursor: \"pointer\",\r\n    \"&.header:hover\": {\r\n      // backgroundColor: blue[50],\r\n    },\r\n    \"&.highlighted\": {\r\n      backgroundColor: \"#5999c9\",\r\n    },\r\n    \"&:hover\": {\r\n      // backgroundColor: blue[50],\r\n      color: grey[800],\r\n    },\r\n  },\r\n  chip: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  \r\n\r\n\r\n    alignItems: \"center\",\r\n    \"& .color\": {\r\n      width: 11,\r\n      height: 11,\r\n      marginRight: 9,\r\n    },\r\n    \"& .text\": {},\r\n  },\r\n}\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/HighlightBox/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/WorkContainer/index.js",["435"],"import React from \"react\"\r\nimport { styled } from \"@material-ui/core/styles\"\r\nimport { grey } from \"@material-ui/core/colors\"\r\n\r\nconst Container = styled(\"div\")({\r\n  position: \"relative\",\r\n  height: \"60%\",\r\n  width:'100%',\r\n  // backgroundColor: grey[50],\r\n  overflowY: \"auto\",\r\n})\r\nconst ShadowOverlay = styled(\"div\")({\r\n  content: \"' '\",\r\n  position: \"absolute\",\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n  pointerEvents: \"none\",\r\n  \r\n})\r\n\r\nexport const WorkContainer = React.forwardRef(({ children }, ref) => {\r\n  return (\r\n    <Container ref={ref} className=\"dpfCanvas\">\r\n      {children}\r\n      <ShadowOverlay />\r\n    </Container>\r\n  )\r\n})\r\n\r\nexport default WorkContainer\r\n","/Users/shahn/dev/annotator/custom_annotator/src/Workspace/src/FooterButton/index.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Crosshairs/index.js",["436"],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/MainLayout/icon-dictionary.js",[],"/Users/shahn/dev/annotator/custom_annotator/src/Annotator/src/Annotator/reducers/general-reducer.js",["437","438","439","440","441","442","443","444","445","446","447","448","449","450","451"],{"ruleId":"452","severity":1,"message":"453","line":7,"column":3,"nodeType":"454","messageId":"455","endLine":7,"endColumn":11},{"ruleId":"452","severity":1,"message":"456","line":9,"column":3,"nodeType":"454","messageId":"455","endLine":9,"endColumn":7},{"ruleId":"452","severity":1,"message":"457","line":36,"column":11,"nodeType":"454","messageId":"455","endLine":36,"endColumn":20},{"ruleId":"458","severity":1,"message":"459","line":206,"column":5,"nodeType":"460","endLine":206,"endColumn":14,"suggestions":"461"},{"ruleId":"462","replacedBy":"463"},{"ruleId":"464","replacedBy":"465"},{"ruleId":"452","severity":1,"message":"466","line":7,"column":10,"nodeType":"454","messageId":"455","endLine":7,"endColumn":14},{"ruleId":"452","severity":1,"message":"467","line":8,"column":8,"nodeType":"454","messageId":"455","endLine":8,"endColumn":12},{"ruleId":"452","severity":1,"message":"468","line":9,"column":8,"nodeType":"454","messageId":"455","endLine":9,"endColumn":16},{"ruleId":"452","severity":1,"message":"469","line":11,"column":8,"nodeType":"454","messageId":"455","endLine":11,"endColumn":14},{"ruleId":"452","severity":1,"message":"470","line":20,"column":9,"nodeType":"454","messageId":"455","endLine":20,"endColumn":16},{"ruleId":"458","severity":1,"message":"471","line":54,"column":5,"nodeType":"460","endLine":54,"endColumn":7,"suggestions":"472"},{"ruleId":"452","severity":1,"message":"473","line":58,"column":25,"nodeType":"454","messageId":"455","endLine":58,"endColumn":33},{"ruleId":"458","severity":1,"message":"474","line":90,"column":6,"nodeType":"460","endLine":90,"endColumn":8,"suggestions":"475"},{"ruleId":"452","severity":1,"message":"476","line":8,"column":11,"nodeType":"454","messageId":"455","endLine":8,"endColumn":17},{"ruleId":"452","severity":1,"message":"477","line":10,"column":8,"nodeType":"454","messageId":"455","endLine":10,"endColumn":18},{"ruleId":"452","severity":1,"message":"478","line":14,"column":10,"nodeType":"454","messageId":"455","endLine":14,"endColumn":20},{"ruleId":"452","severity":1,"message":"479","line":20,"column":8,"nodeType":"454","messageId":"455","endLine":20,"endColumn":24},{"ruleId":"452","severity":1,"message":"480","line":22,"column":8,"nodeType":"454","messageId":"455","endLine":22,"endColumn":16},{"ruleId":"452","severity":1,"message":"481","line":23,"column":8,"nodeType":"454","messageId":"455","endLine":23,"endColumn":22},{"ruleId":"452","severity":1,"message":"482","line":24,"column":8,"nodeType":"454","messageId":"455","endLine":24,"endColumn":25},{"ruleId":"452","severity":1,"message":"483","line":25,"column":8,"nodeType":"454","messageId":"455","endLine":25,"endColumn":23},{"ruleId":"452","severity":1,"message":"484","line":26,"column":8,"nodeType":"454","messageId":"455","endLine":26,"endColumn":22},{"ruleId":"452","severity":1,"message":"485","line":28,"column":8,"nodeType":"454","messageId":"455","endLine":28,"endColumn":25},{"ruleId":"452","severity":1,"message":"486","line":31,"column":7,"nodeType":"454","messageId":"455","endLine":31,"endColumn":15},{"ruleId":"452","severity":1,"message":"487","line":34,"column":7,"nodeType":"454","messageId":"455","endLine":34,"endColumn":16},{"ruleId":"452","severity":1,"message":"470","line":68,"column":9,"nodeType":"454","messageId":"455","endLine":68,"endColumn":16},{"ruleId":"452","severity":1,"message":"488","line":70,"column":9,"nodeType":"454","messageId":"455","endLine":70,"endColumn":25},{"ruleId":"489","severity":1,"message":"490","line":84,"column":66,"nodeType":"491","messageId":"492","endLine":84,"endColumn":67},{"ruleId":"452","severity":1,"message":"493","line":108,"column":9,"nodeType":"454","messageId":"455","endLine":108,"endColumn":22},{"ruleId":"452","severity":1,"message":"494","line":110,"column":9,"nodeType":"454","messageId":"455","endLine":110,"endColumn":23},{"ruleId":"452","severity":1,"message":"495","line":114,"column":9,"nodeType":"454","messageId":"455","endLine":114,"endColumn":28},{"ruleId":"452","severity":1,"message":"496","line":262,"column":9,"nodeType":"454","messageId":"455","endLine":262,"endColumn":20},{"ruleId":"452","severity":1,"message":"497","line":263,"column":9,"nodeType":"454","messageId":"455","endLine":263,"endColumn":28},{"ruleId":"462","replacedBy":"498"},{"ruleId":"464","replacedBy":"499"},{"ruleId":"462","replacedBy":"500"},{"ruleId":"464","replacedBy":"501"},{"ruleId":"502","severity":1,"message":"503","line":1,"column":1,"nodeType":"504","endLine":6,"endColumn":2},{"ruleId":"502","severity":1,"message":"503","line":11,"column":1,"nodeType":"504","endLine":83,"endColumn":2},{"ruleId":"505","severity":1,"message":"506","line":32,"column":5,"nodeType":"507","messageId":"508","endLine":39,"endColumn":6},{"ruleId":"509","severity":1,"message":"510","line":33,"column":7,"nodeType":"511","messageId":"512","endLine":38,"endColumn":8},{"ruleId":"505","severity":1,"message":"506","line":40,"column":5,"nodeType":"507","messageId":"508","endLine":42,"endColumn":6},{"ruleId":"502","severity":1,"message":"503","line":3,"column":1,"nodeType":"504","endLine":21,"endColumn":2},{"ruleId":"502","severity":1,"message":"513","line":3,"column":1,"nodeType":"504","endLine":26,"endColumn":2},{"ruleId":"502","severity":1,"message":"503","line":9,"column":1,"nodeType":"504","endLine":17,"endColumn":2},{"ruleId":"452","severity":1,"message":"514","line":12,"column":7,"nodeType":"454","messageId":"455","endLine":12,"endColumn":16},{"ruleId":"452","severity":1,"message":"515","line":3,"column":17,"nodeType":"454","messageId":"455","endLine":3,"endColumn":25},{"ruleId":"452","severity":1,"message":"516","line":16,"column":8,"nodeType":"454","messageId":"455","endLine":16,"endColumn":11},{"ruleId":"452","severity":1,"message":"517","line":3,"column":17,"nodeType":"454","messageId":"455","endLine":3,"endColumn":25},{"ruleId":"452","severity":1,"message":"518","line":51,"column":10,"nodeType":"454","messageId":"455","endLine":51,"endColumn":19},{"ruleId":"502","severity":1,"message":"503","line":3,"column":1,"nodeType":"504","endLine":6,"endColumn":2},{"ruleId":"462","replacedBy":"519"},{"ruleId":"464","replacedBy":"520"},{"ruleId":"502","severity":1,"message":"503","line":7,"column":1,"nodeType":"504","endLine":53,"endColumn":2},{"ruleId":"521","severity":1,"message":"522","line":145,"column":3,"nodeType":"523","messageId":"524","endLine":145,"endColumn":36},{"ruleId":"509","severity":1,"message":"510","line":149,"column":3,"nodeType":"511","messageId":"512","endLine":156,"endColumn":4},{"ruleId":"452","severity":1,"message":"466","line":1,"column":10,"nodeType":"454","messageId":"455","endLine":1,"endColumn":14},{"ruleId":"502","severity":1,"message":"513","line":3,"column":1,"nodeType":"504","endLine":31,"endColumn":2},{"ruleId":"458","severity":1,"message":"525","line":28,"column":6,"nodeType":"460","endLine":28,"endColumn":8,"suggestions":"526"},{"ruleId":"452","severity":1,"message":"527","line":37,"column":15,"nodeType":"454","messageId":"455","endLine":37,"endColumn":17},{"ruleId":"452","severity":1,"message":"528","line":37,"column":19,"nodeType":"454","messageId":"455","endLine":37,"endColumn":21},{"ruleId":"462","replacedBy":"529"},{"ruleId":"464","replacedBy":"530"},{"ruleId":"452","severity":1,"message":"531","line":3,"column":17,"nodeType":"454","messageId":"455","endLine":3,"endColumn":25},{"ruleId":"452","severity":1,"message":"532","line":13,"column":8,"nodeType":"454","messageId":"455","endLine":13,"endColumn":16},{"ruleId":"533","severity":1,"message":"534","line":110,"column":41,"nodeType":"535","messageId":"536","endLine":110,"endColumn":43},{"ruleId":"509","severity":1,"message":"510","line":70,"column":3,"nodeType":"511","messageId":"512","endLine":121,"endColumn":4},{"ruleId":"502","severity":1,"message":"513","line":5,"column":1,"nodeType":"504","endLine":47,"endColumn":2},{"ruleId":"452","severity":1,"message":"537","line":2,"column":8,"nodeType":"454","messageId":"455","endLine":2,"endColumn":18},{"ruleId":"452","severity":1,"message":"538","line":3,"column":8,"nodeType":"454","messageId":"455","endLine":3,"endColumn":18},{"ruleId":"452","severity":1,"message":"539","line":4,"column":8,"nodeType":"454","messageId":"455","endLine":4,"endColumn":20},{"ruleId":"452","severity":1,"message":"466","line":5,"column":10,"nodeType":"454","messageId":"455","endLine":5,"endColumn":14},{"ruleId":"452","severity":1,"message":"540","line":7,"column":8,"nodeType":"454","messageId":"455","endLine":7,"endColumn":18},{"ruleId":"452","severity":1,"message":"541","line":10,"column":8,"nodeType":"454","messageId":"455","endLine":10,"endColumn":20},{"ruleId":"452","severity":1,"message":"542","line":11,"column":8,"nodeType":"454","messageId":"455","endLine":11,"endColumn":17},{"ruleId":"452","severity":1,"message":"543","line":20,"column":7,"nodeType":"454","messageId":"455","endLine":20,"endColumn":13},{"ruleId":"452","severity":1,"message":"518","line":47,"column":10,"nodeType":"454","messageId":"455","endLine":47,"endColumn":19},{"ruleId":"452","severity":1,"message":"544","line":88,"column":7,"nodeType":"454","messageId":"455","endLine":88,"endColumn":20},{"ruleId":"452","severity":1,"message":"545","line":165,"column":7,"nodeType":"454","messageId":"455","endLine":165,"endColumn":16},{"ruleId":"452","severity":1,"message":"546","line":181,"column":7,"nodeType":"454","messageId":"455","endLine":181,"endColumn":25},{"ruleId":"452","severity":1,"message":"547","line":211,"column":20,"nodeType":"454","messageId":"455","endLine":211,"endColumn":34},{"ruleId":"452","severity":1,"message":"548","line":224,"column":9,"nodeType":"454","messageId":"455","endLine":224,"endColumn":23},{"ruleId":"502","severity":1,"message":"503","line":10,"column":1,"nodeType":"504","endLine":24,"endColumn":2},{"ruleId":"452","severity":1,"message":"549","line":11,"column":30,"nodeType":"454","messageId":"455","endLine":11,"endColumn":47},{"ruleId":"452","severity":1,"message":"550","line":11,"column":49,"nodeType":"454","messageId":"455","endLine":11,"endColumn":60},{"ruleId":"509","severity":1,"message":"510","line":15,"column":3,"nodeType":"511","messageId":"512","endLine":22,"endColumn":4},{"ruleId":"502","severity":1,"message":"503","line":155,"column":1,"nodeType":"504","endLine":162,"endColumn":2},{"ruleId":"551","severity":1,"message":"552","line":83,"column":3,"nodeType":"553","messageId":"536","endLine":83,"endColumn":13},{"ruleId":"502","severity":1,"message":"503","line":126,"column":1,"nodeType":"504","endLine":218,"endColumn":2},{"ruleId":"458","severity":1,"message":"554","line":144,"column":6,"nodeType":"460","endLine":144,"endColumn":19,"suggestions":"555"},{"ruleId":"452","severity":1,"message":"556","line":4,"column":8,"nodeType":"454","messageId":"455","endLine":4,"endColumn":13},{"ruleId":"452","severity":1,"message":"538","line":6,"column":8,"nodeType":"454","messageId":"455","endLine":6,"endColumn":18},{"ruleId":"452","severity":1,"message":"557","line":7,"column":8,"nodeType":"454","messageId":"455","endLine":7,"endColumn":18},{"ruleId":"452","severity":1,"message":"558","line":8,"column":8,"nodeType":"454","messageId":"455","endLine":8,"endColumn":16},{"ruleId":"452","severity":1,"message":"559","line":70,"column":9,"nodeType":"454","messageId":"455","endLine":70,"endColumn":16},{"ruleId":"452","severity":1,"message":"547","line":79,"column":9,"nodeType":"454","messageId":"455","endLine":79,"endColumn":23},{"ruleId":"521","severity":1,"message":"522","line":87,"column":3,"nodeType":"560","messageId":"524","endLine":106,"endColumn":4},{"ruleId":"452","severity":1,"message":"537","line":2,"column":8,"nodeType":"454","messageId":"455","endLine":2,"endColumn":18},{"ruleId":"452","severity":1,"message":"538","line":3,"column":8,"nodeType":"454","messageId":"455","endLine":3,"endColumn":18},{"ruleId":"452","severity":1,"message":"539","line":4,"column":8,"nodeType":"454","messageId":"455","endLine":4,"endColumn":20},{"ruleId":"452","severity":1,"message":"466","line":5,"column":10,"nodeType":"454","messageId":"455","endLine":5,"endColumn":14},{"ruleId":"452","severity":1,"message":"540","line":7,"column":8,"nodeType":"454","messageId":"455","endLine":7,"endColumn":18},{"ruleId":"452","severity":1,"message":"541","line":10,"column":8,"nodeType":"454","messageId":"455","endLine":10,"endColumn":20},{"ruleId":"452","severity":1,"message":"542","line":11,"column":8,"nodeType":"454","messageId":"455","endLine":11,"endColumn":17},{"ruleId":"452","severity":1,"message":"543","line":22,"column":7,"nodeType":"454","messageId":"455","endLine":22,"endColumn":13},{"ruleId":"452","severity":1,"message":"518","line":49,"column":10,"nodeType":"454","messageId":"455","endLine":49,"endColumn":19},{"ruleId":"452","severity":1,"message":"544","line":89,"column":7,"nodeType":"454","messageId":"455","endLine":89,"endColumn":20},{"ruleId":"452","severity":1,"message":"561","line":193,"column":7,"nodeType":"454","messageId":"455","endLine":193,"endColumn":14},{"ruleId":"452","severity":1,"message":"547","line":216,"column":20,"nodeType":"454","messageId":"455","endLine":216,"endColumn":34},{"ruleId":"452","severity":1,"message":"548","line":229,"column":9,"nodeType":"454","messageId":"455","endLine":229,"endColumn":23},{"ruleId":"502","severity":1,"message":"503","line":32,"column":1,"nodeType":"504","endLine":172,"endColumn":2},{"ruleId":"458","severity":1,"message":"562","line":54,"column":6,"nodeType":"460","endLine":54,"endColumn":17,"suggestions":"563"},{"ruleId":"458","severity":1,"message":"564","line":90,"column":6,"nodeType":"460","endLine":90,"endColumn":20,"suggestions":"565"},{"ruleId":"458","severity":1,"message":"566","line":136,"column":6,"nodeType":"460","endLine":142,"endColumn":4,"suggestions":"567"},{"ruleId":"452","severity":1,"message":"537","line":2,"column":8,"nodeType":"454","messageId":"455","endLine":2,"endColumn":18},{"ruleId":"452","severity":1,"message":"538","line":3,"column":8,"nodeType":"454","messageId":"455","endLine":3,"endColumn":18},{"ruleId":"452","severity":1,"message":"539","line":4,"column":8,"nodeType":"454","messageId":"455","endLine":4,"endColumn":20},{"ruleId":"452","severity":1,"message":"466","line":5,"column":10,"nodeType":"454","messageId":"455","endLine":5,"endColumn":14},{"ruleId":"452","severity":1,"message":"540","line":7,"column":8,"nodeType":"454","messageId":"455","endLine":7,"endColumn":18},{"ruleId":"452","severity":1,"message":"541","line":10,"column":8,"nodeType":"454","messageId":"455","endLine":10,"endColumn":20},{"ruleId":"452","severity":1,"message":"543","line":20,"column":7,"nodeType":"454","messageId":"455","endLine":20,"endColumn":13},{"ruleId":"452","severity":1,"message":"518","line":48,"column":10,"nodeType":"454","messageId":"455","endLine":48,"endColumn":19},{"ruleId":"452","severity":1,"message":"544","line":92,"column":7,"nodeType":"454","messageId":"455","endLine":92,"endColumn":20},{"ruleId":"452","severity":1,"message":"545","line":180,"column":7,"nodeType":"454","messageId":"455","endLine":180,"endColumn":16},{"ruleId":"452","severity":1,"message":"546","line":196,"column":7,"nodeType":"454","messageId":"455","endLine":196,"endColumn":25},{"ruleId":"452","severity":1,"message":"561","line":205,"column":7,"nodeType":"454","messageId":"455","endLine":205,"endColumn":14},{"ruleId":"452","severity":1,"message":"547","line":228,"column":20,"nodeType":"454","messageId":"455","endLine":228,"endColumn":34},{"ruleId":"452","severity":1,"message":"548","line":241,"column":9,"nodeType":"454","messageId":"455","endLine":241,"endColumn":23},{"ruleId":"568","severity":1,"message":"569","line":249,"column":13,"nodeType":"570","messageId":"571","endLine":249,"endColumn":48},{"ruleId":"502","severity":1,"message":"503","line":6,"column":1,"nodeType":"504","endLine":27,"endColumn":2},{"ruleId":"502","severity":1,"message":"503","line":8,"column":1,"nodeType":"504","endLine":170,"endColumn":2},{"ruleId":"452","severity":1,"message":"572","line":4,"column":27,"nodeType":"454","messageId":"455","endLine":4,"endColumn":36},{"ruleId":"502","severity":1,"message":"503","line":24,"column":1,"nodeType":"504","endLine":60,"endColumn":2},{"ruleId":"502","severity":1,"message":"503","line":7,"column":1,"nodeType":"504","endLine":99,"endColumn":2},{"ruleId":"452","severity":1,"message":"573","line":19,"column":3,"nodeType":"454","messageId":"455","endLine":19,"endColumn":22},{"ruleId":"452","severity":1,"message":"574","line":30,"column":8,"nodeType":"454","messageId":"455","endLine":30,"endColumn":18},{"ruleId":"452","severity":1,"message":"575","line":152,"column":10,"nodeType":"454","messageId":"455","endLine":152,"endColumn":26},{"ruleId":"452","severity":1,"message":"576","line":152,"column":28,"nodeType":"454","messageId":"455","endLine":152,"endColumn":50},{"ruleId":"452","severity":1,"message":"577","line":156,"column":9,"nodeType":"454","messageId":"455","endLine":156,"endColumn":19},{"ruleId":"452","severity":1,"message":"578","line":162,"column":38,"nodeType":"454","messageId":"455","endLine":162,"endColumn":44},{"ruleId":"458","severity":1,"message":"579","line":181,"column":49,"nodeType":"460","endLine":181,"endColumn":61,"suggestions":"580"},{"ruleId":"452","severity":1,"message":"581","line":183,"column":9,"nodeType":"454","messageId":"455","endLine":183,"endColumn":22},{"ruleId":"452","severity":1,"message":"582","line":248,"column":13,"nodeType":"454","messageId":"455","endLine":248,"endColumn":24},{"ruleId":"452","severity":1,"message":"583","line":248,"column":26,"nodeType":"454","messageId":"455","endLine":248,"endColumn":38},{"ruleId":"502","severity":1,"message":"503","line":12,"column":1,"nodeType":"504","endLine":23,"endColumn":2},{"ruleId":"502","severity":1,"message":"503","line":5,"column":1,"nodeType":"504","endLine":23,"endColumn":2},{"ruleId":"452","severity":1,"message":"584","line":2,"column":10,"nodeType":"454","messageId":"455","endLine":2,"endColumn":20},{"ruleId":"452","severity":1,"message":"585","line":3,"column":8,"nodeType":"454","messageId":"455","endLine":3,"endColumn":14},{"ruleId":"533","severity":1,"message":"534","line":15,"column":19,"nodeType":"535","messageId":"536","endLine":15,"endColumn":21},{"ruleId":"533","severity":1,"message":"534","line":18,"column":19,"nodeType":"535","messageId":"536","endLine":18,"endColumn":21},{"ruleId":"533","severity":1,"message":"534","line":23,"column":19,"nodeType":"535","messageId":"536","endLine":23,"endColumn":21},{"ruleId":"533","severity":1,"message":"534","line":26,"column":19,"nodeType":"535","messageId":"536","endLine":26,"endColumn":21},{"ruleId":"533","severity":1,"message":"534","line":31,"column":19,"nodeType":"535","messageId":"536","endLine":31,"endColumn":21},{"ruleId":"533","severity":1,"message":"534","line":34,"column":19,"nodeType":"535","messageId":"536","endLine":34,"endColumn":21},{"ruleId":"502","severity":1,"message":"586","line":1,"column":1,"nodeType":"504","endLine":1,"endColumn":280},{"ruleId":"452","severity":1,"message":"587","line":1,"column":16,"nodeType":"454","messageId":"455","endLine":1,"endColumn":20},{"ruleId":"452","severity":1,"message":"588","line":1,"column":22,"nodeType":"454","messageId":"455","endLine":1,"endColumn":28},{"ruleId":"452","severity":1,"message":"589","line":1,"column":30,"nodeType":"454","messageId":"455","endLine":1,"endColumn":36},{"ruleId":"502","severity":1,"message":"513","line":3,"column":1,"nodeType":"504","endLine":56,"endColumn":2},{"ruleId":"452","severity":1,"message":"466","line":3,"column":10,"nodeType":"454","messageId":"455","endLine":3,"endColumn":14},{"ruleId":"452","severity":1,"message":"590","line":14,"column":10,"nodeType":"454","messageId":"455","endLine":14,"endColumn":26},{"ruleId":"452","severity":1,"message":"591","line":2,"column":32,"nodeType":"454","messageId":"455","endLine":2,"endColumn":38},{"ruleId":"452","severity":1,"message":"592","line":4,"column":34,"nodeType":"454","messageId":"455","endLine":4,"endColumn":42},{"ruleId":"452","severity":1,"message":"593","line":5,"column":8,"nodeType":"454","messageId":"455","endLine":5,"endColumn":14},{"ruleId":"452","severity":1,"message":"594","line":87,"column":9,"nodeType":"454","messageId":"455","endLine":87,"endColumn":24},{"ruleId":"452","severity":1,"message":"595","line":112,"column":11,"nodeType":"454","messageId":"455","endLine":112,"endColumn":14},{"ruleId":"452","severity":1,"message":"596","line":315,"column":15,"nodeType":"454","messageId":"455","endLine":315,"endColumn":26},{"ruleId":"521","severity":1,"message":"522","line":489,"column":11,"nodeType":"560","messageId":"524","endLine":489,"endColumn":23},{"ruleId":"452","severity":1,"message":"596","line":496,"column":19,"nodeType":"454","messageId":"455","endLine":496,"endColumn":30},{"ruleId":"452","severity":1,"message":"597","line":673,"column":50,"nodeType":"454","messageId":"455","endLine":673,"endColumn":61},{"ruleId":"505","severity":1,"message":"506","line":737,"column":9,"nodeType":"507","messageId":"508","endLine":737,"endColumn":28},{"ruleId":"452","severity":1,"message":"598","line":762,"column":13,"nodeType":"454","messageId":"455","endLine":762,"endColumn":23},{"ruleId":"452","severity":1,"message":"599","line":804,"column":15,"nodeType":"454","messageId":"455","endLine":804,"endColumn":21},{"ruleId":"452","severity":1,"message":"599","line":823,"column":15,"nodeType":"454","messageId":"455","endLine":823,"endColumn":21},{"ruleId":"521","severity":1,"message":"522","line":1019,"column":7,"nodeType":"600","messageId":"524","endLine":1019,"endColumn":13},{"ruleId":"533","severity":1,"message":"534","line":1055,"column":44,"nodeType":"535","messageId":"536","endLine":1055,"endColumn":46},"no-unused-vars","'ToolEnum' is defined but never used.","Identifier","unusedVar","'Mode' is defined but never used.","'alphaBase' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ih', 'iw', 'onRegionChange', and 'svg'. Either include them or remove the dependency array. If 'onRegionChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["601"],"no-native-reassign",["602"],"no-negated-in-lhs",["603"],"'grey' is defined but never used.","'List' is defined but never used.","'ListItem' is defined but never used.","'Avatar' is defined but never used.","'classes' is assigned a value but never used.","React Hook useLayoutEffect has missing dependencies: 'history', 'images', 'jobName', and 'onSelect'. Either include them or remove the dependency array. If 'onSelect' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["604"],"'pathname' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'history', 'images', 'jobName', and 'onSelect'. Either include them or remove the dependency array. If 'onSelect' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["605"],"'params' is assigned a value but never used.","'classnames' is defined but never used.","'FullScreen' is defined but never used.","'KeyframeTimeline' is defined but never used.","'DebugBox' is defined but never used.","'TagsSidebarBox' is defined but never used.","'KeyframesSelector' is defined but never used.","'TaskDescription' is defined but never used.","'RegionSelector' is defined but never used.","'HistorySidebarBox' is defined but never used.","'emptyArr' is assigned a value but never used.","'HotkeyDiv' is assigned a value but never used.","'fullScreenHandle' is assigned a value but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","'isAVideoFrame' is assigned a value but never used.","'hotkeyHandlers' is assigned a value but never used.","'refocusOnMouseEvent' is assigned a value but never used.","'debugModeOn' is assigned a value but never used.","'nextImageHasRegions' is assigned a value but never used.",["602"],["603"],["602"],["603"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","Assign object to a variable before exporting as module default","'useStyles' is assigned a value but never used.","'setState' is defined but never used.","'Box' is defined but never used.","'Fragment' is defined but never used.","'mouseOver' is assigned a value but never used.",["602"],["603"],"no-unreachable","Unreachable code.","ThrowStatement","unreachableCode","React Hook useEffect has missing dependencies: 'isClient' and 'setState'. Either include them or remove the dependency array.",["606"],"'iw' is assigned a value but never used.","'ih' is assigned a value but never used.",["602"],["603"],"'useState' is defined but never used.","'UndoIcon' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'ButtonBase' is defined but never used.","'ExpandIcon' is defined but never used.","'ContractIcon' is defined but never used.","'RegionIcon' is defined but never used.","'PieChartIcon' is defined but never used.","'TrashIcon' is defined but never used.","'colors' is assigned a value but never used.","'MemoRowHeader' is assigned a value but never used.","'Container' is assigned a value but never used.","'InnerSliderContent' is assigned a value but never used.","'toggleExpanded' is assigned a value but never used.","'containerStyle' is assigned a value but never used.","'pathToActiveImage' is assigned a value but never used.","'activeImage' is assigned a value but never used.","no-dupe-keys","Duplicate key 'marginLeft'.","ObjectExpression","React Hook useEffect has a missing dependency: 'instantCurrentTime'. Either include it or remove the dependency array.",["607"],"'Paper' is defined but never used.","'IconButton' is defined but never used.","'Collapse' is defined but never used.","'content' is assigned a value but never used.","ReturnStatement","'MemoRow' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'videoPlaying'. Either include it or remove the dependency array.",["608"],"React Hook useEffect has missing dependencies: 'onChangeVideoPlaying', 'onChangeVideoTime', 'settings.videoPlaybackSpeed', and 'videoTime'. Either include them or remove the dependency array. If 'onChangeVideoTime' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["609"],"React Hook useMemo has an unnecessary dependency: 'activeImage.filter'. Either exclude it or remove the dependency array.",["610"],"no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","'asMutable' is defined but never used.","'KeypointsDefinition' is defined but never used.","'RegionTags' is defined but never used.","'maskImagesLoaded' is assigned a value but never used.","'changeMaskImagesLoaded' is assigned a value but never used.","'maskImages' is assigned a value but never used.","'zoomIn' is assigned a value but never used.","React Hook useLayoutEffect has missing dependencies: 'changeMat' and 'mat'. Either include them or remove the dependency array.",["611"],"'innerMousePos' is assigned a value but never used.","'clientWidth' is assigned a value but never used.","'clientHeight' is assigned a value but never used.","'withStyles' is defined but never used.","'Slider' is defined but never used.","Assign literal to a variable before exporting as module default","'blue' is defined but never used.","'orange' is defined but never used.","'purple' is defined but never used.","'forceRenderState' is assigned a value but never used.","'Action' is defined but never used.","'updateIn' is defined but never used.","'moment' is defined but never used.","'unselectRegions' is assigned a value but never used.","'src' is assigned a value but never used.","'mouseDownAt' is assigned a value but never used.","'connections' is assigned a value but never used.","'jointStart' is assigned a value but never used.","'region' is assigned a value but never used.","BreakStatement",{"desc":"612","fix":"613"},"no-global-assign","no-unsafe-negation",{"desc":"614","fix":"615"},{"desc":"614","fix":"616"},{"desc":"617","fix":"618"},{"desc":"619","fix":"620"},{"desc":"621","fix":"622"},{"desc":"623","fix":"624"},{"desc":"625","fix":"626"},{"desc":"627","fix":"628"},"Update the dependencies array to be: [ih, iw, onRegionChange, regions, svg]",{"range":"629","text":"630"},"Update the dependencies array to be: [history, images, jobName, onSelect]",{"range":"631","text":"632"},{"range":"633","text":"632"},"Update the dependencies array to be: [isClient, setState]",{"range":"634","text":"635"},"Update the dependencies array to be: [currentTime, instantCurrentTime]",{"range":"636","text":"637"},"Update the dependencies array to be: [videoPlaying, videoTime]",{"range":"638","text":"639"},"Update the dependencies array to be: [onChangeVideoPlaying, onChangeVideoTime, settings.videoPlaybackSpeed, videoPlaying, videoTime]",{"range":"640","text":"641"},"Update the dependencies array to be: [imagePosition.topLeft.x, imagePosition.topLeft.y, imagePosition.bottomRight.x, imagePosition.bottomRight.y]",{"range":"642","text":"643"},"Update the dependencies array to be: [changeMat, mat, windowSize]",{"range":"644","text":"645"},[6153,6162],"[ih, iw, onRegionChange, regions, svg]",[1655,1657],"[history, images, jobName, onSelect]",[2716,2718],[724,726],"[isClient, setState]",[3357,3370],"[currentTime, instantCurrentTime]",[1097,1108],"[videoPlaying, videoTime]",[2029,2043],"[onChangeVideoPlaying, onChangeVideoTime, settings.videoPlaybackSpeed, videoPlaying, videoTime]",[3895,4051],"[imagePosition.topLeft.x, imagePosition.topLeft.y, imagePosition.bottomRight.x, imagePosition.bottomRight.y]",[5265,5277],"[changeMat, mat, windowSize]"]